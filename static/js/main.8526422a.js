/*! For license information please see main.8526422a.js.LICENSE.txt */
(()=>{var e={4:(e,t,n)=>{"use strict";var r=n(853),i=n(43),o=n(950);function a(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function l(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function c(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function u(e){if(l(e)!==e)throw Error(a(188))}function h(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=h(e)))return t;e=e.sibling}return null}var d=Object.assign,p=Symbol.for("react.element"),f=Symbol.for("react.transitional.element"),m=Symbol.for("react.portal"),g=Symbol.for("react.fragment"),v=Symbol.for("react.strict_mode"),y=Symbol.for("react.profiler"),_=Symbol.for("react.provider"),b=Symbol.for("react.consumer"),w=Symbol.for("react.context"),k=Symbol.for("react.forward_ref"),S=Symbol.for("react.suspense"),x=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),T=Symbol.for("react.lazy");Symbol.for("react.scope");var E=Symbol.for("react.activity");Symbol.for("react.legacy_hidden"),Symbol.for("react.tracing_marker");var A=Symbol.for("react.memo_cache_sentinel");Symbol.for("react.view_transition");var O=Symbol.iterator;function M(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=O&&e[O]||e["@@iterator"])?e:null}var P=Symbol.for("react.client.reference");function N(e){if(null==e)return null;if("function"===typeof e)return e.$$typeof===P?null:e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case g:return"Fragment";case y:return"Profiler";case v:return"StrictMode";case S:return"Suspense";case x:return"SuspenseList";case E:return"Activity"}if("object"===typeof e)switch(e.$$typeof){case m:return"Portal";case w:return(e.displayName||"Context")+".Provider";case b:return(e._context.displayName||"Context")+".Consumer";case k:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case C:return null!==(t=e.displayName||null)?t:N(e.type)||"Memo";case T:t=e._payload,e=e._init;try{return N(e(t))}catch(n){}}return null}var I=Array.isArray,R=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,D=o.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,L={pending:!1,data:null,method:null,action:null},j=[],F=-1;function V(e){return{current:e}}function z(e){0>F||(e.current=j[F],j[F]=null,F--)}function q(e,t){F++,j[F]=e.current,e.current=t}var B=V(null),U=V(null),W=V(null),H=V(null);function $(e,t){switch(q(W,t),q(U,e),q(B,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?ih(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)e=oh(t=ih(t),e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}z(B),q(B,e)}function G(){z(B),z(U),z(W)}function Y(e){null!==e.memoizedState&&q(H,e);var t=B.current,n=oh(t,e.type);t!==n&&(q(U,e),q(B,n))}function Q(e){U.current===e&&(z(B),z(U)),H.current===e&&(z(H),Yh._currentValue=L)}var X=Object.prototype.hasOwnProperty,Z=r.unstable_scheduleCallback,K=r.unstable_cancelCallback,J=r.unstable_shouldYield,ee=r.unstable_requestPaint,te=r.unstable_now,ne=r.unstable_getCurrentPriorityLevel,re=r.unstable_ImmediatePriority,ie=r.unstable_UserBlockingPriority,oe=r.unstable_NormalPriority,ae=r.unstable_LowPriority,se=r.unstable_IdlePriority,le=r.log,ce=r.unstable_setDisableYieldValue,ue=null,he=null;function de(e){if("function"===typeof le&&ce(e),he&&"function"===typeof he.setStrictMode)try{he.setStrictMode(ue,e)}catch(t){}}var pe=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(fe(e)/me|0)|0},fe=Math.log,me=Math.LN2;var ge=256,ve=4194304;function ye(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194048&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function _e(e,t,n){var r=e.pendingLanes;if(0===r)return 0;var i=0,o=e.suspendedLanes,a=e.pingedLanes;e=e.warmLanes;var s=134217727&r;return 0!==s?0!==(r=s&~o)?i=ye(r):0!==(a&=s)?i=ye(a):n||0!==(n=s&~e)&&(i=ye(n)):0!==(s=r&~o)?i=ye(s):0!==a?i=ye(a):n||0!==(n=r&~e)&&(i=ye(n)),0===i?0:0!==t&&t!==i&&0===(t&o)&&((o=i&-i)>=(n=t&-t)||32===o&&0!==(4194048&n))?t:i}function be(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function we(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function ke(){var e=ge;return 0===(4194048&(ge<<=1))&&(ge=256),e}function Se(){var e=ve;return 0===(62914560&(ve<<=1))&&(ve=4194304),e}function xe(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ce(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Te(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-pe(t);e.entangledLanes|=t,e.entanglements[r]=1073741824|e.entanglements[r]|4194090&n}function Ee(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-pe(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}function Ae(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Oe(e){return 2<(e&=-e)?8<e?0!==(134217727&e)?32:268435456:8:2}function Me(){var e=D.p;return 0!==e?e:void 0===(e=window.event)?32:cd(e.type)}var Pe=Math.random().toString(36).slice(2),Ne="__reactFiber$"+Pe,Ie="__reactProps$"+Pe,Re="__reactContainer$"+Pe,De="__reactEvents$"+Pe,Le="__reactListeners$"+Pe,je="__reactHandles$"+Pe,Fe="__reactResources$"+Pe,Ve="__reactMarker$"+Pe;function ze(e){delete e[Ne],delete e[Ie],delete e[De],delete e[Le],delete e[je]}function qe(e){var t=e[Ne];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Re]||n[Ne]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=_h(e);null!==e;){if(n=e[Ne])return n;e=_h(e)}return t}n=(e=n).parentNode}return null}function Be(e){if(e=e[Ne]||e[Re]){var t=e.tag;if(5===t||6===t||13===t||26===t||27===t||3===t)return e}return null}function Ue(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(a(33))}function We(e){var t=e[Fe];return t||(t=e[Fe]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function He(e){e[Ve]=!0}var $e=new Set,Ge={};function Ye(e,t){Qe(e,t),Qe(e+"Capture",t)}function Qe(e,t){for(Ge[e]=t,e=0;e<t.length;e++)$e.add(t[e])}var Xe,Ze,Ke=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Je={},et={};function tt(e,t,n){if(i=t,X.call(et,i)||!X.call(Je,i)&&(Ke.test(i)?et[i]=!0:(Je[i]=!0,0)))if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var r=t.toLowerCase().slice(0,5);if("data-"!==r&&"aria-"!==r)return void e.removeAttribute(t)}e.setAttribute(t,""+n)}var i}function nt(e,t,n){if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+n)}}function rt(e,t,n,r){if(null===r)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(n)}e.setAttributeNS(t,n,""+r)}}function it(e){if(void 0===Xe)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Xe=t&&t[1]||"",Ze=-1<n.stack.indexOf("\n    at")?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+Xe+e+Ze}var ot=!1;function at(e,t){if(!e||ot)return"";ot=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(i){var r=i}Reflect.construct(e,[],n)}else{try{n.call()}catch(o){r=o}e.call(n.prototype)}}else{try{throw Error()}catch(a){r=a}(n=e())&&"function"===typeof n.catch&&n.catch((function(){}))}}catch(s){if(s&&r&&"string"===typeof s.stack)return[s.stack,r.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var o=r.DetermineComponentFrameRoot(),a=o[0],s=o[1];if(a&&s){var l=a.split("\n"),c=s.split("\n");for(i=r=0;r<l.length&&!l[r].includes("DetermineComponentFrameRoot");)r++;for(;i<c.length&&!c[i].includes("DetermineComponentFrameRoot");)i++;if(r===l.length||i===c.length)for(r=l.length-1,i=c.length-1;1<=r&&0<=i&&l[r]!==c[i];)i--;for(;1<=r&&0<=i;r--,i--)if(l[r]!==c[i]){if(1!==r||1!==i)do{if(r--,0>--i||l[r]!==c[i]){var u="\n"+l[r].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=r&&0<=i);break}}}finally{ot=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?it(n):""}function st(e){switch(e.tag){case 26:case 27:case 5:return it(e.type);case 16:return it("Lazy");case 13:return it("Suspense");case 19:return it("SuspenseList");case 0:case 15:return at(e.type,!1);case 11:return at(e.type.render,!1);case 1:return at(e.type,!0);case 31:return it("Activity");default:return""}}function lt(e){try{var t="";do{t+=st(e),e=e.return}while(e);return t}catch(n){return"\nError generating stack: "+n.message+"\n"+n.stack}}function ct(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function ut(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function ht(e){e._valueTracker||(e._valueTracker=function(e){var t=ut(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function dt(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=ut(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function pt(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var ft=/[\n"\\]/g;function mt(e){return e.replace(ft,(function(e){return"\\"+e.charCodeAt(0).toString(16)+" "}))}function gt(e,t,n,r,i,o,a,s){e.name="",null!=a&&"function"!==typeof a&&"symbol"!==typeof a&&"boolean"!==typeof a?e.type=a:e.removeAttribute("type"),null!=t?"number"===a?(0===t&&""===e.value||e.value!=t)&&(e.value=""+ct(t)):e.value!==""+ct(t)&&(e.value=""+ct(t)):"submit"!==a&&"reset"!==a||e.removeAttribute("value"),null!=t?yt(e,a,ct(t)):null!=n?yt(e,a,ct(n)):null!=r&&e.removeAttribute("value"),null==i&&null!=o&&(e.defaultChecked=!!o),null!=i&&(e.checked=i&&"function"!==typeof i&&"symbol"!==typeof i),null!=s&&"function"!==typeof s&&"symbol"!==typeof s&&"boolean"!==typeof s?e.name=""+ct(s):e.removeAttribute("name")}function vt(e,t,n,r,i,o,a,s){if(null!=o&&"function"!==typeof o&&"symbol"!==typeof o&&"boolean"!==typeof o&&(e.type=o),null!=t||null!=n){if(!("submit"!==o&&"reset"!==o||void 0!==t&&null!==t))return;n=null!=n?""+ct(n):"",t=null!=t?""+ct(t):n,s||t===e.value||(e.value=t),e.defaultValue=t}r="function"!==typeof(r=null!=r?r:i)&&"symbol"!==typeof r&&!!r,e.checked=s?e.checked:!!r,e.defaultChecked=!!r,null!=a&&"function"!==typeof a&&"symbol"!==typeof a&&"boolean"!==typeof a&&(e.name=a)}function yt(e,t,n){"number"===t&&pt(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function _t(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ct(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function bt(e,t,n){null==t||((t=""+ct(t))!==e.value&&(e.value=t),null!=n)?e.defaultValue=null!=n?""+ct(n):"":e.defaultValue!==t&&(e.defaultValue=t)}function wt(e,t,n,r){if(null==t){if(null!=r){if(null!=n)throw Error(a(92));if(I(r)){if(1<r.length)throw Error(a(93));r=r[0]}n=r}null==n&&(n=""),t=n}n=ct(t),e.defaultValue=n,(r=e.textContent)===n&&""!==r&&null!==r&&(e.value=r)}function kt(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var St=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function xt(e,t,n){var r=0===t.indexOf("--");null==n||"boolean"===typeof n||""===n?r?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":r?e.setProperty(t,n):"number"!==typeof n||0===n||St.has(t)?"float"===t?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Ct(e,t,n){if(null!=t&&"object"!==typeof t)throw Error(a(62));if(e=e.style,null!=n){for(var r in n)!n.hasOwnProperty(r)||null!=t&&t.hasOwnProperty(r)||(0===r.indexOf("--")?e.setProperty(r,""):"float"===r?e.cssFloat="":e[r]="");for(var i in t)r=t[i],t.hasOwnProperty(i)&&n[i]!==r&&xt(e,i,r)}else for(var o in t)t.hasOwnProperty(o)&&xt(e,o,t[o])}function Tt(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Et=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),At=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ot(e){return At.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Mt=null;function Pt(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Nt=null,It=null;function Rt(e){var t=Be(e);if(t&&(e=t.stateNode)){var n=e[Ie]||null;e:switch(e=t.stateNode,t.type){case"input":if(gt(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+mt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=r[Ie]||null;if(!i)throw Error(a(90));gt(r,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(t=0;t<n.length;t++)(r=n[t]).form===e.form&&dt(r)}break e;case"textarea":bt(e,n.value,n.defaultValue);break e;case"select":null!=(t=n.value)&&_t(e,!!n.multiple,t,!1)}}}var Dt=!1;function Lt(e,t,n){if(Dt)return e(t,n);Dt=!0;try{return e(t)}finally{if(Dt=!1,(null!==Nt||null!==It)&&(qc(),Nt&&(t=Nt,e=It,It=Nt=null,Rt(t),e)))for(t=0;t<e.length;t++)Rt(e[t])}}function jt(e,t){var n=e.stateNode;if(null===n)return null;var r=n[Ie]||null;if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Ft=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),Vt=!1;if(Ft)try{var zt={};Object.defineProperty(zt,"passive",{get:function(){Vt=!0}}),window.addEventListener("test",zt,zt),window.removeEventListener("test",zt,zt)}catch(Id){Vt=!1}var qt=null,Bt=null,Ut=null;function Wt(){if(Ut)return Ut;var e,t,n=Bt,r=n.length,i="value"in qt?qt.value:qt.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);return Ut=i.slice(e,1<t?1-t:void 0)}function Ht(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function $t(){return!0}function Gt(){return!1}function Yt(e){function t(t,n,r,i,o){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?$t:Gt,this.isPropagationStopped=Gt,this}return d(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=$t)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=$t)},persist:function(){},isPersistent:$t}),t}var Qt,Xt,Zt,Kt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Jt=Yt(Kt),en=d({},Kt,{view:0,detail:0}),tn=Yt(en),nn=d({},en,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Zt&&(Zt&&"mousemove"===e.type?(Qt=e.screenX-Zt.screenX,Xt=e.screenY-Zt.screenY):Xt=Qt=0,Zt=e),Qt)},movementY:function(e){return"movementY"in e?e.movementY:Xt}}),rn=Yt(nn),on=Yt(d({},nn,{dataTransfer:0})),an=Yt(d({},en,{relatedTarget:0})),sn=Yt(d({},Kt,{animationName:0,elapsedTime:0,pseudoElement:0})),ln=Yt(d({},Kt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),cn=Yt(d({},Kt,{data:0})),un={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},hn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},dn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function pn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=dn[e])&&!!t[e]}function fn(){return pn}var mn=Yt(d({},en,{key:function(e){if(e.key){var t=un[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Ht(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?hn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fn,charCode:function(e){return"keypress"===e.type?Ht(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Ht(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),gn=Yt(d({},nn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),vn=Yt(d({},en,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fn})),yn=Yt(d({},Kt,{propertyName:0,elapsedTime:0,pseudoElement:0})),_n=Yt(d({},nn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),bn=Yt(d({},Kt,{newState:0,oldState:0})),wn=[9,13,27,32],kn=Ft&&"CompositionEvent"in window,Sn=null;Ft&&"documentMode"in document&&(Sn=document.documentMode);var xn=Ft&&"TextEvent"in window&&!Sn,Cn=Ft&&(!kn||Sn&&8<Sn&&11>=Sn),Tn=String.fromCharCode(32),En=!1;function An(e,t){switch(e){case"keyup":return-1!==wn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function On(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Mn=!1;var Pn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Nn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Pn[e.type]:"textarea"===t}function In(e,t,n,r){Nt?It?It.push(r):It=[r]:Nt=r,0<(t=Wu(t,"onChange")).length&&(n=new Jt("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Rn=null,Dn=null;function Ln(e){Lu(e,0)}function jn(e){if(dt(Ue(e)))return e}function Fn(e,t){if("change"===e)return t}var Vn=!1;if(Ft){var zn;if(Ft){var qn="oninput"in document;if(!qn){var Bn=document.createElement("div");Bn.setAttribute("oninput","return;"),qn="function"===typeof Bn.oninput}zn=qn}else zn=!1;Vn=zn&&(!document.documentMode||9<document.documentMode)}function Un(){Rn&&(Rn.detachEvent("onpropertychange",Wn),Dn=Rn=null)}function Wn(e){if("value"===e.propertyName&&jn(Dn)){var t=[];In(t,Dn,e,Pt(e)),Lt(Ln,t)}}function Hn(e,t,n){"focusin"===e?(Un(),Dn=n,(Rn=t).attachEvent("onpropertychange",Wn)):"focusout"===e&&Un()}function $n(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return jn(Dn)}function Gn(e,t){if("click"===e)return jn(t)}function Yn(e,t){if("input"===e||"change"===e)return jn(t)}var Qn="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function Xn(e,t){if(Qn(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!X.call(t,i)||!Qn(e[i],t[i]))return!1}return!0}function Zn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Kn(e,t){var n,r=Zn(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Zn(r)}}function Jn(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?Jn(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function er(e){for(var t=pt((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=pt((e=t.contentWindow).document)}return t}function tr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var nr=Ft&&"documentMode"in document&&11>=document.documentMode,rr=null,ir=null,or=null,ar=!1;function sr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;ar||null==rr||rr!==pt(r)||("selectionStart"in(r=rr)&&tr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},or&&Xn(or,r)||(or=r,0<(r=Wu(ir,"onSelect")).length&&(t=new Jt("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=rr)))}function lr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var cr={animationend:lr("Animation","AnimationEnd"),animationiteration:lr("Animation","AnimationIteration"),animationstart:lr("Animation","AnimationStart"),transitionrun:lr("Transition","TransitionRun"),transitionstart:lr("Transition","TransitionStart"),transitioncancel:lr("Transition","TransitionCancel"),transitionend:lr("Transition","TransitionEnd")},ur={},hr={};function dr(e){if(ur[e])return ur[e];if(!cr[e])return e;var t,n=cr[e];for(t in n)if(n.hasOwnProperty(t)&&t in hr)return ur[e]=n[t];return e}Ft&&(hr=document.createElement("div").style,"AnimationEvent"in window||(delete cr.animationend.animation,delete cr.animationiteration.animation,delete cr.animationstart.animation),"TransitionEvent"in window||delete cr.transitionend.transition);var pr=dr("animationend"),fr=dr("animationiteration"),mr=dr("animationstart"),gr=dr("transitionrun"),vr=dr("transitionstart"),yr=dr("transitioncancel"),_r=dr("transitionend"),br=new Map,wr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function kr(e,t){br.set(e,t),Ye(t,[e])}wr.push("scrollEnd");var Sr=new WeakMap;function xr(e,t){if("object"===typeof e&&null!==e){var n=Sr.get(e);return void 0!==n?n:(t={value:e,source:t,stack:lt(t)},Sr.set(e,t),t)}return{value:e,source:t,stack:lt(t)}}var Cr=[],Tr=0,Er=0;function Ar(){for(var e=Tr,t=Er=Tr=0;t<e;){var n=Cr[t];Cr[t++]=null;var r=Cr[t];Cr[t++]=null;var i=Cr[t];Cr[t++]=null;var o=Cr[t];if(Cr[t++]=null,null!==r&&null!==i){var a=r.pending;null===a?i.next=i:(i.next=a.next,a.next=i),r.pending=i}0!==o&&Nr(n,i,o)}}function Or(e,t,n,r){Cr[Tr++]=e,Cr[Tr++]=t,Cr[Tr++]=n,Cr[Tr++]=r,Er|=r,e.lanes|=r,null!==(e=e.alternate)&&(e.lanes|=r)}function Mr(e,t,n,r){return Or(e,t,n,r),Ir(e)}function Pr(e,t){return Or(e,null,null,t),Ir(e)}function Nr(e,t,n){e.lanes|=n;var r=e.alternate;null!==r&&(r.lanes|=n);for(var i=!1,o=e.return;null!==o;)o.childLanes|=n,null!==(r=o.alternate)&&(r.childLanes|=n),22===o.tag&&(null===(e=o.stateNode)||1&e._visibility||(i=!0)),e=o,o=o.return;return 3===e.tag?(o=e.stateNode,i&&null!==t&&(i=31-pe(n),null===(r=(e=o.hiddenUpdates)[i])?e[i]=[t]:r.push(t),t.lane=536870912|n),o):null}function Ir(e){if(50<Nc)throw Nc=0,Ic=null,Error(a(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var Rr={};function Dr(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Lr(e,t,n,r){return new Dr(e,t,n,r)}function jr(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Fr(e,t){var n=e.alternate;return null===n?((n=Lr(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=65011712&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Vr(e,t){e.flags&=65011714;var n=e.alternate;return null===n?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function zr(e,t,n,r,i,o){var s=0;if(r=e,"function"===typeof e)jr(e)&&(s=1);else if("string"===typeof e)s=function(e,t,n){if(1===n||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!==typeof t.precedence||"string"!==typeof t.href||""===t.href)break;return!0;case"link":if("string"!==typeof t.rel||"string"!==typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"===typeof t.precedence&&null==e);case"script":if(t.async&&"function"!==typeof t.async&&"symbol"!==typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"===typeof t.src)return!0}return!1}(e,n,B.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case E:return(e=Lr(31,n,t,i)).elementType=E,e.lanes=o,e;case g:return qr(n.children,i,o,t);case v:s=8,i|=24;break;case y:return(e=Lr(12,n,t,2|i)).elementType=y,e.lanes=o,e;case S:return(e=Lr(13,n,t,i)).elementType=S,e.lanes=o,e;case x:return(e=Lr(19,n,t,i)).elementType=x,e.lanes=o,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case _:case w:s=10;break e;case b:s=9;break e;case k:s=11;break e;case C:s=14;break e;case T:s=16,r=null;break e}s=29,n=Error(a(130,null===e?"null":typeof e,"")),r=null}return(t=Lr(s,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function qr(e,t,n,r){return(e=Lr(7,e,r,t)).lanes=n,e}function Br(e,t,n){return(e=Lr(6,e,null,t)).lanes=n,e}function Ur(e,t,n){return(t=Lr(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Wr=[],Hr=0,$r=null,Gr=0,Yr=[],Qr=0,Xr=null,Zr=1,Kr="";function Jr(e,t){Wr[Hr++]=Gr,Wr[Hr++]=$r,$r=e,Gr=t}function ei(e,t,n){Yr[Qr++]=Zr,Yr[Qr++]=Kr,Yr[Qr++]=Xr,Xr=e;var r=Zr;e=Kr;var i=32-pe(r)-1;r&=~(1<<i),n+=1;var o=32-pe(t)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Zr=1<<32-pe(t)+i|n<<i|r,Kr=o+e}else Zr=1<<o|n<<i|r,Kr=e}function ti(e){null!==e.return&&(Jr(e,1),ei(e,1,0))}function ni(e){for(;e===$r;)$r=Wr[--Hr],Wr[Hr]=null,Gr=Wr[--Hr],Wr[Hr]=null;for(;e===Xr;)Xr=Yr[--Qr],Yr[Qr]=null,Kr=Yr[--Qr],Yr[Qr]=null,Zr=Yr[--Qr],Yr[Qr]=null}var ri=null,ii=null,oi=!1,ai=null,si=!1,li=Error(a(519));function ci(e){throw mi(xr(Error(a(418,"")),e)),li}function ui(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[Ne]=e,t[Ie]=r,n){case"dialog":ju("cancel",t),ju("close",t);break;case"iframe":case"object":case"embed":ju("load",t);break;case"video":case"audio":for(n=0;n<Ru.length;n++)ju(Ru[n],t);break;case"source":ju("error",t);break;case"img":case"image":case"link":ju("error",t),ju("load",t);break;case"details":ju("toggle",t);break;case"input":ju("invalid",t),vt(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0),ht(t);break;case"select":ju("invalid",t);break;case"textarea":ju("invalid",t),wt(t,r.value,r.defaultValue,r.children),ht(t)}"string"!==typeof(n=r.children)&&"number"!==typeof n&&"bigint"!==typeof n||t.textContent===""+n||!0===r.suppressHydrationWarning||Xu(t.textContent,n)?(null!=r.popover&&(ju("beforetoggle",t),ju("toggle",t)),null!=r.onScroll&&ju("scroll",t),null!=r.onScrollEnd&&ju("scrollend",t),null!=r.onClick&&(t.onclick=Zu),t=!0):t=!1,t||ci(e)}function hi(e){for(ri=e.return;ri;)switch(ri.tag){case 5:case 13:return void(si=!1);case 27:case 3:return void(si=!0);default:ri=ri.return}}function di(e){if(e!==ri)return!1;if(!oi)return hi(e),oi=!0,!1;var t,n=e.tag;if((t=3!==n&&27!==n)&&((t=5===n)&&(t=!("form"!==(t=e.type)&&"button"!==t)||ah(e.type,e.memoizedProps)),t=!t),t&&ii&&ci(e),hi(e),13===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,n=0;e;){if(8===e.nodeType)if("/$"===(t=e.data)){if(0===n){ii=vh(e.nextSibling);break e}n--}else"$"!==t&&"$!"!==t&&"$?"!==t||n++;e=e.nextSibling}ii=null}}else 27===n?(n=ii,ph(e.type)?(e=yh,yh=null,ii=e):ii=n):ii=ri?vh(e.stateNode.nextSibling):null;return!0}function pi(){ii=ri=null,oi=!1}function fi(){var e=ai;return null!==e&&(null===_c?_c=e:_c.push.apply(_c,e),ai=null),e}function mi(e){null===ai?ai=[e]:ai.push(e)}var gi=V(null),vi=null,yi=null;function _i(e,t,n){q(gi,t._currentValue),t._currentValue=n}function bi(e){e._currentValue=gi.current,z(gi)}function wi(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function ki(e,t,n,r){var i=e.child;for(null!==i&&(i.return=e);null!==i;){var o=i.dependencies;if(null!==o){var s=i.child;o=o.firstContext;e:for(;null!==o;){var l=o;o=i;for(var c=0;c<t.length;c++)if(l.context===t[c]){o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),wi(o.return,n,e),r||(s=null);break e}o=l.next}}else if(18===i.tag){if(null===(s=i.return))throw Error(a(341));s.lanes|=n,null!==(o=s.alternate)&&(o.lanes|=n),wi(s,n,e),s=null}else s=i.child;if(null!==s)s.return=i;else for(s=i;null!==s;){if(s===e){s=null;break}if(null!==(i=s.sibling)){i.return=s.return,s=i;break}s=s.return}i=s}}function Si(e,t,n,r){e=null;for(var i=t,o=!1;null!==i;){if(!o)if(0!==(524288&i.flags))o=!0;else if(0!==(262144&i.flags))break;if(10===i.tag){var s=i.alternate;if(null===s)throw Error(a(387));if(null!==(s=s.memoizedProps)){var l=i.type;Qn(i.pendingProps.value,s.value)||(null!==e?e.push(l):e=[l])}}else if(i===H.current){if(null===(s=i.alternate))throw Error(a(387));s.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(null!==e?e.push(Yh):e=[Yh])}i=i.return}null!==e&&ki(t,e,n,r),t.flags|=262144}function xi(e){for(e=e.firstContext;null!==e;){if(!Qn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ci(e){vi=e,yi=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function Ti(e){return Ai(vi,e)}function Ei(e,t){return null===vi&&Ci(e),Ai(e,t)}function Ai(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},null===yi){if(null===e)throw Error(a(308));yi=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else yi=yi.next=t;return n}var Oi="undefined"!==typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach((function(e){return e()}))}},Mi=r.unstable_scheduleCallback,Pi=r.unstable_NormalPriority,Ni={$$typeof:w,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ii(){return{controller:new Oi,data:new Map,refCount:0}}function Ri(e){e.refCount--,0===e.refCount&&Mi(Pi,(function(){e.controller.abort()}))}var Di=null,Li=0,ji=0,Fi=null;function Vi(){if(0===--Li&&null!==Di){null!==Fi&&(Fi.status="fulfilled");var e=Di;Di=null,ji=0,Fi=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var zi=R.S;R.S=function(e,t){"object"===typeof t&&null!==t&&"function"===typeof t.then&&function(e,t){if(null===Di){var n=Di=[];Li=0,ji=Ou(),Fi={status:"pending",value:void 0,then:function(e){n.push(e)}}}Li++,t.then(Vi,Vi)}(0,t),null!==zi&&zi(e,t)};var qi=V(null);function Bi(){var e=qi.current;return null!==e?e:rc.pooledCache}function Ui(e,t){q(qi,null===t?qi.current:t.pool)}function Wi(){var e=Bi();return null===e?null:{parent:Ni._currentValue,pool:e}}var Hi=Error(a(460)),$i=Error(a(474)),Gi=Error(a(542)),Yi={then:function(){}};function Qi(e){return"fulfilled"===(e=e.status)||"rejected"===e}function Xi(){}function Zi(e,t,n){switch(void 0===(n=e[n])?e.push(t):n!==t&&(t.then(Xi,Xi),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw eo(e=t.reason),e;default:if("string"===typeof t.status)t.then(Xi,Xi);else{if(null!==(e=rc)&&100<e.shellSuspendCounter)throw Error(a(482));(e=t).status="pending",e.then((function(e){if("pending"===t.status){var n=t;n.status="fulfilled",n.value=e}}),(function(e){if("pending"===t.status){var n=t;n.status="rejected",n.reason=e}}))}switch(t.status){case"fulfilled":return t.value;case"rejected":throw eo(e=t.reason),e}throw Ki=t,Hi}}var Ki=null;function Ji(){if(null===Ki)throw Error(a(459));var e=Ki;return Ki=null,e}function eo(e){if(e===Hi||e===Gi)throw Error(a(483))}var to=!1;function no(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ro(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function io(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function oo(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&nc)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,t=Ir(e),Nr(e,null,n),t}return Or(e,r,t,n),Ir(e)}function ao(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194048&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Ee(e,n)}}function so(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var a={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};null===o?i=o=a:o=o.next=a,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,callbacks:r.callbacks},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var lo=!1;function co(){if(lo){if(null!==Fi)throw Fi}}function uo(e,t,n,r){lo=!1;var i=e.updateQueue;to=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var l=s,c=l.next;l.next=null,null===a?o=c:a.next=c,a=l;var u=e.alternate;null!==u&&((s=(u=u.updateQueue).lastBaseUpdate)!==a&&(null===s?u.firstBaseUpdate=c:s.next=c,u.lastBaseUpdate=l))}if(null!==o){var h=i.baseState;for(a=0,u=c=l=null,s=o;;){var p=-536870913&s.lane,f=p!==s.lane;if(f?(oc&p)===p:(r&p)===p){0!==p&&p===ji&&(lo=!0),null!==u&&(u=u.next={lane:0,tag:s.tag,payload:s.payload,callback:null,next:null});e:{var m=e,g=s;p=t;var v=n;switch(g.tag){case 1:if("function"===typeof(m=g.payload)){h=m.call(v,h,p);break e}h=m;break e;case 3:m.flags=-65537&m.flags|128;case 0:if(null===(p="function"===typeof(m=g.payload)?m.call(v,h,p):m)||void 0===p)break e;h=d({},h,p);break e;case 2:to=!0}}null!==(p=s.callback)&&(e.flags|=64,f&&(e.flags|=8192),null===(f=i.callbacks)?i.callbacks=[p]:f.push(p))}else f={lane:p,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===u?(c=u=f,l=h):u=u.next=f,a|=p;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(f=s).next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}null===u&&(l=h),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null===o&&(i.shared.lanes=0),pc|=a,e.lanes=a,e.memoizedState=h}}function ho(e,t){if("function"!==typeof e)throw Error(a(191,e));e.call(t)}function po(e,t){var n=e.callbacks;if(null!==n)for(e.callbacks=null,e=0;e<n.length;e++)ho(n[e],t)}var fo=V(null),mo=V(0);function go(e,t){q(mo,e=hc),q(fo,t),hc=e|t.baseLanes}function vo(){q(mo,hc),q(fo,fo.current)}function yo(){hc=mo.current,z(fo),z(mo)}var _o=0,bo=null,wo=null,ko=null,So=!1,xo=!1,Co=!1,To=0,Eo=0,Ao=null,Oo=0;function Mo(){throw Error(a(321))}function Po(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Qn(e[n],t[n]))return!1;return!0}function No(e,t,n,r,i,o){return _o=o,bo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,R.H=null===e||null===e.memoizedState?$a:Ga,Co=!1,o=n(r,i),Co=!1,xo&&(o=Ro(t,n,r,i)),Io(e),o}function Io(e){R.H=Ha;var t=null!==wo&&null!==wo.next;if(_o=0,ko=wo=bo=null,So=!1,Eo=0,Ao=null,t)throw Error(a(300));null===e||Es||null!==(e=e.dependencies)&&xi(e)&&(Es=!0)}function Ro(e,t,n,r){bo=e;var i=0;do{if(xo&&(Ao=null),Eo=0,xo=!1,25<=i)throw Error(a(301));if(i+=1,ko=wo=null,null!=e.updateQueue){var o=e.updateQueue;o.lastEffect=null,o.events=null,o.stores=null,null!=o.memoCache&&(o.memoCache.index=0)}R.H=Ya,o=t(n,r)}while(xo);return o}function Do(){var e=R.H,t=e.useState()[0];return t="function"===typeof t.then?qo(t):t,e=e.useState()[0],(null!==wo?wo.memoizedState:null)!==e&&(bo.flags|=1024),t}function Lo(){var e=0!==To;return To=0,e}function jo(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function Fo(e){if(So){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}So=!1}_o=0,ko=wo=bo=null,xo=!1,Eo=To=0,Ao=null}function Vo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ko?bo.memoizedState=ko=e:ko=ko.next=e,ko}function zo(){if(null===wo){var e=bo.alternate;e=null!==e?e.memoizedState:null}else e=wo.next;var t=null===ko?bo.memoizedState:ko.next;if(null!==t)ko=t,wo=e;else{if(null===e){if(null===bo.alternate)throw Error(a(467));throw Error(a(310))}e={memoizedState:(wo=e).memoizedState,baseState:wo.baseState,baseQueue:wo.baseQueue,queue:wo.queue,next:null},null===ko?bo.memoizedState=ko=e:ko=ko.next=e}return ko}function qo(e){var t=Eo;return Eo+=1,null===Ao&&(Ao=[]),e=Zi(Ao,e,t),t=bo,null===(null===ko?t.memoizedState:ko.next)&&(t=t.alternate,R.H=null===t||null===t.memoizedState?$a:Ga),e}function Bo(e){if(null!==e&&"object"===typeof e){if("function"===typeof e.then)return qo(e);if(e.$$typeof===w)return Ti(e)}throw Error(a(438,String(e)))}function Uo(e){var t=null,n=bo.updateQueue;if(null!==n&&(t=n.memoCache),null==t){var r=bo.alternate;null!==r&&(null!==(r=r.updateQueue)&&(null!=(r=r.memoCache)&&(t={data:r.data.map((function(e){return e.slice()})),index:0})))}if(null==t&&(t={data:[],index:0}),null===n&&(n={lastEffect:null,events:null,stores:null,memoCache:null},bo.updateQueue=n),n.memoCache=t,void 0===(n=t.data[t.index]))for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=A;return t.index++,n}function Wo(e,t){return"function"===typeof t?t(e):t}function Ho(e){return $o(zo(),wo,e)}function $o(e,t,n){var r=e.queue;if(null===r)throw Error(a(311));r.lastRenderedReducer=n;var i=e.baseQueue,o=r.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}t.baseQueue=i=o,r.pending=null}if(o=e.baseState,null===i)e.memoizedState=o;else{var l=s=null,c=null,u=t=i.next,h=!1;do{var d=-536870913&u.lane;if(d!==u.lane?(oc&d)===d:(_o&d)===d){var p=u.revertLane;if(0===p)null!==c&&(c=c.next={lane:0,revertLane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),d===ji&&(h=!0);else{if((_o&p)===p){u=u.next,p===ji&&(h=!0);continue}d={lane:0,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=d,s=o):c=c.next=d,bo.lanes|=p,pc|=p}d=u.action,Co&&n(o,d),o=u.hasEagerState?u.eagerState:n(o,d)}else p={lane:d,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=p,s=o):c=c.next=p,bo.lanes|=d,pc|=d;u=u.next}while(null!==u&&u!==t);if(null===c?s=o:c.next=l,!Qn(o,e.memoizedState)&&(Es=!0,h&&null!==(n=Fi)))throw n;e.memoizedState=o,e.baseState=s,e.baseQueue=c,r.lastRenderedState=o}return null===i&&(r.lanes=0),[e.memoizedState,r.dispatch]}function Go(e){var t=zo(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{o=e(o,s.action),s=s.next}while(s!==i);Qn(o,t.memoizedState)||(Es=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Yo(e,t,n){var r=bo,i=zo(),o=oi;if(o){if(void 0===n)throw Error(a(407));n=n()}else n=t();var s=!Qn((wo||i).memoizedState,n);if(s&&(i.memoizedState=n,Es=!0),i=i.queue,va(2048,8,Zo.bind(null,r,i,e),[e]),i.getSnapshot!==t||s||null!==ko&&1&ko.memoizedState.tag){if(r.flags|=2048,fa(9,{destroy:void 0,resource:void 0},Xo.bind(null,r,i,n,t),null),null===rc)throw Error(a(349));o||0!==(124&_o)||Qo(r,t,n)}return n}function Qo(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=bo.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},bo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Xo(e,t,n,r){t.value=n,t.getSnapshot=r,Ko(t)&&Jo(e)}function Zo(e,t,n){return n((function(){Ko(t)&&Jo(e)}))}function Ko(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Qn(e,n)}catch(r){return!0}}function Jo(e){var t=Pr(e,2);null!==t&&Lc(t,e,2)}function ea(e){var t=Vo();if("function"===typeof e){var n=e;if(e=n(),Co){de(!0);try{n()}finally{de(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wo,lastRenderedState:e},t}function ta(e,t,n,r){return e.baseState=n,$o(e,wo,"function"===typeof r?r:Wo)}function na(e,t,n,r,i){if(Ba(e))throw Error(a(485));if(null!==(e=t.action)){var o={payload:i,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){o.listeners.push(e)}};null!==R.T?n(!0):o.isTransition=!1,r(o),null===(n=t.pending)?(o.next=t.pending=o,ra(t,o)):(o.next=n.next,t.pending=n.next=o)}}function ra(e,t){var n=t.action,r=t.payload,i=e.state;if(t.isTransition){var o=R.T,a={};R.T=a;try{var s=n(i,r),l=R.S;null!==l&&l(a,s),ia(e,t,s)}catch(c){aa(e,t,c)}finally{R.T=o}}else try{ia(e,t,o=n(i,r))}catch(u){aa(e,t,u)}}function ia(e,t,n){null!==n&&"object"===typeof n&&"function"===typeof n.then?n.then((function(n){oa(e,t,n)}),(function(n){return aa(e,t,n)})):oa(e,t,n)}function oa(e,t,n){t.status="fulfilled",t.value=n,sa(t),e.state=n,null!==(t=e.pending)&&((n=t.next)===t?e.pending=null:(n=n.next,t.next=n,ra(e,n)))}function aa(e,t,n){var r=e.pending;if(e.pending=null,null!==r){r=r.next;do{t.status="rejected",t.reason=n,sa(t),t=t.next}while(t!==r)}e.action=null}function sa(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function la(e,t){return t}function ca(e,t){if(oi){var n=rc.formState;if(null!==n){e:{var r=bo;if(oi){if(ii){t:{for(var i=ii,o=si;8!==i.nodeType;){if(!o){i=null;break t}if(null===(i=vh(i.nextSibling))){i=null;break t}}i="F!"===(o=i.data)||"F"===o?i:null}if(i){ii=vh(i.nextSibling),r="F!"===i.data;break e}}ci(r)}r=!1}r&&(t=n[0])}}return(n=Vo()).memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:la,lastRenderedState:t},n.queue=r,n=Va.bind(null,bo,r),r.dispatch=n,r=ea(!1),o=qa.bind(null,bo,!1,r.queue),i={state:t,dispatch:null,action:e,pending:null},(r=Vo()).queue=i,n=na.bind(null,bo,i,o,n),i.dispatch=n,r.memoizedState=e,[t,n,!1]}function ua(e){return ha(zo(),wo,e)}function ha(e,t,n){if(t=$o(e,t,la)[0],e=Ho(Wo)[0],"object"===typeof t&&null!==t&&"function"===typeof t.then)try{var r=qo(t)}catch(a){if(a===Hi)throw Gi;throw a}else r=t;var i=(t=zo()).queue,o=i.dispatch;return n!==t.memoizedState&&(bo.flags|=2048,fa(9,{destroy:void 0,resource:void 0},da.bind(null,i,n),null)),[r,o,e]}function da(e,t){e.action=t}function pa(e){var t=zo(),n=wo;if(null!==n)return ha(t,n,e);zo(),t=t.memoizedState;var r=(n=zo()).queue.dispatch;return n.memoizedState=e,[t,r,!1]}function fa(e,t,n,r){return e={tag:e,create:n,deps:r,inst:t,next:null},null===(t=bo.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},bo.updateQueue=t),null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function ma(){return zo().memoizedState}function ga(e,t,n,r){var i=Vo();r=void 0===r?null:r,bo.flags|=e,i.memoizedState=fa(1|t,{destroy:void 0,resource:void 0},n,r)}function va(e,t,n,r){var i=zo();r=void 0===r?null:r;var o=i.memoizedState.inst;null!==wo&&null!==r&&Po(r,wo.memoizedState.deps)?i.memoizedState=fa(t,o,n,r):(bo.flags|=e,i.memoizedState=fa(1|t,o,n,r))}function ya(e,t){ga(8390656,8,e,t)}function _a(e,t){va(2048,8,e,t)}function ba(e,t){return va(4,2,e,t)}function wa(e,t){return va(4,4,e,t)}function ka(e,t){if("function"===typeof t){e=e();var n=t(e);return function(){"function"===typeof n?n():t(null)}}if(null!==t&&void 0!==t)return e=e(),t.current=e,function(){t.current=null}}function Sa(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,va(4,4,ka.bind(null,t,e),n)}function xa(){}function Ca(e,t){var n=zo();t=void 0===t?null:t;var r=n.memoizedState;return null!==t&&Po(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ta(e,t){var n=zo();t=void 0===t?null:t;var r=n.memoizedState;if(null!==t&&Po(t,r[1]))return r[0];if(r=e(),Co){de(!0);try{e()}finally{de(!1)}}return n.memoizedState=[r,t],r}function Ea(e,t,n){return void 0===n||0!==(1073741824&_o)?e.memoizedState=t:(e.memoizedState=n,e=Dc(),bo.lanes|=e,pc|=e,n)}function Aa(e,t,n,r){return Qn(n,t)?n:null!==fo.current?(e=Ea(e,n,r),Qn(e,t)||(Es=!0),e):0===(42&_o)?(Es=!0,e.memoizedState=n):(e=Dc(),bo.lanes|=e,pc|=e,t)}function Oa(e,t,n,r,i){var o=D.p;D.p=0!==o&&8>o?o:8;var a=R.T,s={};R.T=s,qa(e,!1,t,n);try{var l=i(),c=R.S;if(null!==c&&c(s,l),null!==l&&"object"===typeof l&&"function"===typeof l.then)za(e,t,function(e,t){var n=[],r={status:"pending",value:null,reason:null,then:function(e){n.push(e)}};return e.then((function(){r.status="fulfilled",r.value=t;for(var e=0;e<n.length;e++)(0,n[e])(t)}),(function(e){for(r.status="rejected",r.reason=e,e=0;e<n.length;e++)(0,n[e])(void 0)})),r}(l,r),Rc());else za(e,t,r,Rc())}catch(u){za(e,t,{then:function(){},status:"rejected",reason:u},Rc())}finally{D.p=o,R.T=a}}function Ma(){}function Pa(e,t,n,r){if(5!==e.tag)throw Error(a(476));var i=Na(e).queue;Oa(e,i,t,L,null===n?Ma:function(){return Ia(e),n(r)})}function Na(e){var t=e.memoizedState;if(null!==t)return t;var n={};return(t={memoizedState:L,baseState:L,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wo,lastRenderedState:L},next:null}).next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wo,lastRenderedState:n},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function Ia(e){za(e,Na(e).next.queue,{},Rc())}function Ra(){return Ti(Yh)}function Da(){return zo().memoizedState}function La(){return zo().memoizedState}function ja(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var n=Rc(),r=oo(t,e=io(n),n);return null!==r&&(Lc(r,t,n),ao(r,t,n)),t={cache:Ii()},void(e.payload=t)}t=t.return}}function Fa(e,t,n){var r=Rc();n={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},Ba(e)?Ua(t,n):null!==(n=Mr(e,t,n,r))&&(Lc(n,e,r),Wa(n,t,r))}function Va(e,t,n){za(e,t,n,Rc())}function za(e,t,n,r){var i={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ba(e))Ua(t,i);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var a=t.lastRenderedState,s=o(a,n);if(i.hasEagerState=!0,i.eagerState=s,Qn(s,a))return Or(e,t,i,0),null===rc&&Ar(),!1}catch(l){}if(null!==(n=Mr(e,t,i,r)))return Lc(n,e,r),Wa(n,t,r),!0}return!1}function qa(e,t,n,r){if(r={lane:2,revertLane:Ou(),action:r,hasEagerState:!1,eagerState:null,next:null},Ba(e)){if(t)throw Error(a(479))}else null!==(t=Mr(e,n,r,2))&&Lc(t,e,2)}function Ba(e){var t=e.alternate;return e===bo||null!==t&&t===bo}function Ua(e,t){xo=So=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Wa(e,t,n){if(0!==(4194048&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Ee(e,n)}}var Ha={readContext:Ti,use:Bo,useCallback:Mo,useContext:Mo,useEffect:Mo,useImperativeHandle:Mo,useLayoutEffect:Mo,useInsertionEffect:Mo,useMemo:Mo,useReducer:Mo,useRef:Mo,useState:Mo,useDebugValue:Mo,useDeferredValue:Mo,useTransition:Mo,useSyncExternalStore:Mo,useId:Mo,useHostTransitionStatus:Mo,useFormState:Mo,useActionState:Mo,useOptimistic:Mo,useMemoCache:Mo,useCacheRefresh:Mo},$a={readContext:Ti,use:Bo,useCallback:function(e,t){return Vo().memoizedState=[e,void 0===t?null:t],e},useContext:Ti,useEffect:ya,useImperativeHandle:function(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,ga(4194308,4,ka.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ga(4194308,4,e,t)},useInsertionEffect:function(e,t){ga(4,2,e,t)},useMemo:function(e,t){var n=Vo();t=void 0===t?null:t;var r=e();if(Co){de(!0);try{e()}finally{de(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=Vo();if(void 0!==n){var i=n(t);if(Co){de(!0);try{n(t)}finally{de(!1)}}}else i=t;return r.memoizedState=r.baseState=i,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:i},r.queue=e,e=e.dispatch=Fa.bind(null,bo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Vo().memoizedState=e},useState:function(e){var t=(e=ea(e)).queue,n=Va.bind(null,bo,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:xa,useDeferredValue:function(e,t){return Ea(Vo(),e,t)},useTransition:function(){var e=ea(!1);return e=Oa.bind(null,bo,e.queue,!0,!1),Vo().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var r=bo,i=Vo();if(oi){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===rc)throw Error(a(349));0!==(124&oc)||Qo(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,ya(Zo.bind(null,r,o,e),[e]),r.flags|=2048,fa(9,{destroy:void 0,resource:void 0},Xo.bind(null,r,o,n,t),null),n},useId:function(){var e=Vo(),t=rc.identifierPrefix;if(oi){var n=Kr;t="\xab"+t+"R"+(n=(Zr&~(1<<32-pe(Zr)-1)).toString(32)+n),0<(n=To++)&&(t+="H"+n.toString(32)),t+="\xbb"}else t="\xab"+t+"r"+(n=Oo++).toString(32)+"\xbb";return e.memoizedState=t},useHostTransitionStatus:Ra,useFormState:ca,useActionState:ca,useOptimistic:function(e){var t=Vo();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=qa.bind(null,bo,!0,n),n.dispatch=t,[e,t]},useMemoCache:Uo,useCacheRefresh:function(){return Vo().memoizedState=ja.bind(null,bo)}},Ga={readContext:Ti,use:Bo,useCallback:Ca,useContext:Ti,useEffect:_a,useImperativeHandle:Sa,useInsertionEffect:ba,useLayoutEffect:wa,useMemo:Ta,useReducer:Ho,useRef:ma,useState:function(){return Ho(Wo)},useDebugValue:xa,useDeferredValue:function(e,t){return Aa(zo(),wo.memoizedState,e,t)},useTransition:function(){var e=Ho(Wo)[0],t=zo().memoizedState;return["boolean"===typeof e?e:qo(e),t]},useSyncExternalStore:Yo,useId:Da,useHostTransitionStatus:Ra,useFormState:ua,useActionState:ua,useOptimistic:function(e,t){return ta(zo(),0,e,t)},useMemoCache:Uo,useCacheRefresh:La},Ya={readContext:Ti,use:Bo,useCallback:Ca,useContext:Ti,useEffect:_a,useImperativeHandle:Sa,useInsertionEffect:ba,useLayoutEffect:wa,useMemo:Ta,useReducer:Go,useRef:ma,useState:function(){return Go(Wo)},useDebugValue:xa,useDeferredValue:function(e,t){var n=zo();return null===wo?Ea(n,e,t):Aa(n,wo.memoizedState,e,t)},useTransition:function(){var e=Go(Wo)[0],t=zo().memoizedState;return["boolean"===typeof e?e:qo(e),t]},useSyncExternalStore:Yo,useId:Da,useHostTransitionStatus:Ra,useFormState:pa,useActionState:pa,useOptimistic:function(e,t){var n=zo();return null!==wo?ta(n,0,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:Uo,useCacheRefresh:La},Qa=null,Xa=0;function Za(e){var t=Xa;return Xa+=1,null===Qa&&(Qa=[]),Zi(Qa,e,t)}function Ka(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function Ja(e,t){if(t.$$typeof===p)throw Error(a(525));throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function es(e){return(0,e._init)(e._payload)}function ts(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function i(e,t){return(e=Fr(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=67108866,n):r:(t.flags|=67108866,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=67108866),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Br(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var o=n.type;return o===g?h(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===T&&es(o)===t.type)?(Ka(t=i(t,n.props),n),t.return=e,t):(Ka(t=zr(n.type,n.key,n.props,null,e.mode,r),n),t.return=e,t)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Ur(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function h(e,t,n,r,o){return null===t||7!==t.tag?((t=qr(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function d(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t||"bigint"===typeof t)return(t=Br(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case f:return Ka(n=zr(t.type,t.key,t.props,null,e.mode,n),t),n.return=e,n;case m:return(t=Ur(t,e.mode,n)).return=e,t;case T:return d(e,t=(0,t._init)(t._payload),n)}if(I(t)||M(t))return(t=qr(t,e.mode,n,null)).return=e,t;if("function"===typeof t.then)return d(e,Za(t),n);if(t.$$typeof===w)return d(e,Ei(e,t),n);Ja(e,t)}return null}function p(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n||"bigint"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case f:return n.key===i?c(e,t,n,r):null;case m:return n.key===i?u(e,t,n,r):null;case T:return p(e,t,n=(i=n._init)(n._payload),r)}if(I(n)||M(n))return null!==i?null:h(e,t,n,r,null);if("function"===typeof n.then)return p(e,t,Za(n),r);if(n.$$typeof===w)return p(e,t,Ei(e,n),r);Ja(e,n)}return null}function v(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r||"bigint"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case f:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case m:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case T:return v(e,t,n,r=(0,r._init)(r._payload),i)}if(I(r)||M(r))return h(t,e=e.get(n)||null,r,i,null);if("function"===typeof r.then)return v(e,t,n,Za(r),i);if(r.$$typeof===w)return v(e,t,n,Ei(t,r),i);Ja(t,r)}return null}function y(l,c,u,h){if("object"===typeof u&&null!==u&&u.type===g&&null===u.key&&(u=u.props.children),"object"===typeof u&&null!==u){switch(u.$$typeof){case f:e:{for(var _=u.key;null!==c;){if(c.key===_){if((_=u.type)===g){if(7===c.tag){n(l,c.sibling),(h=i(c,u.props.children)).return=l,l=h;break e}}else if(c.elementType===_||"object"===typeof _&&null!==_&&_.$$typeof===T&&es(_)===c.type){n(l,c.sibling),Ka(h=i(c,u.props),u),h.return=l,l=h;break e}n(l,c);break}t(l,c),c=c.sibling}u.type===g?((h=qr(u.props.children,l.mode,h,u.key)).return=l,l=h):(Ka(h=zr(u.type,u.key,u.props,null,l.mode,h),u),h.return=l,l=h)}return s(l);case m:e:{for(_=u.key;null!==c;){if(c.key===_){if(4===c.tag&&c.stateNode.containerInfo===u.containerInfo&&c.stateNode.implementation===u.implementation){n(l,c.sibling),(h=i(c,u.children||[])).return=l,l=h;break e}n(l,c);break}t(l,c),c=c.sibling}(h=Ur(u,l.mode,h)).return=l,l=h}return s(l);case T:return y(l,c,u=(_=u._init)(u._payload),h)}if(I(u))return function(i,a,s,l){for(var c=null,u=null,h=a,f=a=0,m=null;null!==h&&f<s.length;f++){h.index>f?(m=h,h=null):m=h.sibling;var g=p(i,h,s[f],l);if(null===g){null===h&&(h=m);break}e&&h&&null===g.alternate&&t(i,h),a=o(g,a,f),null===u?c=g:u.sibling=g,u=g,h=m}if(f===s.length)return n(i,h),oi&&Jr(i,f),c;if(null===h){for(;f<s.length;f++)null!==(h=d(i,s[f],l))&&(a=o(h,a,f),null===u?c=h:u.sibling=h,u=h);return oi&&Jr(i,f),c}for(h=r(h);f<s.length;f++)null!==(m=v(h,i,f,s[f],l))&&(e&&null!==m.alternate&&h.delete(null===m.key?f:m.key),a=o(m,a,f),null===u?c=m:u.sibling=m,u=m);return e&&h.forEach((function(e){return t(i,e)})),oi&&Jr(i,f),c}(l,c,u,h);if(M(u)){if("function"!==typeof(_=M(u)))throw Error(a(150));return function(i,s,l,c){if(null==l)throw Error(a(151));for(var u=null,h=null,f=s,m=s=0,g=null,y=l.next();null!==f&&!y.done;m++,y=l.next()){f.index>m?(g=f,f=null):g=f.sibling;var _=p(i,f,y.value,c);if(null===_){null===f&&(f=g);break}e&&f&&null===_.alternate&&t(i,f),s=o(_,s,m),null===h?u=_:h.sibling=_,h=_,f=g}if(y.done)return n(i,f),oi&&Jr(i,m),u;if(null===f){for(;!y.done;m++,y=l.next())null!==(y=d(i,y.value,c))&&(s=o(y,s,m),null===h?u=y:h.sibling=y,h=y);return oi&&Jr(i,m),u}for(f=r(f);!y.done;m++,y=l.next())null!==(y=v(f,i,m,y.value,c))&&(e&&null!==y.alternate&&f.delete(null===y.key?m:y.key),s=o(y,s,m),null===h?u=y:h.sibling=y,h=y);return e&&f.forEach((function(e){return t(i,e)})),oi&&Jr(i,m),u}(l,c,u=_.call(u),h)}if("function"===typeof u.then)return y(l,c,Za(u),h);if(u.$$typeof===w)return y(l,c,Ei(l,u),h);Ja(l,u)}return"string"===typeof u&&""!==u||"number"===typeof u||"bigint"===typeof u?(u=""+u,null!==c&&6===c.tag?(n(l,c.sibling),(h=i(c,u)).return=l,l=h):(n(l,c),(h=Br(u,l.mode,h)).return=l,l=h),s(l)):n(l,c)}return function(e,t,n,r){try{Xa=0;var i=y(e,t,n,r);return Qa=null,i}catch(a){if(a===Hi||a===Gi)throw a;var o=Lr(29,a,null,e.mode);return o.lanes=r,o.return=e,o}}}var ns=ts(!0),rs=ts(!1),is=V(null),os=null;function as(e){var t=e.alternate;q(us,1&us.current),q(is,e),null===os&&(null===t||null!==fo.current||null!==t.memoizedState)&&(os=e)}function ss(e){if(22===e.tag){if(q(us,us.current),q(is,e),null===os){var t=e.alternate;null!==t&&null!==t.memoizedState&&(os=e)}}else ls()}function ls(){q(us,us.current),q(is,is.current)}function cs(e){z(is),os===e&&(os=null),z(us)}var us=V(0);function hs(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||gh(n)))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function ds(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:d({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ps={enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Rc(),i=io(r);i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=oo(e,i,r))&&(Lc(t,e,r),ao(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Rc(),i=io(r);i.tag=1,i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=oo(e,i,r))&&(Lc(t,e,r),ao(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Rc(),r=io(n);r.tag=2,void 0!==t&&null!==t&&(r.callback=t),null!==(t=oo(e,r,n))&&(Lc(t,e,n),ao(t,e,n))}};function fs(e,t,n,r,i,o,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!Xn(n,r)||!Xn(i,o))}function ms(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ps.enqueueReplaceState(t,t.state,null)}function gs(e,t){var n=t;if("ref"in t)for(var r in n={},t)"ref"!==r&&(n[r]=t[r]);if(e=e.defaultProps)for(var i in n===t&&(n=d({},n)),e)void 0===n[i]&&(n[i]=e[i]);return n}var vs="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function ys(e){vs(e)}function _s(e){console.error(e)}function bs(e){vs(e)}function ws(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(n){setTimeout((function(){throw n}))}}function ks(e,t,n){try{(0,e.onCaughtError)(n.value,{componentStack:n.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(r){setTimeout((function(){throw r}))}}function Ss(e,t,n){return(n=io(n)).tag=3,n.payload={element:null},n.callback=function(){ws(e,t)},n}function xs(e){return(e=io(e)).tag=3,e}function Cs(e,t,n,r){var i=n.type.getDerivedStateFromError;if("function"===typeof i){var o=r.value;e.payload=function(){return i(o)},e.callback=function(){ks(t,n,r)}}var a=n.stateNode;null!==a&&"function"===typeof a.componentDidCatch&&(e.callback=function(){ks(t,n,r),"function"!==typeof i&&(null===xc?xc=new Set([this]):xc.add(this));var e=r.stack;this.componentDidCatch(r.value,{componentStack:null!==e?e:""})})}var Ts=Error(a(461)),Es=!1;function As(e,t,n,r){t.child=null===e?rs(t,null,n,r):ns(t,e.child,n,r)}function Os(e,t,n,r,i){n=n.render;var o=t.ref;if("ref"in r){var a={};for(var s in r)"ref"!==s&&(a[s]=r[s])}else a=r;return Ci(t),r=No(e,t,n,a,o,i),s=Lo(),null===e||Es?(oi&&s&&ti(t),t.flags|=1,As(e,t,r,i),t.child):(jo(e,t,i),Qs(e,t,i))}function Ms(e,t,n,r,i){if(null===e){var o=n.type;return"function"!==typeof o||jr(o)||void 0!==o.defaultProps||null!==n.compare?((e=zr(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Ps(e,t,o,r,i))}if(o=e.child,!Xs(e,i)){var a=o.memoizedProps;if((n=null!==(n=n.compare)?n:Xn)(a,r)&&e.ref===t.ref)return Qs(e,t,i)}return t.flags|=1,(e=Fr(o,r)).ref=t.ref,e.return=t,t.child=e}function Ps(e,t,n,r,i){if(null!==e){var o=e.memoizedProps;if(Xn(o,r)&&e.ref===t.ref){if(Es=!1,t.pendingProps=r=o,!Xs(e,i))return t.lanes=e.lanes,Qs(e,t,i);0!==(131072&e.flags)&&(Es=!0)}}return Ds(e,t,n,r,i)}function Ns(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode){if(0!==(128&t.flags)){if(r=null!==o?o.baseLanes|n:n,null!==e){for(i=t.child=e.child,o=0;null!==i;)o=o|i.lanes|i.childLanes,i=i.sibling;t.childLanes=o&~r}else t.childLanes=0,t.child=null;return Is(e,t,r,n)}if(0===(536870912&n))return t.lanes=t.childLanes=536870912,Is(e,t,null!==o?o.baseLanes|n:n,n);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&Ui(0,null!==o?o.cachePool:null),null!==o?go(t,o):vo(),ss(t)}else null!==o?(Ui(0,o.cachePool),go(t,o),ls(),t.memoizedState=null):(null!==e&&Ui(0,null),vo(),ls());return As(e,t,i,n),t.child}function Is(e,t,n,r){var i=Bi();return i=null===i?null:{parent:Ni._currentValue,pool:i},t.memoizedState={baseLanes:n,cachePool:i},null!==e&&Ui(0,null),vo(),ss(t),null!==e&&Si(e,t,r,!0),null}function Rs(e,t){var n=t.ref;if(null===n)null!==e&&null!==e.ref&&(t.flags|=4194816);else{if("function"!==typeof n&&"object"!==typeof n)throw Error(a(284));null!==e&&e.ref===n||(t.flags|=4194816)}}function Ds(e,t,n,r,i){return Ci(t),n=No(e,t,n,r,void 0,i),r=Lo(),null===e||Es?(oi&&r&&ti(t),t.flags|=1,As(e,t,n,i),t.child):(jo(e,t,i),Qs(e,t,i))}function Ls(e,t,n,r,i,o){return Ci(t),t.updateQueue=null,n=Ro(t,r,n,i),Io(e),r=Lo(),null===e||Es?(oi&&r&&ti(t),t.flags|=1,As(e,t,n,o),t.child):(jo(e,t,o),Qs(e,t,o))}function js(e,t,n,r,i){if(Ci(t),null===t.stateNode){var o=Rr,a=n.contextType;"object"===typeof a&&null!==a&&(o=Ti(a)),o=new n(r,o),t.memoizedState=null!==o.state&&void 0!==o.state?o.state:null,o.updater=ps,t.stateNode=o,o._reactInternals=t,(o=t.stateNode).props=r,o.state=t.memoizedState,o.refs={},no(t),a=n.contextType,o.context="object"===typeof a&&null!==a?Ti(a):Rr,o.state=t.memoizedState,"function"===typeof(a=n.getDerivedStateFromProps)&&(ds(t,n,a,r),o.state=t.memoizedState),"function"===typeof n.getDerivedStateFromProps||"function"===typeof o.getSnapshotBeforeUpdate||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||(a=o.state,"function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount(),a!==o.state&&ps.enqueueReplaceState(o,o.state,null),uo(t,r,o,i),co(),o.state=t.memoizedState),"function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!0}else if(null===e){o=t.stateNode;var s=t.memoizedProps,l=gs(n,s);o.props=l;var c=o.context,u=n.contextType;a=Rr,"object"===typeof u&&null!==u&&(a=Ti(u));var h=n.getDerivedStateFromProps;u="function"===typeof h||"function"===typeof o.getSnapshotBeforeUpdate,s=t.pendingProps!==s,u||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s||c!==a)&&ms(t,o,r,a),to=!1;var d=t.memoizedState;o.state=d,uo(t,r,o,i),co(),c=t.memoizedState,s||d!==c||to?("function"===typeof h&&(ds(t,n,h,r),c=t.memoizedState),(l=to||fs(t,n,l,r,d,c,a))?(u||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),o.props=r,o.state=c,o.context=a,r=l):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,ro(e,t),u=gs(n,a=t.memoizedProps),o.props=u,h=t.pendingProps,d=o.context,c=n.contextType,l=Rr,"object"===typeof c&&null!==c&&(l=Ti(c)),(c="function"===typeof(s=n.getDerivedStateFromProps)||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(a!==h||d!==l)&&ms(t,o,r,l),to=!1,d=t.memoizedState,o.state=d,uo(t,r,o,i),co();var p=t.memoizedState;a!==h||d!==p||to||null!==e&&null!==e.dependencies&&xi(e.dependencies)?("function"===typeof s&&(ds(t,n,s,r),p=t.memoizedState),(u=to||fs(t,n,u,r,d,p,l)||null!==e&&null!==e.dependencies&&xi(e.dependencies))?(c||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,l),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=l,r=u):("function"!==typeof o.componentDidUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return o=r,Rs(e,t),r=0!==(128&t.flags),o||r?(o=t.stateNode,n=r&&"function"!==typeof n.getDerivedStateFromError?null:o.render(),t.flags|=1,null!==e&&r?(t.child=ns(t,e.child,null,i),t.child=ns(t,null,n,i)):As(e,t,n,i),t.memoizedState=o.state,e=t.child):e=Qs(e,t,i),e}function Fs(e,t,n,r){return pi(),t.flags|=256,As(e,t,n,r),t.child}var Vs={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function zs(e){return{baseLanes:e,cachePool:Wi()}}function qs(e,t,n){return e=null!==e?e.childLanes&~n:0,t&&(e|=gc),e}function Bs(e,t,n){var r,i=t.pendingProps,o=!1,s=0!==(128&t.flags);if((r=s)||(r=(null===e||null!==e.memoizedState)&&0!==(2&us.current)),r&&(o=!0,t.flags&=-129),r=0!==(32&t.flags),t.flags&=-33,null===e){if(oi){if(o?as(t):ls(),oi){var l,c=ii;if(l=c){e:{for(l=c,c=si;8!==l.nodeType;){if(!c){c=null;break e}if(null===(l=vh(l.nextSibling))){c=null;break e}}c=l}null!==c?(t.memoizedState={dehydrated:c,treeContext:null!==Xr?{id:Zr,overflow:Kr}:null,retryLane:536870912,hydrationErrors:null},(l=Lr(18,null,null,0)).stateNode=c,l.return=t,t.child=l,ri=t,ii=null,l=!0):l=!1}l||ci(t)}if(null!==(c=t.memoizedState)&&null!==(c=c.dehydrated))return gh(c)?t.lanes=32:t.lanes=536870912,null;cs(t)}return c=i.children,i=i.fallback,o?(ls(),c=Ws({mode:"hidden",children:c},o=t.mode),i=qr(i,o,n,null),c.return=t,i.return=t,c.sibling=i,t.child=c,(o=t.child).memoizedState=zs(n),o.childLanes=qs(e,r,n),t.memoizedState=Vs,i):(as(t),Us(t,c))}if(null!==(l=e.memoizedState)&&null!==(c=l.dehydrated)){if(s)256&t.flags?(as(t),t.flags&=-257,t=Hs(e,t,n)):null!==t.memoizedState?(ls(),t.child=e.child,t.flags|=128,t=null):(ls(),o=i.fallback,c=t.mode,i=Ws({mode:"visible",children:i.children},c),(o=qr(o,c,n,null)).flags|=2,i.return=t,o.return=t,i.sibling=o,t.child=i,ns(t,e.child,null,n),(i=t.child).memoizedState=zs(n),i.childLanes=qs(e,r,n),t.memoizedState=Vs,t=o);else if(as(t),gh(c)){if(r=c.nextSibling&&c.nextSibling.dataset)var u=r.dgst;r=u,(i=Error(a(419))).stack="",i.digest=r,mi({value:i,source:null,stack:null}),t=Hs(e,t,n)}else if(Es||Si(e,t,n,!1),r=0!==(n&e.childLanes),Es||r){if(null!==(r=rc)&&(0!==(i=0!==((i=0!==(42&(i=n&-n))?1:Ae(i))&(r.suspendedLanes|n))?0:i)&&i!==l.retryLane))throw l.retryLane=i,Pr(e,i),Lc(r,e,i),Ts;"$?"===c.data||Gc(),t=Hs(e,t,n)}else"$?"===c.data?(t.flags|=192,t.child=e.child,t=null):(e=l.treeContext,ii=vh(c.nextSibling),ri=t,oi=!0,ai=null,si=!1,null!==e&&(Yr[Qr++]=Zr,Yr[Qr++]=Kr,Yr[Qr++]=Xr,Zr=e.id,Kr=e.overflow,Xr=t),(t=Us(t,i.children)).flags|=4096);return t}return o?(ls(),o=i.fallback,c=t.mode,u=(l=e.child).sibling,(i=Fr(l,{mode:"hidden",children:i.children})).subtreeFlags=65011712&l.subtreeFlags,null!==u?o=Fr(u,o):(o=qr(o,c,n,null)).flags|=2,o.return=t,i.return=t,i.sibling=o,t.child=i,i=o,o=t.child,null===(c=e.child.memoizedState)?c=zs(n):(null!==(l=c.cachePool)?(u=Ni._currentValue,l=l.parent!==u?{parent:u,pool:u}:l):l=Wi(),c={baseLanes:c.baseLanes|n,cachePool:l}),o.memoizedState=c,o.childLanes=qs(e,r,n),t.memoizedState=Vs,i):(as(t),e=(n=e.child).sibling,(n=Fr(n,{mode:"visible",children:i.children})).return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n)}function Us(e,t){return(t=Ws({mode:"visible",children:t},e.mode)).return=e,e.child=t}function Ws(e,t){return(e=Lr(22,e,null,t)).lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Hs(e,t,n){return ns(t,e.child,null,n),(e=Us(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function $s(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),wi(e.return,t,n)}function Gs(e,t,n,r,i){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function Ys(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(As(e,t,r.children,n),0!==(2&(r=us.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&$s(e,n,t);else if(19===e.tag)$s(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}switch(q(us,r),i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===hs(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Gs(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===hs(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Gs(t,!0,n,null,o);break;case"together":Gs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Qs(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),pc|=t.lanes,0===(n&t.childLanes)){if(null===e)return null;if(Si(e,t,n,!1),0===(n&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Fr(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Fr(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Xs(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!xi(e))}function Zs(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps)Es=!0;else{if(!Xs(e,n)&&0===(128&t.flags))return Es=!1,function(e,t,n){switch(t.tag){case 3:$(t,t.stateNode.containerInfo),_i(0,Ni,e.memoizedState.cache),pi();break;case 27:case 5:Y(t);break;case 4:$(t,t.stateNode.containerInfo);break;case 10:_i(0,t.type,t.memoizedProps.value);break;case 13:var r=t.memoizedState;if(null!==r)return null!==r.dehydrated?(as(t),t.flags|=128,null):0!==(n&t.child.childLanes)?Bs(e,t,n):(as(t),null!==(e=Qs(e,t,n))?e.sibling:null);as(t);break;case 19:var i=0!==(128&e.flags);if((r=0!==(n&t.childLanes))||(Si(e,t,n,!1),r=0!==(n&t.childLanes)),i){if(r)return Ys(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),q(us,us.current),r)break;return null;case 22:case 23:return t.lanes=0,Ns(e,t,n);case 24:_i(0,Ni,e.memoizedState.cache)}return Qs(e,t,n)}(e,t,n);Es=0!==(131072&e.flags)}else Es=!1,oi&&0!==(1048576&t.flags)&&ei(t,Gr,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var r=t.elementType,i=r._init;if(r=i(r._payload),t.type=r,"function"!==typeof r){if(void 0!==r&&null!==r){if((i=r.$$typeof)===k){t.tag=11,t=Os(null,t,r,e,n);break e}if(i===C){t.tag=14,t=Ms(null,t,r,e,n);break e}}throw t=N(r)||r,Error(a(306,t,""))}jr(r)?(e=gs(r,e),t.tag=1,t=js(null,t,r,e,n)):(t.tag=0,t=Ds(null,t,r,e,n))}return t;case 0:return Ds(e,t,t.type,t.pendingProps,n);case 1:return js(e,t,r=t.type,i=gs(r,t.pendingProps),n);case 3:e:{if($(t,t.stateNode.containerInfo),null===e)throw Error(a(387));r=t.pendingProps;var o=t.memoizedState;i=o.element,ro(e,t),uo(t,r,null,n);var s=t.memoizedState;if(r=s.cache,_i(0,Ni,r),r!==o.cache&&ki(t,[Ni],n,!0),co(),r=s.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:s.cache},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Fs(e,t,r,n);break e}if(r!==i){mi(i=xr(Error(a(424)),t)),t=Fs(e,t,r,n);break e}if(9===(e=t.stateNode.containerInfo).nodeType)e=e.body;else e="HTML"===e.nodeName?e.ownerDocument.body:e;for(ii=vh(e.firstChild),ri=t,oi=!0,ai=null,si=!0,n=rs(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(pi(),r===i){t=Qs(e,t,n);break e}As(e,t,r,n)}t=t.child}return t;case 26:return Rs(e,t),null===e?(n=Ah(t.type,null,t.pendingProps,null))?t.memoizedState=n:oi||(n=t.type,e=t.pendingProps,(r=rh(W.current).createElement(n))[Ne]=t,r[Ie]=e,eh(r,n,e),He(r),t.stateNode=r):t.memoizedState=Ah(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Y(t),null===e&&oi&&(r=t.stateNode=bh(t.type,t.pendingProps,W.current),ri=t,si=!0,i=ii,ph(t.type)?(yh=i,ii=vh(r.firstChild)):ii=i),As(e,t,t.pendingProps.children,n),Rs(e,t),null===e&&(t.flags|=4194304),t.child;case 5:return null===e&&oi&&((i=r=ii)&&(null!==(r=function(e,t,n,r){for(;1===e.nodeType;){var i=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(r){if(!e[Ve])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(o=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(o!==i.rel||e.getAttribute("href")!==(null==i.href||""===i.href?null:i.href)||e.getAttribute("crossorigin")!==(null==i.crossOrigin?null:i.crossOrigin)||e.getAttribute("title")!==(null==i.title?null:i.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((o=e.getAttribute("src"))!==(null==i.src?null:i.src)||e.getAttribute("type")!==(null==i.type?null:i.type)||e.getAttribute("crossorigin")!==(null==i.crossOrigin?null:i.crossOrigin))&&o&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var o=null==i.name?null:""+i.name;if("hidden"===i.type&&e.getAttribute("name")===o)return e}if(null===(e=vh(e.nextSibling)))break}return null}(r,t.type,t.pendingProps,si))?(t.stateNode=r,ri=t,ii=vh(r.firstChild),si=!1,i=!0):i=!1),i||ci(t)),Y(t),i=t.type,o=t.pendingProps,s=null!==e?e.memoizedProps:null,r=o.children,ah(i,o)?r=null:null!==s&&ah(i,s)&&(t.flags|=32),null!==t.memoizedState&&(i=No(e,t,Do,null,null,n),Yh._currentValue=i),Rs(e,t),As(e,t,r,n),t.child;case 6:return null===e&&oi&&((e=n=ii)&&(null!==(n=function(e,t,n){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!n)return null;if(null===(e=vh(e.nextSibling)))return null}return e}(n,t.pendingProps,si))?(t.stateNode=n,ri=t,ii=null,e=!0):e=!1),e||ci(t)),null;case 13:return Bs(e,t,n);case 4:return $(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=ns(t,null,r,n):As(e,t,r,n),t.child;case 11:return Os(e,t,t.type,t.pendingProps,n);case 7:return As(e,t,t.pendingProps,n),t.child;case 8:case 12:return As(e,t,t.pendingProps.children,n),t.child;case 10:return r=t.pendingProps,_i(0,t.type,r.value),As(e,t,r.children,n),t.child;case 9:return i=t.type._context,r=t.pendingProps.children,Ci(t),r=r(i=Ti(i)),t.flags|=1,As(e,t,r,n),t.child;case 14:return Ms(e,t,t.type,t.pendingProps,n);case 15:return Ps(e,t,t.type,t.pendingProps,n);case 19:return Ys(e,t,n);case 31:return r=t.pendingProps,n=t.mode,r={mode:r.mode,children:r.children},null===e?((n=Ws(r,n)).ref=t.ref,t.child=n,n.return=t,t=n):((n=Fr(e.child,r)).ref=t.ref,t.child=n,n.return=t,t=n),t;case 22:return Ns(e,t,n);case 24:return Ci(t),r=Ti(Ni),null===e?(null===(i=Bi())&&(i=rc,o=Ii(),i.pooledCache=o,o.refCount++,null!==o&&(i.pooledCacheLanes|=n),i=o),t.memoizedState={parent:r,cache:i},no(t),_i(0,Ni,i)):(0!==(e.lanes&n)&&(ro(e,t),uo(t,null,null,n),co()),i=e.memoizedState,o=t.memoizedState,i.parent!==r?(i={parent:r,cache:r},t.memoizedState=i,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=i),_i(0,Ni,r)):(r=o.cache,_i(0,Ni,r),r!==i.cache&&ki(t,[Ni],n,!0))),As(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(a(156,t.tag))}function Ks(e){e.flags|=4}function Js(e,t){if("stylesheet"!==t.type||0!==(4&t.state.loading))e.flags&=-16777217;else if(e.flags|=16777216,!qh(t)){if(null!==(t=is.current)&&((4194048&oc)===oc?null!==os:(62914560&oc)!==oc&&0===(536870912&oc)||t!==os))throw Ki=Yi,$i;e.flags|=8192}}function el(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?Se():536870912,e.lanes|=t,vc|=t)}function tl(e,t){if(!oi)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function nl(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=65011712&i.subtreeFlags,r|=65011712&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function rl(e,t,n){var r=t.pendingProps;switch(ni(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return nl(t),null;case 3:return n=t.stateNode,r=null,null!==e&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),bi(Ni),G(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(di(t)?Ks(t):null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,fi())),nl(t),null;case 26:return n=t.memoizedState,null===e?(Ks(t),null!==n?(nl(t),Js(t,n)):(nl(t),t.flags&=-16777217)):n?n!==e.memoizedState?(Ks(t),nl(t),Js(t,n)):(nl(t),t.flags&=-16777217):(e.memoizedProps!==r&&Ks(t),nl(t),t.flags&=-16777217),null;case 27:Q(t),n=W.current;var i=t.type;if(null!==e&&null!=t.stateNode)e.memoizedProps!==r&&Ks(t);else{if(!r){if(null===t.stateNode)throw Error(a(166));return nl(t),null}e=B.current,di(t)?ui(t):(e=bh(i,r,n),t.stateNode=e,Ks(t))}return nl(t),null;case 5:if(Q(t),n=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==r&&Ks(t);else{if(!r){if(null===t.stateNode)throw Error(a(166));return nl(t),null}if(e=B.current,di(t))ui(t);else{switch(i=rh(W.current),e){case 1:e=i.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:e=i.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":e=i.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":e=i.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":(e=i.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e="string"===typeof r.is?i.createElement("select",{is:r.is}):i.createElement("select"),r.multiple?e.multiple=!0:r.size&&(e.size=r.size);break;default:e="string"===typeof r.is?i.createElement(n,{is:r.is}):i.createElement(n)}}e[Ne]=t,e[Ie]=r;e:for(i=t.child;null!==i;){if(5===i.tag||6===i.tag)e.appendChild(i.stateNode);else if(4!==i.tag&&27!==i.tag&&null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;null===i.sibling;){if(null===i.return||i.return===t)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}t.stateNode=e;e:switch(eh(e,n,r),n){case"button":case"input":case"select":case"textarea":e=!!r.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&Ks(t)}}return nl(t),t.flags&=-16777217,null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==r&&Ks(t);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(e=W.current,di(t)){if(e=t.stateNode,n=t.memoizedProps,r=null,null!==(i=ri))switch(i.tag){case 27:case 5:r=i.memoizedProps}e[Ne]=t,(e=!!(e.nodeValue===n||null!==r&&!0===r.suppressHydrationWarning||Xu(e.nodeValue,n)))||ci(t)}else(e=rh(e).createTextNode(r))[Ne]=t,t.stateNode=e}return nl(t),null;case 13:if(r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(i=di(t),null!==r&&null!==r.dehydrated){if(null===e){if(!i)throw Error(a(318));if(!(i=null!==(i=t.memoizedState)?i.dehydrated:null))throw Error(a(317));i[Ne]=t}else pi(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;nl(t),i=!1}else i=fi(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=i),i=!0;if(!i)return 256&t.flags?(cs(t),t):(cs(t),null)}if(cs(t),0!==(128&t.flags))return t.lanes=n,t;if(n=null!==r,e=null!==e&&null!==e.memoizedState,n){i=null,null!==(r=t.child).alternate&&null!==r.alternate.memoizedState&&null!==r.alternate.memoizedState.cachePool&&(i=r.alternate.memoizedState.cachePool.pool);var o=null;null!==r.memoizedState&&null!==r.memoizedState.cachePool&&(o=r.memoizedState.cachePool.pool),o!==i&&(r.flags|=2048)}return n!==e&&n&&(t.child.flags|=8192),el(t,t.updateQueue),nl(t),null;case 4:return G(),null===e&&zu(t.stateNode.containerInfo),nl(t),null;case 10:return bi(t.type),nl(t),null;case 19:if(z(us),null===(i=t.memoizedState))return nl(t),null;if(r=0!==(128&t.flags),null===(o=i.rendering))if(r)tl(i,!1);else{if(0!==dc||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(o=hs(e))){for(t.flags|=128,tl(i,!1),e=o.updateQueue,t.updateQueue=e,el(t,e),t.subtreeFlags=0,e=n,n=t.child;null!==n;)Vr(n,e),n=n.sibling;return q(us,1&us.current|2),t.child}e=e.sibling}null!==i.tail&&te()>kc&&(t.flags|=128,r=!0,tl(i,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=hs(o))){if(t.flags|=128,r=!0,e=e.updateQueue,t.updateQueue=e,el(t,e),tl(i,!0),null===i.tail&&"hidden"===i.tailMode&&!o.alternate&&!oi)return nl(t),null}else 2*te()-i.renderingStartTime>kc&&536870912!==n&&(t.flags|=128,r=!0,tl(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(null!==(e=i.last)?e.sibling=o:t.child=o,i.last=o)}return null!==i.tail?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=te(),t.sibling=null,e=us.current,q(us,r?1&e|2:1&e),t):(nl(t),null);case 22:case 23:return cs(t),yo(),r=null!==t.memoizedState,null!==e?null!==e.memoizedState!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?0!==(536870912&n)&&0===(128&t.flags)&&(nl(t),6&t.subtreeFlags&&(t.flags|=8192)):nl(t),null!==(n=t.updateQueue)&&el(t,n.retryQueue),n=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),r=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(r=t.memoizedState.cachePool.pool),r!==n&&(t.flags|=2048),null!==e&&z(qi),null;case 24:return n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),bi(Ni),nl(t),null;case 25:case 30:return null}throw Error(a(156,t.tag))}function il(e,t){switch(ni(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return bi(Ni),G(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return Q(t),null;case 13:if(cs(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));pi()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return z(us),null;case 4:return G(),null;case 10:return bi(t.type),null;case 22:case 23:return cs(t),yo(),null!==e&&z(qi),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return bi(Ni),null;default:return null}}function ol(e,t){switch(ni(t),t.tag){case 3:bi(Ni),G();break;case 26:case 27:case 5:Q(t);break;case 4:G();break;case 13:cs(t);break;case 19:z(us);break;case 10:bi(t.type);break;case 22:case 23:cs(t),yo(),null!==e&&z(qi);break;case 24:bi(Ni)}}function al(e,t){try{var n=t.updateQueue,r=null!==n?n.lastEffect:null;if(null!==r){var i=r.next;n=i;do{if((n.tag&e)===e){r=void 0;var o=n.create,a=n.inst;r=o(),a.destroy=r}n=n.next}while(n!==i)}}catch(s){uu(t,t.return,s)}}function sl(e,t,n){try{var r=t.updateQueue,i=null!==r?r.lastEffect:null;if(null!==i){var o=i.next;r=o;do{if((r.tag&e)===e){var a=r.inst,s=a.destroy;if(void 0!==s){a.destroy=void 0,i=t;var l=n,c=s;try{c()}catch(u){uu(i,l,u)}}}r=r.next}while(r!==o)}}catch(u){uu(t,t.return,u)}}function ll(e){var t=e.updateQueue;if(null!==t){var n=e.stateNode;try{po(t,n)}catch(r){uu(e,e.return,r)}}}function cl(e,t,n){n.props=gs(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(r){uu(e,t,r)}}function ul(e,t){try{var n=e.ref;if(null!==n){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;default:r=e.stateNode}"function"===typeof n?e.refCleanup=n(r):n.current=r}}catch(i){uu(e,t,i)}}function hl(e,t){var n=e.ref,r=e.refCleanup;if(null!==n)if("function"===typeof r)try{r()}catch(i){uu(e,t,i)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"===typeof n)try{n(null)}catch(o){uu(e,t,o)}else n.current=null}function dl(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(i){uu(e,e.return,i)}}function pl(e,t,n){try{var r=e.stateNode;!function(e,t,n,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,o=null,s=null,l=null,c=null,u=null,h=null;for(f in n){var d=n[f];if(n.hasOwnProperty(f)&&null!=d)switch(f){case"checked":case"value":break;case"defaultValue":c=d;default:r.hasOwnProperty(f)||Ku(e,t,f,null,r,d)}}for(var p in r){var f=r[p];if(d=n[p],r.hasOwnProperty(p)&&(null!=f||null!=d))switch(p){case"type":o=f;break;case"name":i=f;break;case"checked":u=f;break;case"defaultChecked":h=f;break;case"value":s=f;break;case"defaultValue":l=f;break;case"children":case"dangerouslySetInnerHTML":if(null!=f)throw Error(a(137,t));break;default:f!==d&&Ku(e,t,p,f,r,d)}}return void gt(e,s,l,c,u,h,o,i);case"select":for(o in f=s=l=p=null,n)if(c=n[o],n.hasOwnProperty(o)&&null!=c)switch(o){case"value":break;case"multiple":f=c;default:r.hasOwnProperty(o)||Ku(e,t,o,null,r,c)}for(i in r)if(o=r[i],c=n[i],r.hasOwnProperty(i)&&(null!=o||null!=c))switch(i){case"value":p=o;break;case"defaultValue":l=o;break;case"multiple":s=o;default:o!==c&&Ku(e,t,i,o,r,c)}return t=l,n=s,r=f,void(null!=p?_t(e,!!n,p,!1):!!r!==!!n&&(null!=t?_t(e,!!n,t,!0):_t(e,!!n,n?[]:"",!1)));case"textarea":for(l in f=p=null,n)if(i=n[l],n.hasOwnProperty(l)&&null!=i&&!r.hasOwnProperty(l))switch(l){case"value":case"children":break;default:Ku(e,t,l,null,r,i)}for(s in r)if(i=r[s],o=n[s],r.hasOwnProperty(s)&&(null!=i||null!=o))switch(s){case"value":p=i;break;case"defaultValue":f=i;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=i)throw Error(a(91));break;default:i!==o&&Ku(e,t,s,i,r,o)}return void bt(e,p,f);case"option":for(var m in n)if(p=n[m],n.hasOwnProperty(m)&&null!=p&&!r.hasOwnProperty(m))if("selected"===m)e.selected=!1;else Ku(e,t,m,null,r,p);for(c in r)if(p=r[c],f=n[c],r.hasOwnProperty(c)&&p!==f&&(null!=p||null!=f))if("selected"===c)e.selected=p&&"function"!==typeof p&&"symbol"!==typeof p;else Ku(e,t,c,p,r,f);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var g in n)p=n[g],n.hasOwnProperty(g)&&null!=p&&!r.hasOwnProperty(g)&&Ku(e,t,g,null,r,p);for(u in r)if(p=r[u],f=n[u],r.hasOwnProperty(u)&&p!==f&&(null!=p||null!=f))switch(u){case"children":case"dangerouslySetInnerHTML":if(null!=p)throw Error(a(137,t));break;default:Ku(e,t,u,p,r,f)}return;default:if(Tt(t)){for(var v in n)p=n[v],n.hasOwnProperty(v)&&void 0!==p&&!r.hasOwnProperty(v)&&Ju(e,t,v,void 0,r,p);for(h in r)p=r[h],f=n[h],!r.hasOwnProperty(h)||p===f||void 0===p&&void 0===f||Ju(e,t,h,p,r,f);return}}for(var y in n)p=n[y],n.hasOwnProperty(y)&&null!=p&&!r.hasOwnProperty(y)&&Ku(e,t,y,null,r,p);for(d in r)p=r[d],f=n[d],!r.hasOwnProperty(d)||p===f||null==p&&null==f||Ku(e,t,d,p,r,f)}(r,e.type,n,t),r[Ie]=t}catch(i){uu(e,e.return,i)}}function fl(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag&&ph(e.type)||4===e.tag}function ml(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||fl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(27===e.tag&&ph(e.type))continue e;if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function gl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?(9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).insertBefore(e,t):((t=9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zu));else if(4!==r&&(27===r&&ph(e.type)&&(n=e.stateNode,t=null),null!==(e=e.child)))for(gl(e,t,n),e=e.sibling;null!==e;)gl(e,t,n),e=e.sibling}function vl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&(27===r&&ph(e.type)&&(n=e.stateNode),null!==(e=e.child)))for(vl(e,t,n),e=e.sibling;null!==e;)vl(e,t,n),e=e.sibling}function yl(e){var t=e.stateNode,n=e.memoizedProps;try{for(var r=e.type,i=t.attributes;i.length;)t.removeAttributeNode(i[0]);eh(t,r,n),t[Ne]=e,t[Ie]=n}catch(o){uu(e,e.return,o)}}var _l=!1,bl=!1,wl=!1,kl="function"===typeof WeakSet?WeakSet:Set,Sl=null;function xl(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:jl(e,n),4&r&&al(5,n);break;case 1:if(jl(e,n),4&r)if(e=n.stateNode,null===t)try{e.componentDidMount()}catch(a){uu(n,n.return,a)}else{var i=gs(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(i,t,e.__reactInternalSnapshotBeforeUpdate)}catch(s){uu(n,n.return,s)}}64&r&&ll(n),512&r&&ul(n,n.return);break;case 3:if(jl(e,n),64&r&&null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 27:case 5:case 1:t=n.child.stateNode}try{po(e,t)}catch(a){uu(n,n.return,a)}}break;case 27:null===t&&4&r&&yl(n);case 26:case 5:jl(e,n),null===t&&4&r&&dl(n),512&r&&ul(n,n.return);break;case 12:jl(e,n);break;case 13:jl(e,n),4&r&&Ml(e,n),64&r&&(null!==(e=n.memoizedState)&&(null!==(e=e.dehydrated)&&function(e,t){var n=e.ownerDocument;if("$?"!==e.data||"complete"===n.readyState)t();else{var r=function(){t(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}(e,n=fu.bind(null,n))));break;case 22:if(!(r=null!==n.memoizedState||_l)){t=null!==t&&null!==t.memoizedState||bl,i=_l;var o=bl;_l=r,(bl=t)&&!o?Vl(e,n,0!==(8772&n.subtreeFlags)):jl(e,n),_l=i,bl=o}break;case 30:break;default:jl(e,n)}}function Cl(e){var t=e.alternate;null!==t&&(e.alternate=null,Cl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&ze(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Tl=null,El=!1;function Al(e,t,n){for(n=n.child;null!==n;)Ol(e,t,n),n=n.sibling}function Ol(e,t,n){if(he&&"function"===typeof he.onCommitFiberUnmount)try{he.onCommitFiberUnmount(ue,n)}catch(o){}switch(n.tag){case 26:bl||hl(n,t),Al(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode).parentNode.removeChild(n);break;case 27:bl||hl(n,t);var r=Tl,i=El;ph(n.type)&&(Tl=n.stateNode,El=!1),Al(e,t,n),wh(n.stateNode),Tl=r,El=i;break;case 5:bl||hl(n,t);case 6:if(r=Tl,i=El,Tl=null,Al(e,t,n),El=i,null!==(Tl=r))if(El)try{(9===Tl.nodeType?Tl.body:"HTML"===Tl.nodeName?Tl.ownerDocument.body:Tl).removeChild(n.stateNode)}catch(a){uu(n,t,a)}else try{Tl.removeChild(n.stateNode)}catch(a){uu(n,t,a)}break;case 18:null!==Tl&&(El?(fh(9===(e=Tl).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,n.stateNode),Ed(e)):fh(Tl,n.stateNode));break;case 4:r=Tl,i=El,Tl=n.stateNode.containerInfo,El=!0,Al(e,t,n),Tl=r,El=i;break;case 0:case 11:case 14:case 15:bl||sl(2,n,t),bl||sl(4,n,t),Al(e,t,n);break;case 1:bl||(hl(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount&&cl(n,t,r)),Al(e,t,n);break;case 21:Al(e,t,n);break;case 22:bl=(r=bl)||null!==n.memoizedState,Al(e,t,n),bl=r;break;default:Al(e,t,n)}}function Ml(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{Ed(e)}catch(n){uu(t,t.return,n)}}function Pl(e,t){var n=function(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new kl),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new kl),t;default:throw Error(a(435,e.tag))}}(e);t.forEach((function(t){var r=mu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}function Nl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r],o=e,s=t,l=s;e:for(;null!==l;){switch(l.tag){case 27:if(ph(l.type)){Tl=l.stateNode,El=!1;break e}break;case 5:Tl=l.stateNode,El=!1;break e;case 3:case 4:Tl=l.stateNode.containerInfo,El=!0;break e}l=l.return}if(null===Tl)throw Error(a(160));Ol(o,s,i),Tl=null,El=!1,null!==(o=i.alternate)&&(o.return=null),i.return=null}if(13878&t.subtreeFlags)for(t=t.child;null!==t;)Rl(t,e),t=t.sibling}var Il=null;function Rl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Nl(t,e),Dl(e),4&r&&(sl(3,e,e.return),al(3,e),sl(5,e,e.return));break;case 1:Nl(t,e),Dl(e),512&r&&(bl||null===n||hl(n,n.return)),64&r&&_l&&(null!==(e=e.updateQueue)&&(null!==(r=e.callbacks)&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===n?r:n.concat(r))));break;case 26:var i=Il;if(Nl(t,e),Dl(e),512&r&&(bl||null===n||hl(n,n.return)),4&r){var o=null!==n?n.memoizedState:null;if(r=e.memoizedState,null===n)if(null===r)if(null===e.stateNode){e:{r=e.type,n=e.memoizedProps,i=i.ownerDocument||i;t:switch(r){case"title":(!(o=i.getElementsByTagName("title")[0])||o[Ve]||o[Ne]||"http://www.w3.org/2000/svg"===o.namespaceURI||o.hasAttribute("itemprop"))&&(o=i.createElement(r),i.head.insertBefore(o,i.querySelector("head > title"))),eh(o,r,n),o[Ne]=e,He(o),r=o;break e;case"link":var s=Vh("link","href",i).get(r+(n.href||""));if(s)for(var l=0;l<s.length;l++)if((o=s[l]).getAttribute("href")===(null==n.href||""===n.href?null:n.href)&&o.getAttribute("rel")===(null==n.rel?null:n.rel)&&o.getAttribute("title")===(null==n.title?null:n.title)&&o.getAttribute("crossorigin")===(null==n.crossOrigin?null:n.crossOrigin)){s.splice(l,1);break t}eh(o=i.createElement(r),r,n),i.head.appendChild(o);break;case"meta":if(s=Vh("meta","content",i).get(r+(n.content||"")))for(l=0;l<s.length;l++)if((o=s[l]).getAttribute("content")===(null==n.content?null:""+n.content)&&o.getAttribute("name")===(null==n.name?null:n.name)&&o.getAttribute("property")===(null==n.property?null:n.property)&&o.getAttribute("http-equiv")===(null==n.httpEquiv?null:n.httpEquiv)&&o.getAttribute("charset")===(null==n.charSet?null:n.charSet)){s.splice(l,1);break t}eh(o=i.createElement(r),r,n),i.head.appendChild(o);break;default:throw Error(a(468,r))}o[Ne]=e,He(o),r=o}e.stateNode=r}else zh(i,e.type,e.stateNode);else e.stateNode=Rh(i,r,e.memoizedProps);else o!==r?(null===o?null!==n.stateNode&&(n=n.stateNode).parentNode.removeChild(n):o.count--,null===r?zh(i,e.type,e.stateNode):Rh(i,r,e.memoizedProps)):null===r&&null!==e.stateNode&&pl(e,e.memoizedProps,n.memoizedProps)}break;case 27:Nl(t,e),Dl(e),512&r&&(bl||null===n||hl(n,n.return)),null!==n&&4&r&&pl(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Nl(t,e),Dl(e),512&r&&(bl||null===n||hl(n,n.return)),32&e.flags){i=e.stateNode;try{kt(i,"")}catch(f){uu(e,e.return,f)}}4&r&&null!=e.stateNode&&pl(e,i=e.memoizedProps,null!==n?n.memoizedProps:i),1024&r&&(wl=!0);break;case 6:if(Nl(t,e),Dl(e),4&r){if(null===e.stateNode)throw Error(a(162));r=e.memoizedProps,n=e.stateNode;try{n.nodeValue=r}catch(f){uu(e,e.return,f)}}break;case 3:if(Fh=null,i=Il,Il=xh(t.containerInfo),Nl(t,e),Il=i,Dl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Ed(t.containerInfo)}catch(f){uu(e,e.return,f)}wl&&(wl=!1,Ll(e));break;case 4:r=Il,Il=xh(e.stateNode.containerInfo),Nl(t,e),Dl(e),Il=r;break;case 12:default:Nl(t,e),Dl(e);break;case 13:Nl(t,e),Dl(e),8192&e.child.flags&&null!==e.memoizedState!==(null!==n&&null!==n.memoizedState)&&(wc=te()),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,Pl(e,r)));break;case 22:i=null!==e.memoizedState;var c=null!==n&&null!==n.memoizedState,u=_l,h=bl;if(_l=u||i,bl=h||c,Nl(t,e),bl=h,_l=u,Dl(e),8192&r)e:for(t=e.stateNode,t._visibility=i?-2&t._visibility:1|t._visibility,i&&(null===n||c||_l||bl||Fl(e)),n=null,t=e;;){if(5===t.tag||26===t.tag){if(null===n){c=n=t;try{if(o=c.stateNode,i)"function"===typeof(s=o.style).setProperty?s.setProperty("display","none","important"):s.display="none";else{l=c.stateNode;var d=c.memoizedProps.style,p=void 0!==d&&null!==d&&d.hasOwnProperty("display")?d.display:null;l.style.display=null==p||"boolean"===typeof p?"":(""+p).trim()}}catch(f){uu(c,c.return,f)}}}else if(6===t.tag){if(null===n){c=t;try{c.stateNode.nodeValue=i?"":c.memoizedProps}catch(f){uu(c,c.return,f)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}4&r&&(null!==(r=e.updateQueue)&&(null!==(n=r.retryQueue)&&(r.retryQueue=null,Pl(e,n))));break;case 19:Nl(t,e),Dl(e),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,Pl(e,r)));case 30:case 21:}}function Dl(e){var t=e.flags;if(2&t){try{for(var n,r=e.return;null!==r;){if(fl(r)){n=r;break}r=r.return}if(null==n)throw Error(a(160));switch(n.tag){case 27:var i=n.stateNode;vl(e,ml(e),i);break;case 5:var o=n.stateNode;32&n.flags&&(kt(o,""),n.flags&=-33),vl(e,ml(e),o);break;case 3:case 4:var s=n.stateNode.containerInfo;gl(e,ml(e),s);break;default:throw Error(a(161))}}catch(l){uu(e,e.return,l)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Ll(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;Ll(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function jl(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)xl(e,t.alternate,t),t=t.sibling}function Fl(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:sl(4,t,t.return),Fl(t);break;case 1:hl(t,t.return);var n=t.stateNode;"function"===typeof n.componentWillUnmount&&cl(t,t.return,n),Fl(t);break;case 27:wh(t.stateNode);case 26:case 5:hl(t,t.return),Fl(t);break;case 22:null===t.memoizedState&&Fl(t);break;default:Fl(t)}e=e.sibling}}function Vl(e,t,n){for(n=n&&0!==(8772&t.subtreeFlags),t=t.child;null!==t;){var r=t.alternate,i=e,o=t,a=o.flags;switch(o.tag){case 0:case 11:case 15:Vl(i,o,n),al(4,o);break;case 1:if(Vl(i,o,n),"function"===typeof(i=(r=o).stateNode).componentDidMount)try{i.componentDidMount()}catch(c){uu(r,r.return,c)}if(null!==(i=(r=o).updateQueue)){var s=r.stateNode;try{var l=i.shared.hiddenCallbacks;if(null!==l)for(i.shared.hiddenCallbacks=null,i=0;i<l.length;i++)ho(l[i],s)}catch(c){uu(r,r.return,c)}}n&&64&a&&ll(o),ul(o,o.return);break;case 27:yl(o);case 26:case 5:Vl(i,o,n),n&&null===r&&4&a&&dl(o),ul(o,o.return);break;case 12:Vl(i,o,n);break;case 13:Vl(i,o,n),n&&4&a&&Ml(i,o);break;case 22:null===o.memoizedState&&Vl(i,o,n),ul(o,o.return);break;case 30:break;default:Vl(i,o,n)}t=t.sibling}}function zl(e,t){var n=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==n&&(null!=e&&e.refCount++,null!=n&&Ri(n))}function ql(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Ri(e))}function Bl(e,t,n,r){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)Ul(e,t,n,r),t=t.sibling}function Ul(e,t,n,r){var i=t.flags;switch(t.tag){case 0:case 11:case 15:Bl(e,t,n,r),2048&i&&al(9,t);break;case 1:case 13:default:Bl(e,t,n,r);break;case 3:Bl(e,t,n,r),2048&i&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Ri(e)));break;case 12:if(2048&i){Bl(e,t,n,r),e=t.stateNode;try{var o=t.memoizedProps,a=o.id,s=o.onPostCommit;"function"===typeof s&&s(a,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(l){uu(t,t.return,l)}}else Bl(e,t,n,r);break;case 23:break;case 22:o=t.stateNode,a=t.alternate,null!==t.memoizedState?2&o._visibility?Bl(e,t,n,r):Hl(e,t):2&o._visibility?Bl(e,t,n,r):(o._visibility|=2,Wl(e,t,n,r,0!==(10256&t.subtreeFlags))),2048&i&&zl(a,t);break;case 24:Bl(e,t,n,r),2048&i&&ql(t.alternate,t)}}function Wl(e,t,n,r,i){for(i=i&&0!==(10256&t.subtreeFlags),t=t.child;null!==t;){var o=e,a=t,s=n,l=r,c=a.flags;switch(a.tag){case 0:case 11:case 15:Wl(o,a,s,l,i),al(8,a);break;case 23:break;case 22:var u=a.stateNode;null!==a.memoizedState?2&u._visibility?Wl(o,a,s,l,i):Hl(o,a):(u._visibility|=2,Wl(o,a,s,l,i)),i&&2048&c&&zl(a.alternate,a);break;case 24:Wl(o,a,s,l,i),i&&2048&c&&ql(a.alternate,a);break;default:Wl(o,a,s,l,i)}t=t.sibling}}function Hl(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var n=e,r=t,i=r.flags;switch(r.tag){case 22:Hl(n,r),2048&i&&zl(r.alternate,r);break;case 24:Hl(n,r),2048&i&&ql(r.alternate,r);break;default:Hl(n,r)}t=t.sibling}}var $l=8192;function Gl(e){if(e.subtreeFlags&$l)for(e=e.child;null!==e;)Yl(e),e=e.sibling}function Yl(e){switch(e.tag){case 26:Gl(e),e.flags&$l&&null!==e.memoizedState&&function(e,t,n){if(null===Bh)throw Error(a(475));var r=Bh;if("stylesheet"===t.type&&("string"!==typeof n.media||!1!==matchMedia(n.media).matches)&&0===(4&t.state.loading)){if(null===t.instance){var i=Oh(n.href),o=e.querySelector(Mh(i));if(o)return null!==(e=o._p)&&"object"===typeof e&&"function"===typeof e.then&&(r.count++,r=Wh.bind(r),e.then(r,r)),t.state.loading|=4,t.instance=o,void He(o);o=e.ownerDocument||e,n=Ph(n),(i=kh.get(i))&&Lh(n,i),He(o=o.createElement("link"));var s=o;s._p=new Promise((function(e,t){s.onload=e,s.onerror=t})),eh(o,"link",n),t.instance=o}null===r.stylesheets&&(r.stylesheets=new Map),r.stylesheets.set(t,e),(e=t.state.preload)&&0===(3&t.state.loading)&&(r.count++,t=Wh.bind(r),e.addEventListener("load",t),e.addEventListener("error",t))}}(Il,e.memoizedState,e.memoizedProps);break;case 5:default:Gl(e);break;case 3:case 4:var t=Il;Il=xh(e.stateNode.containerInfo),Gl(e),Il=t;break;case 22:null===e.memoizedState&&(null!==(t=e.alternate)&&null!==t.memoizedState?(t=$l,$l=16777216,Gl(e),$l=t):Gl(e))}}function Ql(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function Xl(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];Sl=r,Jl(r,e)}Ql(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)Zl(e),e=e.sibling}function Zl(e){switch(e.tag){case 0:case 11:case 15:Xl(e),2048&e.flags&&sl(9,e,e.return);break;case 3:case 12:default:Xl(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&2&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-3,Kl(e)):Xl(e)}}function Kl(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];Sl=r,Jl(r,e)}Ql(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:sl(8,t,t.return),Kl(t);break;case 22:2&(n=t.stateNode)._visibility&&(n._visibility&=-3,Kl(t));break;default:Kl(t)}e=e.sibling}}function Jl(e,t){for(;null!==Sl;){var n=Sl;switch(n.tag){case 0:case 11:case 15:sl(8,n,t);break;case 23:case 22:if(null!==n.memoizedState&&null!==n.memoizedState.cachePool){var r=n.memoizedState.cachePool.pool;null!=r&&r.refCount++}break;case 24:Ri(n.memoizedState.cache)}if(null!==(r=n.child))r.return=n,Sl=r;else e:for(n=e;null!==Sl;){var i=(r=Sl).sibling,o=r.return;if(Cl(r),r===n){Sl=null;break e}if(null!==i){i.return=o,Sl=i;break e}Sl=o}}}var ec={getCacheForType:function(e){var t=Ti(Ni),n=t.data.get(e);return void 0===n&&(n=e(),t.data.set(e,n)),n}},tc="function"===typeof WeakMap?WeakMap:Map,nc=0,rc=null,ic=null,oc=0,ac=0,sc=null,lc=!1,cc=!1,uc=!1,hc=0,dc=0,pc=0,fc=0,mc=0,gc=0,vc=0,yc=null,_c=null,bc=!1,wc=0,kc=1/0,Sc=null,xc=null,Cc=0,Tc=null,Ec=null,Ac=0,Oc=0,Mc=null,Pc=null,Nc=0,Ic=null;function Rc(){if(0!==(2&nc)&&0!==oc)return oc&-oc;if(null!==R.T){return 0!==ji?ji:Ou()}return Me()}function Dc(){0===gc&&(gc=0===(536870912&oc)||oi?ke():536870912);var e=is.current;return null!==e&&(e.flags|=32),gc}function Lc(e,t,n){(e!==rc||2!==ac&&9!==ac)&&null===e.cancelPendingCommit||(Uc(e,0),zc(e,oc,gc,!1)),Ce(e,n),0!==(2&nc)&&e===rc||(e===rc&&(0===(2&nc)&&(fc|=n),4===dc&&zc(e,oc,gc,!1)),ku(e))}function jc(e,t,n){if(0!==(6&nc))throw Error(a(327));for(var r=!n&&0===(124&t)&&0===(t&e.expiredLanes)||be(e,t),i=r?function(e,t){var n=nc;nc|=2;var r=Hc(),i=$c();rc!==e||oc!==t?(Sc=null,kc=te()+500,Uc(e,t)):cc=be(e,t);e:for(;;)try{if(0!==ac&&null!==ic){t=ic;var o=sc;t:switch(ac){case 1:ac=0,sc=null,Jc(e,t,o,1);break;case 2:case 9:if(Qi(o)){ac=0,sc=null,Kc(t);break}t=function(){2!==ac&&9!==ac||rc!==e||(ac=7),ku(e)},o.then(t,t);break e;case 3:ac=7;break e;case 4:ac=5;break e;case 7:Qi(o)?(ac=0,sc=null,Kc(t)):(ac=0,sc=null,Jc(e,t,o,7));break;case 5:var s=null;switch(ic.tag){case 26:s=ic.memoizedState;case 5:case 27:var l=ic;if(!s||qh(s)){ac=0,sc=null;var c=l.sibling;if(null!==c)ic=c;else{var u=l.return;null!==u?(ic=u,eu(u)):ic=null}break t}}ac=0,sc=null,Jc(e,t,o,5);break;case 6:ac=0,sc=null,Jc(e,t,o,6);break;case 8:Bc(),dc=6;break e;default:throw Error(a(462))}}Xc();break}catch(h){Wc(e,h)}return yi=vi=null,R.H=r,R.A=i,nc=n,null!==ic?0:(rc=null,oc=0,Ar(),dc)}(e,t):Yc(e,t,!0),o=r;;){if(0===i){cc&&!r&&zc(e,t,0,!1);break}if(n=e.current.alternate,!o||Vc(n)){if(2===i){if(o=t,e.errorRecoveryDisabledLanes&o)var s=0;else s=0!==(s=-536870913&e.pendingLanes)?s:536870912&s?536870912:0;if(0!==s){t=s;e:{var l=e;i=yc;var c=l.current.memoizedState.isDehydrated;if(c&&(Uc(l,s).flags|=256),2!==(s=Yc(l,s,!1))){if(uc&&!c){l.errorRecoveryDisabledLanes|=o,fc|=o,i=4;break e}o=_c,_c=i,null!==o&&(null===_c?_c=o:_c.push.apply(_c,o))}i=s}if(o=!1,2!==i)continue}}if(1===i){Uc(e,0),zc(e,t,0,!0);break}e:{switch(r=e,o=i){case 0:case 1:throw Error(a(345));case 4:if((4194048&t)!==t)break;case 6:zc(r,t,gc,!lc);break e;case 2:_c=null;break;case 3:case 5:break;default:throw Error(a(329))}if((62914560&t)===t&&10<(i=wc+300-te())){if(zc(r,t,gc,!lc),0!==_e(r,0,!0))break e;r.timeoutHandle=lh(Fc.bind(null,r,n,_c,Sc,bc,t,gc,fc,vc,lc,o,2,-0,0),i)}else Fc(r,n,_c,Sc,bc,t,gc,fc,vc,lc,o,0,-0,0)}break}i=Yc(e,t,!1),o=!1}ku(e)}function Fc(e,t,n,r,i,o,s,l,c,u,h,d,p,f){if(e.timeoutHandle=-1,(8192&(d=t.subtreeFlags)||16785408===(16785408&d))&&(Bh={stylesheets:null,count:0,unsuspend:Uh},Yl(t),null!==(d=function(){if(null===Bh)throw Error(a(475));var e=Bh;return e.stylesheets&&0===e.count&&$h(e,e.stylesheets),0<e.count?function(t){var n=setTimeout((function(){if(e.stylesheets&&$h(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}}),6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(n)}}:null}())))return e.cancelPendingCommit=d(nu.bind(null,e,t,o,n,r,i,s,l,c,h,1,p,f)),void zc(e,o,s,!u);nu(e,t,o,n,r,i,s,l,c)}function Vc(e){for(var t=e;;){var n=t.tag;if((0===n||11===n||15===n)&&16384&t.flags&&(null!==(n=t.updateQueue)&&null!==(n=n.stores)))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!Qn(o(),i))return!1}catch(a){return!1}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function zc(e,t,n,r){t&=~mc,t&=~fc,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var i=t;0<i;){var o=31-pe(i),a=1<<o;r[o]=-1,i&=~a}0!==n&&Te(e,n,t)}function qc(){return 0!==(6&nc)||(Su(0,!1),!1)}function Bc(){if(null!==ic){if(0===ac)var e=ic.return;else yi=vi=null,Fo(e=ic),Qa=null,Xa=0,e=ic;for(;null!==e;)ol(e.alternate,e),e=e.return;ic=null}}function Uc(e,t){var n=e.timeoutHandle;-1!==n&&(e.timeoutHandle=-1,ch(n)),null!==(n=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,n()),Bc(),rc=e,ic=n=Fr(e.current,null),oc=t,ac=0,sc=null,lc=!1,cc=be(e,t),uc=!1,vc=gc=mc=fc=pc=dc=0,_c=yc=null,bc=!1,0!==(8&t)&&(t|=32&t);var r=e.entangledLanes;if(0!==r)for(e=e.entanglements,r&=t;0<r;){var i=31-pe(r),o=1<<i;t|=e[i],r&=~o}return hc=t,Ar(),n}function Wc(e,t){bo=null,R.H=Ha,t===Hi||t===Gi?(t=Ji(),ac=3):t===$i?(t=Ji(),ac=4):ac=t===Ts?8:null!==t&&"object"===typeof t&&"function"===typeof t.then?6:1,sc=t,null===ic&&(dc=1,ws(e,xr(t,e.current)))}function Hc(){var e=R.H;return R.H=Ha,null===e?Ha:e}function $c(){var e=R.A;return R.A=ec,e}function Gc(){dc=4,lc||(4194048&oc)!==oc&&null!==is.current||(cc=!0),0===(134217727&pc)&&0===(134217727&fc)||null===rc||zc(rc,oc,gc,!1)}function Yc(e,t,n){var r=nc;nc|=2;var i=Hc(),o=$c();rc===e&&oc===t||(Sc=null,Uc(e,t)),t=!1;var a=dc;e:for(;;)try{if(0!==ac&&null!==ic){var s=ic,l=sc;switch(ac){case 8:Bc(),a=6;break e;case 3:case 2:case 9:case 6:null===is.current&&(t=!0);var c=ac;if(ac=0,sc=null,Jc(e,s,l,c),n&&cc){a=0;break e}break;default:c=ac,ac=0,sc=null,Jc(e,s,l,c)}}Qc(),a=dc;break}catch(u){Wc(e,u)}return t&&e.shellSuspendCounter++,yi=vi=null,nc=r,R.H=i,R.A=o,null===ic&&(rc=null,oc=0,Ar()),a}function Qc(){for(;null!==ic;)Zc(ic)}function Xc(){for(;null!==ic&&!J();)Zc(ic)}function Zc(e){var t=Zs(e.alternate,e,hc);e.memoizedProps=e.pendingProps,null===t?eu(e):ic=t}function Kc(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Ls(n,t,t.pendingProps,t.type,void 0,oc);break;case 11:t=Ls(n,t,t.pendingProps,t.type.render,t.ref,oc);break;case 5:Fo(t);default:ol(n,t),t=Zs(n,t=ic=Vr(t,hc),hc)}e.memoizedProps=e.pendingProps,null===t?eu(e):ic=t}function Jc(e,t,n,r){yi=vi=null,Fo(t),Qa=null,Xa=0;var i=t.return;try{if(function(e,t,n,r,i){if(n.flags|=32768,null!==r&&"object"===typeof r&&"function"===typeof r.then){if(null!==(t=n.alternate)&&Si(t,n,i,!0),null!==(n=is.current)){switch(n.tag){case 13:return null===os?Gc():null===n.alternate&&0===dc&&(dc=3),n.flags&=-257,n.flags|=65536,n.lanes=i,r===Yi?n.flags|=16384:(null===(t=n.updateQueue)?n.updateQueue=new Set([r]):t.add(r),hu(e,r,i)),!1;case 22:return n.flags|=65536,r===Yi?n.flags|=16384:(null===(t=n.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=t):null===(n=t.retryQueue)?t.retryQueue=new Set([r]):n.add(r),hu(e,r,i)),!1}throw Error(a(435,n.tag))}return hu(e,r,i),Gc(),!1}if(oi)return null!==(t=is.current)?(0===(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=i,r!==li&&mi(xr(e=Error(a(422),{cause:r}),n))):(r!==li&&mi(xr(t=Error(a(423),{cause:r}),n)),(e=e.current.alternate).flags|=65536,i&=-i,e.lanes|=i,r=xr(r,n),so(e,i=Ss(e.stateNode,r,i)),4!==dc&&(dc=2)),!1;var o=Error(a(520),{cause:r});if(o=xr(o,n),null===yc?yc=[o]:yc.push(o),4!==dc&&(dc=2),null===t)return!0;r=xr(r,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=i&-i,n.lanes|=e,so(n,e=Ss(n.stateNode,r,e)),!1;case 1:if(t=n.type,o=n.stateNode,0===(128&n.flags)&&("function"===typeof t.getDerivedStateFromError||null!==o&&"function"===typeof o.componentDidCatch&&(null===xc||!xc.has(o))))return n.flags|=65536,i&=-i,n.lanes|=i,Cs(i=xs(i),e,n,r),so(n,i),!1}n=n.return}while(null!==n);return!1}(e,i,t,n,oc))return dc=1,ws(e,xr(n,e.current)),void(ic=null)}catch(o){if(null!==i)throw ic=i,o;return dc=1,ws(e,xr(n,e.current)),void(ic=null)}32768&t.flags?(oi||1===r?e=!0:cc||0!==(536870912&oc)?e=!1:(lc=e=!0,(2===r||9===r||3===r||6===r)&&(null!==(r=is.current)&&13===r.tag&&(r.flags|=16384))),tu(t,e)):eu(t)}function eu(e){var t=e;do{if(0!==(32768&t.flags))return void tu(t,lc);e=t.return;var n=rl(t.alternate,t,hc);if(null!==n)return void(ic=n);if(null!==(t=t.sibling))return void(ic=t);ic=t=e}while(null!==t);0===dc&&(dc=5)}function tu(e,t){do{var n=il(e.alternate,e);if(null!==n)return n.flags&=32767,void(ic=n);if(null!==(n=e.return)&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&null!==(e=e.sibling))return void(ic=e);ic=e=n}while(null!==e);dc=6,ic=null}function nu(e,t,n,r,i,o,s,l,c){e.cancelPendingCommit=null;do{su()}while(0!==Cc);if(0!==(6&nc))throw Error(a(327));if(null!==t){if(t===e.current)throw Error(a(177));if(o=t.lanes|t.childLanes,function(e,t,n,r,i,o){var a=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var s=e.entanglements,l=e.expirationTimes,c=e.hiddenUpdates;for(n=a&~n;0<n;){var u=31-pe(n),h=1<<u;s[u]=0,l[u]=-1;var d=c[u];if(null!==d)for(c[u]=null,u=0;u<d.length;u++){var p=d[u];null!==p&&(p.lane&=-536870913)}n&=~h}0!==r&&Te(e,r,0),0!==o&&0===i&&0!==e.tag&&(e.suspendedLanes|=o&~(a&~t))}(e,n,o|=Er,s,l,c),e===rc&&(ic=rc=null,oc=0),Ec=t,Tc=e,Ac=n,Oc=o,Mc=i,Pc=r,0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?(e.callbackNode=null,e.callbackPriority=0,Z(oe,(function(){return lu(),null}))):(e.callbackNode=null,e.callbackPriority=0),r=0!==(13878&t.flags),0!==(13878&t.subtreeFlags)||r){r=R.T,R.T=null,i=D.p,D.p=2,s=nc,nc|=4;try{!function(e,t){if(e=e.containerInfo,th=nd,tr(e=er(e))){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(g){n=null;break e}var s=0,l=-1,c=-1,u=0,h=0,d=e,p=null;t:for(;;){for(var f;d!==n||0!==i&&3!==d.nodeType||(l=s+i),d!==o||0!==r&&3!==d.nodeType||(c=s+r),3===d.nodeType&&(s+=d.nodeValue.length),null!==(f=d.firstChild);)p=d,d=f;for(;;){if(d===e)break t;if(p===n&&++u===i&&(l=s),p===o&&++h===r&&(c=s),null!==(f=d.nextSibling))break;p=(d=p).parentNode}d=f}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(nh={focusedElem:e,selectionRange:n},nd=!1,Sl=t;null!==Sl;)if(e=(t=Sl).child,0!==(1024&t.subtreeFlags)&&null!==e)e.return=t,Sl=e;else for(;null!==Sl;){switch(o=(t=Sl).alternate,e=t.flags,t.tag){case 0:case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(0!==(1024&e)&&null!==o){e=void 0,n=t,i=o.memoizedProps,o=o.memoizedState,r=n.stateNode;try{var m=gs(n.type,i,(n.elementType,n.type));e=r.getSnapshotBeforeUpdate(m,o),r.__reactInternalSnapshotBeforeUpdate=e}catch(v){uu(n,n.return,v)}}break;case 3:if(0!==(1024&e))if(9===(n=(e=t.stateNode.containerInfo).nodeType))mh(e);else if(1===n)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":mh(e);break;default:e.textContent=""}break;default:if(0!==(1024&e))throw Error(a(163))}if(null!==(e=t.sibling)){e.return=t.return,Sl=e;break}Sl=t.return}}(e,t)}finally{nc=s,D.p=i,R.T=r}}Cc=1,ru(),iu(),ou()}}function ru(){if(1===Cc){Cc=0;var e=Tc,t=Ec,n=0!==(13878&t.flags);if(0!==(13878&t.subtreeFlags)||n){n=R.T,R.T=null;var r=D.p;D.p=2;var i=nc;nc|=4;try{Rl(t,e);var o=nh,a=er(e.containerInfo),s=o.focusedElem,l=o.selectionRange;if(a!==s&&s&&s.ownerDocument&&Jn(s.ownerDocument.documentElement,s)){if(null!==l&&tr(s)){var c=l.start,u=l.end;if(void 0===u&&(u=c),"selectionStart"in s)s.selectionStart=c,s.selectionEnd=Math.min(u,s.value.length);else{var h=s.ownerDocument||document,d=h&&h.defaultView||window;if(d.getSelection){var p=d.getSelection(),f=s.textContent.length,m=Math.min(l.start,f),g=void 0===l.end?m:Math.min(l.end,f);!p.extend&&m>g&&(a=g,g=m,m=a);var v=Kn(s,m),y=Kn(s,g);if(v&&y&&(1!==p.rangeCount||p.anchorNode!==v.node||p.anchorOffset!==v.offset||p.focusNode!==y.node||p.focusOffset!==y.offset)){var _=h.createRange();_.setStart(v.node,v.offset),p.removeAllRanges(),m>g?(p.addRange(_),p.extend(y.node,y.offset)):(_.setEnd(y.node,y.offset),p.addRange(_))}}}}for(h=[],p=s;p=p.parentNode;)1===p.nodeType&&h.push({element:p,left:p.scrollLeft,top:p.scrollTop});for("function"===typeof s.focus&&s.focus(),s=0;s<h.length;s++){var b=h[s];b.element.scrollLeft=b.left,b.element.scrollTop=b.top}}nd=!!th,nh=th=null}finally{nc=i,D.p=r,R.T=n}}e.current=t,Cc=2}}function iu(){if(2===Cc){Cc=0;var e=Tc,t=Ec,n=0!==(8772&t.flags);if(0!==(8772&t.subtreeFlags)||n){n=R.T,R.T=null;var r=D.p;D.p=2;var i=nc;nc|=4;try{xl(e,t.alternate,t)}finally{nc=i,D.p=r,R.T=n}}Cc=3}}function ou(){if(4===Cc||3===Cc){Cc=0,ee();var e=Tc,t=Ec,n=Ac,r=Pc;0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?Cc=5:(Cc=0,Ec=Tc=null,au(e,e.pendingLanes));var i=e.pendingLanes;if(0===i&&(xc=null),Oe(n),t=t.stateNode,he&&"function"===typeof he.onCommitFiberRoot)try{he.onCommitFiberRoot(ue,t,void 0,128===(128&t.current.flags))}catch(l){}if(null!==r){t=R.T,i=D.p,D.p=2,R.T=null;try{for(var o=e.onRecoverableError,a=0;a<r.length;a++){var s=r[a];o(s.value,{componentStack:s.stack})}}finally{R.T=t,D.p=i}}0!==(3&Ac)&&su(),ku(e),i=e.pendingLanes,0!==(4194090&n)&&0!==(42&i)?e===Ic?Nc++:(Nc=0,Ic=e):Nc=0,Su(0,!1)}}function au(e,t){0===(e.pooledCacheLanes&=t)&&(null!=(t=e.pooledCache)&&(e.pooledCache=null,Ri(t)))}function su(e){return ru(),iu(),ou(),lu()}function lu(){if(5!==Cc)return!1;var e=Tc,t=Oc;Oc=0;var n=Oe(Ac),r=R.T,i=D.p;try{D.p=32>n?32:n,R.T=null,n=Mc,Mc=null;var o=Tc,s=Ac;if(Cc=0,Ec=Tc=null,Ac=0,0!==(6&nc))throw Error(a(331));var l=nc;if(nc|=4,Zl(o.current),Ul(o,o.current,s,n),nc=l,Su(0,!1),he&&"function"===typeof he.onPostCommitFiberRoot)try{he.onPostCommitFiberRoot(ue,o)}catch(c){}return!0}finally{D.p=i,R.T=r,au(e,t)}}function cu(e,t,n){t=xr(n,t),null!==(e=oo(e,t=Ss(e.stateNode,t,2),2))&&(Ce(e,2),ku(e))}function uu(e,t,n){if(3===e.tag)cu(e,e,n);else for(;null!==t;){if(3===t.tag){cu(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===xc||!xc.has(r))){e=xr(n,e),null!==(r=oo(t,n=xs(2),2))&&(Cs(n,r,t,e),Ce(r,2),ku(r));break}}t=t.return}}function hu(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new tc;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(uc=!0,i.add(n),e=du.bind(null,e,t,n),t.then(e,e))}function du(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,rc===e&&(oc&n)===n&&(4===dc||3===dc&&(62914560&oc)===oc&&300>te()-wc?0===(2&nc)&&Uc(e,0):mc|=n,vc===oc&&(vc=0)),ku(e)}function pu(e,t){0===t&&(t=Se()),null!==(e=Pr(e,t))&&(Ce(e,t),ku(e))}function fu(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),pu(e,n)}function mu(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(a(314))}null!==r&&r.delete(t),pu(e,n)}var gu=null,vu=null,yu=!1,_u=!1,bu=!1,wu=0;function ku(e){e!==vu&&null===e.next&&(null===vu?gu=vu=e:vu=vu.next=e),_u=!0,yu||(yu=!0,hh((function(){0!==(6&nc)?Z(re,xu):Cu()})))}function Su(e,t){if(!bu&&_u){bu=!0;do{for(var n=!1,r=gu;null!==r;){if(!t)if(0!==e){var i=r.pendingLanes;if(0===i)var o=0;else{var a=r.suspendedLanes,s=r.pingedLanes;o=(1<<31-pe(42|e)+1)-1,o=201326741&(o&=i&~(a&~s))?201326741&o|1:o?2|o:0}0!==o&&(n=!0,Au(r,o))}else o=oc,0===(3&(o=_e(r,r===rc?o:0,null!==r.cancelPendingCommit||-1!==r.timeoutHandle)))||be(r,o)||(n=!0,Au(r,o));r=r.next}}while(n);bu=!1}}function xu(){Cu()}function Cu(){_u=yu=!1;var e=0;0!==wu&&(function(){var e=window.event;if(e&&"popstate"===e.type)return e!==sh&&(sh=e,!0);return sh=null,!1}()&&(e=wu),wu=0);for(var t=te(),n=null,r=gu;null!==r;){var i=r.next,o=Tu(r,t);0===o?(r.next=null,null===n?gu=i:n.next=i,null===i&&(vu=n)):(n=r,(0!==e||0!==(3&o))&&(_u=!0)),r=i}Su(e,!1)}function Tu(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=-62914561&e.pendingLanes;0<o;){var a=31-pe(o),s=1<<a,l=i[a];-1===l?0!==(s&n)&&0===(s&r)||(i[a]=we(s,t)):l<=t&&(e.expiredLanes|=s),o&=~s}if(n=oc,n=_e(e,e===(t=rc)?n:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle),r=e.callbackNode,0===n||e===t&&(2===ac||9===ac)||null!==e.cancelPendingCommit)return null!==r&&null!==r&&K(r),e.callbackNode=null,e.callbackPriority=0;if(0===(3&n)||be(e,n)){if((t=n&-n)===e.callbackPriority)return t;switch(null!==r&&K(r),Oe(n)){case 2:case 8:n=ie;break;case 32:default:n=oe;break;case 268435456:n=se}return r=Eu.bind(null,e),n=Z(n,r),e.callbackPriority=t,e.callbackNode=n,t}return null!==r&&null!==r&&K(r),e.callbackPriority=2,e.callbackNode=null,2}function Eu(e,t){if(0!==Cc&&5!==Cc)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(su()&&e.callbackNode!==n)return null;var r=oc;return 0===(r=_e(e,e===rc?r:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle))?null:(jc(e,r,t),Tu(e,te()),null!=e.callbackNode&&e.callbackNode===n?Eu.bind(null,e):null)}function Au(e,t){if(su())return null;jc(e,t,!0)}function Ou(){return 0===wu&&(wu=ke()),wu}function Mu(e){return null==e||"symbol"===typeof e||"boolean"===typeof e?null:"function"===typeof e?e:Ot(""+e)}function Pu(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}for(var Nu=0;Nu<wr.length;Nu++){var Iu=wr[Nu];kr(Iu.toLowerCase(),"on"+(Iu[0].toUpperCase()+Iu.slice(1)))}kr(pr,"onAnimationEnd"),kr(fr,"onAnimationIteration"),kr(mr,"onAnimationStart"),kr("dblclick","onDoubleClick"),kr("focusin","onFocus"),kr("focusout","onBlur"),kr(gr,"onTransitionRun"),kr(vr,"onTransitionStart"),kr(yr,"onTransitionCancel"),kr(_r,"onTransitionEnd"),Qe("onMouseEnter",["mouseout","mouseover"]),Qe("onMouseLeave",["mouseout","mouseover"]),Qe("onPointerEnter",["pointerout","pointerover"]),Qe("onPointerLeave",["pointerout","pointerover"]),Ye("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ye("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ye("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ye("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ye("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ye("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ru="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Du=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ru));function Lu(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==o&&i.isPropagationStopped())break e;o=s,i.currentTarget=c;try{o(i)}catch(u){vs(u)}i.currentTarget=null,o=l}else for(a=0;a<r.length;a++){if(l=(s=r[a]).instance,c=s.currentTarget,s=s.listener,l!==o&&i.isPropagationStopped())break e;o=s,i.currentTarget=c;try{o(i)}catch(u){vs(u)}i.currentTarget=null,o=l}}}}function ju(e,t){var n=t[De];void 0===n&&(n=t[De]=new Set);var r=e+"__bubble";n.has(r)||(qu(t,e,2,!1),n.add(r))}function Fu(e,t,n){var r=0;t&&(r|=4),qu(n,e,r,t)}var Vu="_reactListening"+Math.random().toString(36).slice(2);function zu(e){if(!e[Vu]){e[Vu]=!0,$e.forEach((function(t){"selectionchange"!==t&&(Du.has(t)||Fu(t,!1,e),Fu(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Vu]||(t[Vu]=!0,Fu("selectionchange",!1,t))}}function qu(e,t,n,r){switch(cd(t)){case 2:var i=rd;break;case 8:i=id;break;default:i=od}n=i.bind(null,t,n,e),i=void 0,!Vt||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Bu(e,t,n,r,i){var o=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var s=r.stateNode.containerInfo;if(s===i)break;if(4===a)for(a=r.return;null!==a;){var c=a.tag;if((3===c||4===c)&&a.stateNode.containerInfo===i)return;a=a.return}for(;null!==s;){if(null===(a=qe(s)))return;if(5===(c=a.tag)||6===c||26===c||27===c){r=o=a;continue e}s=s.parentNode}}r=r.return}Lt((function(){var r=o,i=Pt(n),a=[];e:{var s=br.get(e);if(void 0!==s){var c=Jt,u=e;switch(e){case"keypress":if(0===Ht(n))break e;case"keydown":case"keyup":c=mn;break;case"focusin":u="focus",c=an;break;case"focusout":u="blur",c=an;break;case"beforeblur":case"afterblur":c=an;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=rn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=on;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=vn;break;case pr:case fr:case mr:c=sn;break;case _r:c=yn;break;case"scroll":case"scrollend":c=tn;break;case"wheel":c=_n;break;case"copy":case"cut":case"paste":c=ln;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=gn;break;case"toggle":case"beforetoggle":c=bn}var h=0!==(4&t),d=!h&&("scroll"===e||"scrollend"===e),p=h?null!==s?s+"Capture":null:s;h=[];for(var f,m=r;null!==m;){var g=m;if(f=g.stateNode,5!==(g=g.tag)&&26!==g&&27!==g||null===f||null===p||null!=(g=jt(m,p))&&h.push(Uu(m,g,f)),d)break;m=m.return}0<h.length&&(s=new c(s,u,null,n,i),a.push({event:s,listeners:h}))}}if(0===(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===Mt||!(u=n.relatedTarget||n.fromElement)||!qe(u)&&!u[Re])&&(c||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,c?(c=r,null!==(u=(u=n.relatedTarget||n.toElement)?qe(u):null)&&(d=l(u),h=u.tag,u!==d||5!==h&&27!==h&&6!==h)&&(u=null)):(c=null,u=r),c!==u)){if(h=rn,g="onMouseLeave",p="onMouseEnter",m="mouse","pointerout"!==e&&"pointerover"!==e||(h=gn,g="onPointerLeave",p="onPointerEnter",m="pointer"),d=null==c?s:Ue(c),f=null==u?s:Ue(u),(s=new h(g,m+"leave",c,n,i)).target=d,s.relatedTarget=f,g=null,qe(i)===r&&((h=new h(p,m+"enter",u,n,i)).target=f,h.relatedTarget=d,g=h),d=g,c&&u)e:{for(p=u,m=0,f=h=c;f;f=Hu(f))m++;for(f=0,g=p;g;g=Hu(g))f++;for(;0<m-f;)h=Hu(h),m--;for(;0<f-m;)p=Hu(p),f--;for(;m--;){if(h===p||null!==p&&h===p.alternate)break e;h=Hu(h),p=Hu(p)}h=null}else h=null;null!==c&&$u(a,s,c,h,!1),null!==u&&null!==d&&$u(a,d,u,h,!0)}if("select"===(c=(s=r?Ue(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===c&&"file"===s.type)var v=Fn;else if(Nn(s))if(Vn)v=Yn;else{v=$n;var y=Hn}else!(c=s.nodeName)||"input"!==c.toLowerCase()||"checkbox"!==s.type&&"radio"!==s.type?r&&Tt(r.elementType)&&(v=Fn):v=Gn;switch(v&&(v=v(e,r))?In(a,v,n,i):(y&&y(e,s,r),"focusout"===e&&r&&"number"===s.type&&null!=r.memoizedProps.value&&yt(s,"number",s.value)),y=r?Ue(r):window,e){case"focusin":(Nn(y)||"true"===y.contentEditable)&&(rr=y,ir=r,or=null);break;case"focusout":or=ir=rr=null;break;case"mousedown":ar=!0;break;case"contextmenu":case"mouseup":case"dragend":ar=!1,sr(a,n,i);break;case"selectionchange":if(nr)break;case"keydown":case"keyup":sr(a,n,i)}var _;if(kn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Mn?An(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Cn&&"ko"!==n.locale&&(Mn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Mn&&(_=Wt()):(Bt="value"in(qt=i)?qt.value:qt.textContent,Mn=!0)),0<(y=Wu(r,b)).length&&(b=new cn(b,e,null,n,i),a.push({event:b,listeners:y}),_?b.data=_:null!==(_=On(n))&&(b.data=_))),(_=xn?function(e,t){switch(e){case"compositionend":return On(t);case"keypress":return 32!==t.which?null:(En=!0,Tn);case"textInput":return(e=t.data)===Tn&&En?null:e;default:return null}}(e,n):function(e,t){if(Mn)return"compositionend"===e||!kn&&An(e,t)?(e=Wt(),Ut=Bt=qt=null,Mn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Cn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(b=Wu(r,"onBeforeInput")).length&&(y=new cn("onBeforeInput","beforeinput",null,n,i),a.push({event:y,listeners:b}),y.data=_)),function(e,t,n,r,i){if("submit"===t&&n&&n.stateNode===i){var o=Mu((i[Ie]||null).action),a=r.submitter;a&&null!==(t=(t=a[Ie]||null)?Mu(t.formAction):a.getAttribute("formAction"))&&(o=t,a=null);var s=new Jt("action","action",null,r,i);e.push({event:s,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(0!==wu){var e=a?Pu(i,a):new FormData(i);Pa(n,{pending:!0,data:e,method:i.method,action:o},null,e)}}else"function"===typeof o&&(s.preventDefault(),e=a?Pu(i,a):new FormData(i),Pa(n,{pending:!0,data:e,method:i.method,action:o},o,e))},currentTarget:i}]})}}(a,e,r,n,i)}Lu(a,t)}))}function Uu(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Wu(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;if(5!==(i=i.tag)&&26!==i&&27!==i||null===o||(null!=(i=jt(e,n))&&r.unshift(Uu(e,i,o)),null!=(i=jt(e,t))&&r.push(Uu(e,i,o))),3===e.tag)return r;e=e.return}return[]}function Hu(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function $u(e,t,n,r,i){for(var o=t._reactName,a=[];null!==n&&n!==r;){var s=n,l=s.alternate,c=s.stateNode;if(s=s.tag,null!==l&&l===r)break;5!==s&&26!==s&&27!==s||null===c||(l=c,i?null!=(c=jt(n,o))&&a.unshift(Uu(n,c,l)):i||null!=(c=jt(n,o))&&a.push(Uu(n,c,l))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var Gu=/\r\n?/g,Yu=/\u0000|\uFFFD/g;function Qu(e){return("string"===typeof e?e:""+e).replace(Gu,"\n").replace(Yu,"")}function Xu(e,t){return t=Qu(t),Qu(e)===t}function Zu(){}function Ku(e,t,n,r,i,o){switch(n){case"children":"string"===typeof r?"body"===t||"textarea"===t&&""===r||kt(e,r):("number"===typeof r||"bigint"===typeof r)&&"body"!==t&&kt(e,""+r);break;case"className":nt(e,"class",r);break;case"tabIndex":nt(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":nt(e,n,r);break;case"style":Ct(e,r,o);break;case"data":if("object"!==t){nt(e,"data",r);break}case"src":case"href":if(""===r&&("a"!==t||"href"!==n)){e.removeAttribute(n);break}if(null==r||"function"===typeof r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=Ot(""+r),e.setAttribute(n,r);break;case"action":case"formAction":if("function"===typeof r){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"===typeof o&&("formAction"===n?("input"!==t&&Ku(e,t,"name",i.name,i,null),Ku(e,t,"formEncType",i.formEncType,i,null),Ku(e,t,"formMethod",i.formMethod,i,null),Ku(e,t,"formTarget",i.formTarget,i,null)):(Ku(e,t,"encType",i.encType,i,null),Ku(e,t,"method",i.method,i,null),Ku(e,t,"target",i.target,i,null))),null==r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=Ot(""+r),e.setAttribute(n,r);break;case"onClick":null!=r&&(e.onclick=Zu);break;case"onScroll":null!=r&&ju("scroll",e);break;case"onScrollEnd":null!=r&&ju("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(a(61));if(null!=(n=r.__html)){if(null!=i.children)throw Error(a(60));e.innerHTML=n}}break;case"multiple":e.multiple=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"muted":e.muted=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==r||"function"===typeof r||"boolean"===typeof r||"symbol"===typeof r){e.removeAttribute("xlink:href");break}n=Ot(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""+r):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":!0===r?e.setAttribute(n,""):!1!==r&&null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,r):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":null!=r&&"function"!==typeof r&&"symbol"!==typeof r&&!isNaN(r)&&1<=r?e.setAttribute(n,r):e.removeAttribute(n);break;case"rowSpan":case"start":null==r||"function"===typeof r||"symbol"===typeof r||isNaN(r)?e.removeAttribute(n):e.setAttribute(n,r);break;case"popover":ju("beforetoggle",e),ju("toggle",e),tt(e,"popover",r);break;case"xlinkActuate":rt(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":rt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":rt(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":rt(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":rt(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":rt(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":rt(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":rt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":rt(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":tt(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])&&tt(e,n=Et.get(n)||n,r)}}function Ju(e,t,n,r,i,o){switch(n){case"style":Ct(e,r,o);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(a(61));if(null!=(n=r.__html)){if(null!=i.children)throw Error(a(60));e.innerHTML=n}}break;case"children":"string"===typeof r?kt(e,r):("number"===typeof r||"bigint"===typeof r)&&kt(e,""+r);break;case"onScroll":null!=r&&ju("scroll",e);break;case"onScrollEnd":null!=r&&ju("scrollend",e);break;case"onClick":null!=r&&(e.onclick=Zu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:Ge.hasOwnProperty(n)||("o"!==n[0]||"n"!==n[1]||(i=n.endsWith("Capture"),t=n.slice(2,i?n.length-7:void 0),"function"===typeof(o=null!=(o=e[Ie]||null)?o[n]:null)&&e.removeEventListener(t,o,i),"function"!==typeof r)?n in e?e[n]=r:!0===r?e.setAttribute(n,""):tt(e,n,r):("function"!==typeof o&&null!==o&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,r,i)))}}function eh(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ju("error",e),ju("load",e);var r,i=!1,o=!1;for(r in n)if(n.hasOwnProperty(r)){var s=n[r];if(null!=s)switch(r){case"src":i=!0;break;case"srcSet":o=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,t));default:Ku(e,t,r,s,n,null)}}return o&&Ku(e,t,"srcSet",n.srcSet,n,null),void(i&&Ku(e,t,"src",n.src,n,null));case"input":ju("invalid",e);var l=r=s=o=null,c=null,u=null;for(i in n)if(n.hasOwnProperty(i)){var h=n[i];if(null!=h)switch(i){case"name":o=h;break;case"type":s=h;break;case"checked":c=h;break;case"defaultChecked":u=h;break;case"value":r=h;break;case"defaultValue":l=h;break;case"children":case"dangerouslySetInnerHTML":if(null!=h)throw Error(a(137,t));break;default:Ku(e,t,i,h,n,null)}}return vt(e,r,l,c,u,s,o,!1),void ht(e);case"select":for(o in ju("invalid",e),i=s=r=null,n)if(n.hasOwnProperty(o)&&null!=(l=n[o]))switch(o){case"value":r=l;break;case"defaultValue":s=l;break;case"multiple":i=l;default:Ku(e,t,o,l,n,null)}return t=r,n=s,e.multiple=!!i,void(null!=t?_t(e,!!i,t,!1):null!=n&&_t(e,!!i,n,!0));case"textarea":for(s in ju("invalid",e),r=o=i=null,n)if(n.hasOwnProperty(s)&&null!=(l=n[s]))switch(s){case"value":i=l;break;case"defaultValue":o=l;break;case"children":r=l;break;case"dangerouslySetInnerHTML":if(null!=l)throw Error(a(91));break;default:Ku(e,t,s,l,n,null)}return wt(e,i,o,r),void ht(e);case"option":for(c in n)if(n.hasOwnProperty(c)&&null!=(i=n[c]))if("selected"===c)e.selected=i&&"function"!==typeof i&&"symbol"!==typeof i;else Ku(e,t,c,i,n,null);return;case"dialog":ju("beforetoggle",e),ju("toggle",e),ju("cancel",e),ju("close",e);break;case"iframe":case"object":ju("load",e);break;case"video":case"audio":for(i=0;i<Ru.length;i++)ju(Ru[i],e);break;case"image":ju("error",e),ju("load",e);break;case"details":ju("toggle",e);break;case"embed":case"source":case"link":ju("error",e),ju("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&null!=(i=n[u]))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,t));default:Ku(e,t,u,i,n,null)}return;default:if(Tt(t)){for(h in n)n.hasOwnProperty(h)&&(void 0!==(i=n[h])&&Ju(e,t,h,i,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(null!=(i=n[l])&&Ku(e,t,l,i,n,null))}var th=null,nh=null;function rh(e){return 9===e.nodeType?e:e.ownerDocument}function ih(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function oh(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function ah(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"bigint"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var sh=null;var lh="function"===typeof setTimeout?setTimeout:void 0,ch="function"===typeof clearTimeout?clearTimeout:void 0,uh="function"===typeof Promise?Promise:void 0,hh="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof uh?function(e){return uh.resolve(null).then(e).catch(dh)}:lh;function dh(e){setTimeout((function(){throw e}))}function ph(e){return"head"===e}function fh(e,t){var n=t,r=0,i=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&8===o.nodeType)if("/$"===(n=o.data)){if(0<r&&8>r){n=r;var a=e.ownerDocument;if(1&n&&wh(a.documentElement),2&n&&wh(a.body),4&n)for(wh(n=a.head),a=n.firstChild;a;){var s=a.nextSibling,l=a.nodeName;a[Ve]||"SCRIPT"===l||"STYLE"===l||"LINK"===l&&"stylesheet"===a.rel.toLowerCase()||n.removeChild(a),a=s}}if(0===i)return e.removeChild(o),void Ed(t);i--}else"$"===n||"$?"===n||"$!"===n?i++:r=n.charCodeAt(0)-48;else r=0;n=o}while(n);Ed(t)}function mh(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":mh(n),ze(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===n.rel.toLowerCase())continue}e.removeChild(n)}}function gh(e){return"$!"===e.data||"$?"===e.data&&"complete"===e.ownerDocument.readyState}function vh(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"F!"===t||"F"===t)break;if("/$"===t)return null}}return e}var yh=null;function _h(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}function bh(e,t,n){switch(t=rh(n),e){case"html":if(!(e=t.documentElement))throw Error(a(452));return e;case"head":if(!(e=t.head))throw Error(a(453));return e;case"body":if(!(e=t.body))throw Error(a(454));return e;default:throw Error(a(451))}}function wh(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);ze(e)}var kh=new Map,Sh=new Set;function xh(e){return"function"===typeof e.getRootNode?e.getRootNode():9===e.nodeType?e:e.ownerDocument}var Ch=D.d;D.d={f:function(){var e=Ch.f(),t=qc();return e||t},r:function(e){var t=Be(e);null!==t&&5===t.tag&&"form"===t.type?Ia(t):Ch.r(e)},D:function(e){Ch.D(e),Eh("dns-prefetch",e,null)},C:function(e,t){Ch.C(e,t),Eh("preconnect",e,t)},L:function(e,t,n){Ch.L(e,t,n);var r=Th;if(r&&e&&t){var i='link[rel="preload"][as="'+mt(t)+'"]';"image"===t&&n&&n.imageSrcSet?(i+='[imagesrcset="'+mt(n.imageSrcSet)+'"]',"string"===typeof n.imageSizes&&(i+='[imagesizes="'+mt(n.imageSizes)+'"]')):i+='[href="'+mt(e)+'"]';var o=i;switch(t){case"style":o=Oh(e);break;case"script":o=Nh(e)}kh.has(o)||(e=d({rel:"preload",href:"image"===t&&n&&n.imageSrcSet?void 0:e,as:t},n),kh.set(o,e),null!==r.querySelector(i)||"style"===t&&r.querySelector(Mh(o))||"script"===t&&r.querySelector(Ih(o))||(eh(t=r.createElement("link"),"link",e),He(t),r.head.appendChild(t)))}},m:function(e,t){Ch.m(e,t);var n=Th;if(n&&e){var r=t&&"string"===typeof t.as?t.as:"script",i='link[rel="modulepreload"][as="'+mt(r)+'"][href="'+mt(e)+'"]',o=i;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":o=Nh(e)}if(!kh.has(o)&&(e=d({rel:"modulepreload",href:e},t),kh.set(o,e),null===n.querySelector(i))){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Ih(o)))return}eh(r=n.createElement("link"),"link",e),He(r),n.head.appendChild(r)}}},X:function(e,t){Ch.X(e,t);var n=Th;if(n&&e){var r=We(n).hoistableScripts,i=Nh(e),o=r.get(i);o||((o=n.querySelector(Ih(i)))||(e=d({src:e,async:!0},t),(t=kh.get(i))&&jh(e,t),He(o=n.createElement("script")),eh(o,"link",e),n.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},r.set(i,o))}},S:function(e,t,n){Ch.S(e,t,n);var r=Th;if(r&&e){var i=We(r).hoistableStyles,o=Oh(e);t=t||"default";var a=i.get(o);if(!a){var s={loading:0,preload:null};if(a=r.querySelector(Mh(o)))s.loading=5;else{e=d({rel:"stylesheet",href:e,"data-precedence":t},n),(n=kh.get(o))&&Lh(e,n);var l=a=r.createElement("link");He(l),eh(l,"link",e),l._p=new Promise((function(e,t){l.onload=e,l.onerror=t})),l.addEventListener("load",(function(){s.loading|=1})),l.addEventListener("error",(function(){s.loading|=2})),s.loading|=4,Dh(a,t,r)}a={type:"stylesheet",instance:a,count:1,state:s},i.set(o,a)}}},M:function(e,t){Ch.M(e,t);var n=Th;if(n&&e){var r=We(n).hoistableScripts,i=Nh(e),o=r.get(i);o||((o=n.querySelector(Ih(i)))||(e=d({src:e,async:!0,type:"module"},t),(t=kh.get(i))&&jh(e,t),He(o=n.createElement("script")),eh(o,"link",e),n.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},r.set(i,o))}}};var Th="undefined"===typeof document?null:document;function Eh(e,t,n){var r=Th;if(r&&"string"===typeof t&&t){var i=mt(t);i='link[rel="'+e+'"][href="'+i+'"]',"string"===typeof n&&(i+='[crossorigin="'+n+'"]'),Sh.has(i)||(Sh.add(i),e={rel:e,crossOrigin:n,href:t},null===r.querySelector(i)&&(eh(t=r.createElement("link"),"link",e),He(t),r.head.appendChild(t)))}}function Ah(e,t,n,r){var i,o,s,l,c=(c=W.current)?xh(c):null;if(!c)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return"string"===typeof n.precedence&&"string"===typeof n.href?(t=Oh(n.href),(r=(n=We(c).hoistableStyles).get(t))||(r={type:"style",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===n.rel&&"string"===typeof n.href&&"string"===typeof n.precedence){e=Oh(n.href);var u=We(c).hoistableStyles,h=u.get(e);if(h||(c=c.ownerDocument||c,h={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,h),(u=c.querySelector(Mh(e)))&&!u._p&&(h.instance=u,h.state.loading=5),kh.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},kh.set(e,n),u||(i=c,o=e,s=n,l=h.state,i.querySelector('link[rel="preload"][as="style"]['+o+"]")?l.loading=1:(o=i.createElement("link"),l.preload=o,o.addEventListener("load",(function(){return l.loading|=1})),o.addEventListener("error",(function(){return l.loading|=2})),eh(o,"link",s),He(o),i.head.appendChild(o))))),t&&null===r)throw Error(a(528,""));return h}if(t&&null!==r)throw Error(a(529,""));return null;case"script":return t=n.async,"string"===typeof(n=n.src)&&t&&"function"!==typeof t&&"symbol"!==typeof t?(t=Nh(n),(r=(n=We(c).hoistableScripts).get(t))||(r={type:"script",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function Oh(e){return'href="'+mt(e)+'"'}function Mh(e){return'link[rel="stylesheet"]['+e+"]"}function Ph(e){return d({},e,{"data-precedence":e.precedence,precedence:null})}function Nh(e){return'[src="'+mt(e)+'"]'}function Ih(e){return"script[async]"+e}function Rh(e,t,n){if(t.count++,null===t.instance)switch(t.type){case"style":var r=e.querySelector('style[data-href~="'+mt(n.href)+'"]');if(r)return t.instance=r,He(r),r;var i=d({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return He(r=(e.ownerDocument||e).createElement("style")),eh(r,"style",i),Dh(r,n.precedence,e),t.instance=r;case"stylesheet":i=Oh(n.href);var o=e.querySelector(Mh(i));if(o)return t.state.loading|=4,t.instance=o,He(o),o;r=Ph(n),(i=kh.get(i))&&Lh(r,i),He(o=(e.ownerDocument||e).createElement("link"));var s=o;return s._p=new Promise((function(e,t){s.onload=e,s.onerror=t})),eh(o,"link",r),t.state.loading|=4,Dh(o,n.precedence,e),t.instance=o;case"script":return o=Nh(n.src),(i=e.querySelector(Ih(o)))?(t.instance=i,He(i),i):(r=n,(i=kh.get(o))&&jh(r=d({},n),i),He(i=(e=e.ownerDocument||e).createElement("script")),eh(i,"link",r),e.head.appendChild(i),t.instance=i);case"void":return null;default:throw Error(a(443,t.type))}else"stylesheet"===t.type&&0===(4&t.state.loading)&&(r=t.instance,t.state.loading|=4,Dh(r,n.precedence,e));return t.instance}function Dh(e,t,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=r.length?r[r.length-1]:null,o=i,a=0;a<r.length;a++){var s=r[a];if(s.dataset.precedence===t)o=s;else if(o!==i)break}o?o.parentNode.insertBefore(e,o.nextSibling):(t=9===n.nodeType?n.head:n).insertBefore(e,t.firstChild)}function Lh(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function jh(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var Fh=null;function Vh(e,t,n){if(null===Fh){var r=new Map,i=Fh=new Map;i.set(n,r)}else(r=(i=Fh).get(n))||(r=new Map,i.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),i=0;i<n.length;i++){var o=n[i];if(!(o[Ve]||o[Ne]||"link"===e&&"stylesheet"===o.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==o.namespaceURI){var a=o.getAttribute(t)||"";a=e+a;var s=r.get(a);s?s.push(o):r.set(a,[o])}}return r}function zh(e,t,n){(e=e.ownerDocument||e).head.insertBefore(n,"title"===t?e.querySelector("head > title"):null)}function qh(e){return"stylesheet"!==e.type||0!==(3&e.state.loading)}var Bh=null;function Uh(){}function Wh(){if(this.count--,0===this.count)if(this.stylesheets)$h(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var Hh=null;function $h(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,Hh=new Map,t.forEach(Gh,e),Hh=null,Wh.call(e))}function Gh(e,t){if(!(4&t.state.loading)){var n=Hh.get(e);if(n)var r=n.get(null);else{n=new Map,Hh.set(e,n);for(var i=e.querySelectorAll("link[data-precedence],style[data-precedence]"),o=0;o<i.length;o++){var a=i[o];"LINK"!==a.nodeName&&"not all"===a.getAttribute("media")||(n.set(a.dataset.precedence,a),r=a)}r&&n.set(null,r)}a=(i=t.instance).getAttribute("data-precedence"),(o=n.get(a)||r)===r&&n.set(null,i),n.set(a,i),this.count++,r=Wh.bind(this),i.addEventListener("load",r),i.addEventListener("error",r),o?o.parentNode.insertBefore(i,o.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(i,e.firstChild),t.state.loading|=4}}var Yh={$$typeof:w,Provider:null,Consumer:null,_currentValue:L,_currentValue2:L,_threadCount:0};function Qh(e,t,n,r,i,o,a,s){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=xe(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xe(0),this.hiddenUpdates=xe(null),this.identifierPrefix=r,this.onUncaughtError=i,this.onCaughtError=o,this.onRecoverableError=a,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=s,this.incompleteTransitions=new Map}function Xh(e,t,n,r,i,o,a,s,l,c,u,h){return e=new Qh(e,t,n,a,s,l,c,h),t=1,!0===o&&(t|=24),o=Lr(3,null,null,t),e.current=o,o.stateNode=e,(t=Ii()).refCount++,e.pooledCache=t,t.refCount++,o.memoizedState={element:r,isDehydrated:n,cache:t},no(o),e}function Zh(e){return e?e=Rr:Rr}function Kh(e,t,n,r,i,o){i=Zh(i),null===r.context?r.context=i:r.pendingContext=i,(r=io(t)).payload={element:n},null!==(o=void 0===o?null:o)&&(r.callback=o),null!==(n=oo(e,r,t))&&(Lc(n,0,t),ao(n,e,t))}function Jh(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function ed(e,t){Jh(e,t),(e=e.alternate)&&Jh(e,t)}function td(e){if(13===e.tag){var t=Pr(e,67108864);null!==t&&Lc(t,0,67108864),ed(e,67108864)}}var nd=!0;function rd(e,t,n,r){var i=R.T;R.T=null;var o=D.p;try{D.p=2,od(e,t,n,r)}finally{D.p=o,R.T=i}}function id(e,t,n,r){var i=R.T;R.T=null;var o=D.p;try{D.p=8,od(e,t,n,r)}finally{D.p=o,R.T=i}}function od(e,t,n,r){if(nd){var i=ad(r);if(null===i)Bu(e,t,r,sd,n),yd(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return hd=_d(hd,e,t,n,r,i),!0;case"dragenter":return dd=_d(dd,e,t,n,r,i),!0;case"mouseover":return pd=_d(pd,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return fd.set(o,_d(fd.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,md.set(o,_d(md.get(o)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(yd(e,r),4&t&&-1<vd.indexOf(e)){for(;null!==i;){var o=Be(i);if(null!==o)switch(o.tag){case 3:if((o=o.stateNode).current.memoizedState.isDehydrated){var a=ye(o.pendingLanes);if(0!==a){var s=o;for(s.pendingLanes|=2,s.entangledLanes|=2;a;){var l=1<<31-pe(a);s.entanglements[1]|=l,a&=~l}ku(o),0===(6&nc)&&(kc=te()+500,Su(0,!1))}}break;case 13:null!==(s=Pr(o,2))&&Lc(s,0,2),qc(),ed(o,2)}if(null===(o=ad(r))&&Bu(e,t,r,sd,n),o===i)break;i=o}null!==i&&r.stopPropagation()}else Bu(e,t,r,null,n)}}function ad(e){return ld(e=Pt(e))}var sd=null;function ld(e){if(sd=null,null!==(e=qe(e))){var t=l(e);if(null===t)e=null;else{var n=t.tag;if(13===n){if(null!==(e=c(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return sd=e,null}function cd(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ne()){case re:return 2;case ie:return 8;case oe:case ae:return 32;case se:return 268435456;default:return 32}default:return 32}}var ud=!1,hd=null,dd=null,pd=null,fd=new Map,md=new Map,gd=[],vd="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function yd(e,t){switch(e){case"focusin":case"focusout":hd=null;break;case"dragenter":case"dragleave":dd=null;break;case"mouseover":case"mouseout":pd=null;break;case"pointerover":case"pointerout":fd.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":md.delete(t.pointerId)}}function _d(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},null!==t&&(null!==(t=Be(t))&&td(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function bd(e){var t=qe(e.target);if(null!==t){var n=l(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=c(n)))return e.blockedOn=t,void function(e,t){var n=D.p;try{return D.p=e,t()}finally{D.p=n}}(e.priority,(function(){if(13===n.tag){var e=Rc();e=Ae(e);var t=Pr(n,e);null!==t&&Lc(t,0,e),ed(n,e)}}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function wd(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=ad(e.nativeEvent);if(null!==n)return null!==(t=Be(n))&&td(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);Mt=r,n.target.dispatchEvent(r),Mt=null,t.shift()}return!0}function kd(e,t,n){wd(e)&&n.delete(t)}function Sd(){ud=!1,null!==hd&&wd(hd)&&(hd=null),null!==dd&&wd(dd)&&(dd=null),null!==pd&&wd(pd)&&(pd=null),fd.forEach(kd),md.forEach(kd)}function xd(e,t){e.blockedOn===t&&(e.blockedOn=null,ud||(ud=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Sd)))}var Cd=null;function Td(e){Cd!==e&&(Cd=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,(function(){Cd===e&&(Cd=null);for(var t=0;t<e.length;t+=3){var n=e[t],r=e[t+1],i=e[t+2];if("function"!==typeof r){if(null===ld(r||n))continue;break}var o=Be(n);null!==o&&(e.splice(t,3),t-=3,Pa(o,{pending:!0,data:i,method:n.method,action:r},r,i))}})))}function Ed(e){function t(t){return xd(t,e)}null!==hd&&xd(hd,e),null!==dd&&xd(dd,e),null!==pd&&xd(pd,e),fd.forEach(t),md.forEach(t);for(var n=0;n<gd.length;n++){var r=gd[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<gd.length&&null===(n=gd[0]).blockedOn;)bd(n),null===n.blockedOn&&gd.shift();if(null!=(n=(e.ownerDocument||e).$$reactFormReplay))for(r=0;r<n.length;r+=3){var i=n[r],o=n[r+1],a=i[Ie]||null;if("function"===typeof o)a||Td(n);else if(a){var s=null;if(o&&o.hasAttribute("formAction")){if(i=o,a=o[Ie]||null)s=a.formAction;else if(null!==ld(i))continue}else s=a.action;"function"===typeof s?n[r+1]=s:(n.splice(r,3),r-=3),Td(n)}}}function Ad(e){this._internalRoot=e}function Od(e){this._internalRoot=e}Od.prototype.render=Ad.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Kh(t.current,Rc(),e,t,null,null)},Od.prototype.unmount=Ad.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;Kh(e.current,2,null,e,null,null),qc(),t[Re]=null}},Od.prototype.unstable_scheduleHydration=function(e){if(e){var t=Me();e={blockedOn:null,target:e,priority:t};for(var n=0;n<gd.length&&0!==t&&t<gd[n].priority;n++);gd.splice(n,0,e),0===n&&bd(e)}};var Md=i.version;if("19.1.0"!==Md)throw Error(a(527,Md,"19.1.0"));D.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=l(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return u(i),e;if(o===r)return u(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,c=i.child;c;){if(c===n){s=!0,n=i,r=o;break}if(c===r){s=!0,r=i,n=o;break}c=c.sibling}if(!s){for(c=o.child;c;){if(c===n){s=!0,n=o,r=i;break}if(c===r){s=!0,r=o,n=i;break}c=c.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(t),e=null===(e=null!==e?h(e):null)?null:e.stateNode};var Pd={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:R,reconcilerVersion:"19.1.0"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Nd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Nd.isDisabled&&Nd.supportsFiber)try{ue=Nd.inject(Pd),he=Nd}catch(Rd){}}t.createRoot=function(e,t){if(!s(e))throw Error(a(299));var n=!1,r="",i=ys,o=_s,l=bs;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onUncaughtError&&(i=t.onUncaughtError),void 0!==t.onCaughtError&&(o=t.onCaughtError),void 0!==t.onRecoverableError&&(l=t.onRecoverableError),void 0!==t.unstable_transitionCallbacks&&t.unstable_transitionCallbacks),t=Xh(e,1,!1,null,0,n,r,i,o,l,0,null),e[Re]=t.current,zu(e),new Ad(t)},t.hydrateRoot=function(e,t,n){if(!s(e))throw Error(a(299));var r=!1,i="",o=ys,l=_s,c=bs,u=null;return null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(r=!0),void 0!==n.identifierPrefix&&(i=n.identifierPrefix),void 0!==n.onUncaughtError&&(o=n.onUncaughtError),void 0!==n.onCaughtError&&(l=n.onCaughtError),void 0!==n.onRecoverableError&&(c=n.onRecoverableError),void 0!==n.unstable_transitionCallbacks&&n.unstable_transitionCallbacks,void 0!==n.formState&&(u=n.formState)),(t=Xh(e,1,!0,t,0,r,i,o,l,c,0,u)).context=Zh(null),n=t.current,(i=io(r=Ae(r=Rc()))).callback=null,oo(n,i,r),n=r,t.current.lanes=n,Ce(t,n),ku(t),e[Re]=t.current,zu(e),new Od(t)},t.version="19.1.0"},43:(e,t,n)=>{"use strict";e.exports=n(288)},45:(e,t,n)=>{var r=n(738).default;e.exports=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)},e.exports.__esModule=!0,e.exports.default=e.exports},79:e=>{e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r},e.exports.__esModule=!0,e.exports.default=e.exports},122:(e,t,n)=>{var r=n(79);e.exports=function(e,t){if(e){if("string"==typeof e)return r(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}},e.exports.__esModule=!0,e.exports.default=e.exports},156:e=>{e.exports=function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}},e.exports.__esModule=!0,e.exports.default=e.exports},175:(e,t)=>{"use strict";const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,r=/^[\u0021-\u003A\u003C-\u007E]*$/,i=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,o=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,s=(()=>{const e=function(){};return e.prototype=Object.create(null),e})();function l(e,t,n){do{const n=e.charCodeAt(t);if(32!==n&&9!==n)return t}while(++t<n);return n}function c(e,t,n){for(;t>n;){const n=e.charCodeAt(--t);if(32!==n&&9!==n)return t+1}return n}function u(e){if(-1===e.indexOf("%"))return e;try{return decodeURIComponent(e)}catch(t){return e}}},288:(e,t)=>{"use strict";var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),p=Symbol.iterator;var f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||f}function y(){}function _(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||f}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var b=_.prototype=new y;b.constructor=_,m(b,v.prototype),b.isPureReactComponent=!0;var w=Array.isArray,k={H:null,A:null,T:null,S:null,V:null},S=Object.prototype.hasOwnProperty;function x(e,t,r,i,o,a){return r=a.ref,{$$typeof:n,type:e,key:t,ref:void 0!==r?r:null,props:a}}function C(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function E(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function A(){}function O(e,t,i,o,a){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l,c,u=!1;if(null===e)u=!0;else switch(s){case"bigint":case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0;break;case d:return O((u=e._init)(e._payload),t,i,o,a)}}if(u)return a=a(e),u=""===o?"."+E(e,0):o,w(a)?(i="",null!=u&&(i=u.replace(T,"$&/")+"/"),O(a,t,i,"",(function(e){return e}))):null!=a&&(C(a)&&(l=a,c=i+(null==a.key||e&&e.key===a.key?"":(""+a.key).replace(T,"$&/")+"/")+u,a=x(l.type,c,void 0,0,0,l.props)),t.push(a)),1;u=0;var h,f=""===o?".":o+":";if(w(e))for(var m=0;m<e.length;m++)u+=O(o=e[m],t,i,s=f+E(o,m),a);else if("function"===typeof(m=null===(h=e)||"object"!==typeof h?null:"function"===typeof(h=p&&h[p]||h["@@iterator"])?h:null))for(e=m.call(e),m=0;!(o=e.next()).done;)u+=O(o=o.value,t,i,s=f+E(o,m++),a);else if("object"===s){if("function"===typeof e.then)return O(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"===typeof e.status?e.then(A,A):(e.status="pending",e.then((function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)}),(function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)}))),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(e),t,i,o,a);throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return u}function M(e,t,n){if(null==e)return e;var r=[],i=0;return O(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function P(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var N="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function I(){}t.Children={map:M,forEach:function(e,t,n){M(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return M(e,(function(){t++})),t},toArray:function(e){return M(e,(function(e){return e}))||[]},only:function(e){if(!C(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=i,t.Profiler=a,t.PureComponent=_,t.StrictMode=o,t.Suspense=u,t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=k,t.__COMPILER_RUNTIME={__proto__:null,c:function(e){return k.H.useMemoCache(e)}},t.cache=function(e){return function(){return e.apply(null,arguments)}},t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error("The argument must be a React element, but you passed "+e+".");var r=m({},e.props),i=e.key;if(null!=t)for(o in void 0!==t.ref&&void 0,void 0!==t.key&&(i=""+t.key),t)!S.call(t,o)||"key"===o||"__self"===o||"__source"===o||"ref"===o&&void 0===t.ref||(r[o]=t[o]);var o=arguments.length-2;if(1===o)r.children=n;else if(1<o){for(var a=Array(o),s=0;s<o;s++)a[s]=arguments[s+2];r.children=a}return x(e.type,i,void 0,0,0,r)},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:s,_context:e},e},t.createElement=function(e,t,n){var r,i={},o=null;if(null!=t)for(r in void 0!==t.key&&(o=""+t.key),t)S.call(t,r)&&"key"!==r&&"__self"!==r&&"__source"!==r&&(i[r]=t[r]);var a=arguments.length-2;if(1===a)i.children=n;else if(1<a){for(var s=Array(a),l=0;l<a;l++)s[l]=arguments[l+2];i.children=s}if(e&&e.defaultProps)for(r in a=e.defaultProps)void 0===i[r]&&(i[r]=a[r]);return x(e,o,void 0,0,0,i)},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=C,t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:P}},t.memo=function(e,t){return{$$typeof:h,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=k.T,n={};k.T=n;try{var r=e(),i=k.S;null!==i&&i(n,r),"object"===typeof r&&null!==r&&"function"===typeof r.then&&r.then(I,N)}catch(o){N(o)}finally{k.T=t}},t.unstable_useCacheRefresh=function(){return k.H.useCacheRefresh()},t.use=function(e){return k.H.use(e)},t.useActionState=function(e,t,n){return k.H.useActionState(e,t,n)},t.useCallback=function(e,t){return k.H.useCallback(e,t)},t.useContext=function(e){return k.H.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e,t){return k.H.useDeferredValue(e,t)},t.useEffect=function(e,t,n){var r=k.H;if("function"===typeof n)throw Error("useEffect CRUD overload is not enabled in this build of React.");return r.useEffect(e,t)},t.useId=function(){return k.H.useId()},t.useImperativeHandle=function(e,t,n){return k.H.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return k.H.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return k.H.useLayoutEffect(e,t)},t.useMemo=function(e,t){return k.H.useMemo(e,t)},t.useOptimistic=function(e,t){return k.H.useOptimistic(e,t)},t.useReducer=function(e,t,n){return k.H.useReducer(e,t,n)},t.useRef=function(e){return k.H.useRef(e)},t.useState=function(e){return k.H.useState(e)},t.useSyncExternalStore=function(e,t,n){return k.H.useSyncExternalStore(e,t,n)},t.useTransition=function(){return k.H.useTransition()},t.version="19.1.0"},383:e=>{e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},e.exports.__esModule=!0,e.exports.default=e.exports},391:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4)},579:(e,t,n)=>{"use strict";e.exports=n(799)},672:(e,t,n)=>{"use strict";var r=n(43);function i(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(){}var a={d:{f:o,r:function(){throw Error(i(522))},D:o,C:o,L:o,m:o,X:o,S:o,M:o},p:0,findDOMNode:null},s=Symbol.for("react.portal");var l=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(e,t){return"font"===e?"":"string"===typeof t?"use-credentials"===t?t:"":void 0}t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)throw Error(i(299));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:s,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.flushSync=function(e){var t=l.T,n=a.p;try{if(l.T=null,a.p=2,e)return e()}finally{l.T=t,a.p=n,a.d.f()}},t.preconnect=function(e,t){"string"===typeof e&&(t?t="string"===typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:t=null,a.d.C(e,t))},t.prefetchDNS=function(e){"string"===typeof e&&a.d.D(e)},t.preinit=function(e,t){if("string"===typeof e&&t&&"string"===typeof t.as){var n=t.as,r=c(n,t.crossOrigin),i="string"===typeof t.integrity?t.integrity:void 0,o="string"===typeof t.fetchPriority?t.fetchPriority:void 0;"style"===n?a.d.S(e,"string"===typeof t.precedence?t.precedence:void 0,{crossOrigin:r,integrity:i,fetchPriority:o}):"script"===n&&a.d.X(e,{crossOrigin:r,integrity:i,fetchPriority:o,nonce:"string"===typeof t.nonce?t.nonce:void 0})}},t.preinitModule=function(e,t){if("string"===typeof e)if("object"===typeof t&&null!==t){if(null==t.as||"script"===t.as){var n=c(t.as,t.crossOrigin);a.d.M(e,{crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0})}}else null==t&&a.d.M(e)},t.preload=function(e,t){if("string"===typeof e&&"object"===typeof t&&null!==t&&"string"===typeof t.as){var n=t.as,r=c(n,t.crossOrigin);a.d.L(e,n,{crossOrigin:r,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0,type:"string"===typeof t.type?t.type:void 0,fetchPriority:"string"===typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"===typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"===typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"===typeof t.imageSizes?t.imageSizes:void 0,media:"string"===typeof t.media?t.media:void 0})}},t.preloadModule=function(e,t){if("string"===typeof e)if(t){var n=c(t.as,t.crossOrigin);a.d.m(e,{as:"string"===typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0})}else a.d.m(e)},t.requestFormReset=function(e){a.d.r(e)},t.unstable_batchedUpdates=function(e,t){return e(t)},t.useFormState=function(e,t,n){return l.H.useFormState(e,t,n)},t.useFormStatus=function(){return l.H.useHostTransitionStatus()},t.version="19.1.0"},715:(e,t,n)=>{var r=n(987),i=n(156),o=n(122),a=n(752);e.exports=function(e,t){return r(e)||i(e,t)||o(e,t)||a()},e.exports.__esModule=!0,e.exports.default=e.exports},736:(e,t,n)=>{var r=n(738).default,i=n(45);e.exports=function(e){var t=i(e,"string");return"symbol"==r(t)?t:t+""},e.exports.__esModule=!0,e.exports.default=e.exports},738:e=>{function t(n){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},752:e=>{e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},799:(e,t)=>{"use strict";var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function i(e,t,r){var i=null;if(void 0!==r&&(i=""+r),void 0!==t.key&&(i=""+t.key),"key"in t)for(var o in r={},t)"key"!==o&&(r[o]=t[o]);else r=t;return t=r.ref,{$$typeof:n,type:e,key:i,ref:void 0!==t?t:null,props:r}}t.Fragment=r,t.jsx=i,t.jsxs=i},853:(e,t,n)=>{"use strict";e.exports=n(896)},896:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<o(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,a=i>>>1;r<a;){var s=2*(r+1)-1,l=e[s],c=s+1,u=e[c];if(0>o(l,n))c<i&&0>o(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[s]=n,r=s);else{if(!(c<i&&0>o(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(t.unstable_now=void 0,"object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var c=[],u=[],h=1,d=null,p=3,f=!1,m=!1,g=!1,v=!1,y="function"===typeof setTimeout?setTimeout:null,_="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function k(e){if(g=!1,w(e),!m)if(null!==r(c))m=!0,x||(x=!0,S());else{var t=r(u);null!==t&&N(k,t.startTime-e)}}var S,x=!1,C=-1,T=5,E=-1;function A(){return!!v||!(t.unstable_now()-E<T)}function O(){if(v=!1,x){var e=t.unstable_now();E=e;var n=!0;try{e:{m=!1,g&&(g=!1,_(C),C=-1),f=!0;var o=p;try{t:{for(w(e),d=r(c);null!==d&&!(d.expirationTime>e&&A());){var a=d.callback;if("function"===typeof a){d.callback=null,p=d.priorityLevel;var s=a(d.expirationTime<=e);if(e=t.unstable_now(),"function"===typeof s){d.callback=s,w(e),n=!0;break t}d===r(c)&&i(c),w(e)}else i(c);d=r(c)}if(null!==d)n=!0;else{var l=r(u);null!==l&&N(k,l.startTime-e),n=!1}}break e}finally{d=null,p=o,f=!1}n=void 0}}finally{n?S():x=!1}}}if("function"===typeof b)S=function(){b(O)};else if("undefined"!==typeof MessageChannel){var M=new MessageChannel,P=M.port2;M.port1.onmessage=O,S=function(){P.postMessage(null)}}else S=function(){y(O,0)};function N(e,n){C=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_next=function(e){switch(p){case 1:case 2:case 3:var t=3;break;default:t=p}var n=p;p=t;try{return e()}finally{p=n}},t.unstable_requestPaint=function(){v=!0},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=p;p=e;try{return t()}finally{p=n}},t.unstable_scheduleCallback=function(e,i,o){var a=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?a+o:a:o=a,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:h++,callback:i,priorityLevel:e,startTime:o,expirationTime:s=o+s,sortIndex:-1},o>a?(e.sortIndex=o,n(u,e),null===r(c)&&e===r(u)&&(g?(_(C),C=-1):g=!0,N(k,o-a))):(e.sortIndex=s,n(c,e),m||f||(m=!0,x||(x=!0,S()))),e},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(e){var t=p;return function(){var n=p;p=t;try{return e.apply(this,arguments)}finally{p=n}}}},950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(672)},960:(e,t,n)=>{var r=n(736);function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,r(i.key),i)}}e.exports=function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e},e.exports.__esModule=!0,e.exports.default=e.exports},987:e=>{e.exports=function(e){if(Array.isArray(e))return e},e.exports.__esModule=!0,e.exports.default=e.exports},998:function(e,t,n){!function(e,t,n,r){"use strict";var i=function(e,t,n){return{endTime:t,insertTime:n,type:"exponentialRampToValue",value:e}},o=function(e,t,n){return{endTime:t,insertTime:n,type:"linearRampToValue",value:e}},a=function(e,t){return{startTime:t,type:"setValue",value:e}},s=function(e,t,n){return{duration:n,startTime:t,type:"setValueCurve",values:e}},l=function(e,t,n){var r=n.startTime,i=n.target,o=n.timeConstant;return i+(t-i)*Math.exp((r-e)/o)},c=function(e){return"exponentialRampToValue"===e.type},u=function(e){return"linearRampToValue"===e.type},h=function(e){return c(e)||u(e)},d=function(e){return"setValue"===e.type},p=function(e){return"setValueCurve"===e.type},f=function(e,t,n,r){var i=e[t];return void 0===i?r:h(i)||d(i)?i.value:p(i)?i.values[i.values.length-1]:l(n,f(e,t-1,i.startTime,r),i)},m=function(e,t,n,r,i){return void 0===n?[r.insertTime,i]:h(n)?[n.endTime,n.value]:d(n)?[n.startTime,n.value]:p(n)?[n.startTime+n.duration,n.values[n.values.length-1]]:[n.startTime,f(e,t-1,n.startTime,i)]},g=function(e){return"cancelAndHold"===e.type},v=function(e){return"cancelScheduledValues"===e.type},y=function(e){return g(e)||v(e)?e.cancelTime:c(e)||u(e)?e.endTime:e.startTime},_=function(e,t,n,r){var i=r.endTime,o=r.value;return n===o?o:0<n&&0<o||n<0&&o<0?n*Math.pow(o/n,(e-t)/(i-t)):0},b=function(e,t,n,r){return n+(e-t)/(r.endTime-t)*(r.value-n)},w=function(e,t){var n=Math.floor(t),r=Math.ceil(t);return n===r?e[n]:(1-(t-n))*e[n]+(1-(r-t))*e[r]},k=function(e,t){var n=t.duration,r=t.startTime,i=t.values,o=(e-r)/n*(i.length-1);return w(i,o)},S=function(e){return"setTarget"===e.type},x=function(){function e(t){n(this,e),this._automationEvents=[],this._currenTime=0,this._defaultValue=t}return r(e,[{key:Symbol.iterator,value:function(){return this._automationEvents[Symbol.iterator]()}},{key:"add",value:function(e){var t=y(e);if(g(e)||v(e)){var n=this._automationEvents.findIndex((function(n){return v(e)&&p(n)?n.startTime+n.duration>=t:y(n)>=t})),r=this._automationEvents[n];if(-1!==n&&(this._automationEvents=this._automationEvents.slice(0,n)),g(e)){var l=this._automationEvents[this._automationEvents.length-1];if(void 0!==r&&h(r)){if(void 0!==l&&S(l))throw new Error("The internal list is malformed.");var d=void 0===l?r.insertTime:p(l)?l.startTime+l.duration:y(l),f=void 0===l?this._defaultValue:p(l)?l.values[l.values.length-1]:l.value,m=c(r)?_(t,d,f,r):b(t,d,f,r),w=c(r)?i(m,t,this._currenTime):o(m,t,this._currenTime);this._automationEvents.push(w)}if(void 0!==l&&S(l)&&this._automationEvents.push(a(this.getValue(t),t)),void 0!==l&&p(l)&&l.startTime+l.duration>t){var k=t-l.startTime,x=(l.values.length-1)/l.duration,C=Math.max(2,1+Math.ceil(k*x)),T=k/(C-1)*x,E=l.values.slice(0,C);if(T<1)for(var A=1;A<C;A+=1){var O=T*A%1;E[A]=l.values[A-1]*(1-O)+l.values[A]*O}this._automationEvents[this._automationEvents.length-1]=s(E,l.startTime,k)}}}else{var M=this._automationEvents.findIndex((function(e){return y(e)>t})),P=-1===M?this._automationEvents[this._automationEvents.length-1]:this._automationEvents[M-1];if(void 0!==P&&p(P)&&y(P)+P.duration>t)return!1;var N=c(e)?i(e.value,e.endTime,this._currenTime):u(e)?o(e.value,t,this._currenTime):e;if(-1===M)this._automationEvents.push(N);else{if(p(e)&&t+e.duration>y(this._automationEvents[M]))return!1;this._automationEvents.splice(M,0,N)}}return!0}},{key:"flush",value:function(e){var t=this._automationEvents.findIndex((function(t){return y(t)>e}));if(t>1){var n=this._automationEvents.slice(t-1),r=n[0];S(r)&&n.unshift(a(f(this._automationEvents,t-2,r.startTime,this._defaultValue),r.startTime)),this._automationEvents=n}}},{key:"getValue",value:function(e){if(0===this._automationEvents.length)return this._defaultValue;var n=this._automationEvents.findIndex((function(t){return y(t)>e})),r=this._automationEvents[n],i=(-1===n?this._automationEvents.length:n)-1,o=this._automationEvents[i];if(void 0!==o&&S(o)&&(void 0===r||!h(r)||r.insertTime>e))return l(e,f(this._automationEvents,i-1,o.startTime,this._defaultValue),o);if(void 0!==o&&d(o)&&(void 0===r||!h(r)))return o.value;if(void 0!==o&&p(o)&&(void 0===r||!h(r)||o.startTime+o.duration>e))return e<o.startTime+o.duration?k(e,o):o.values[o.values.length-1];if(void 0!==o&&h(o)&&(void 0===r||!h(r)))return o.value;if(void 0!==r&&c(r)){var a=m(this._automationEvents,i,o,r,this._defaultValue),s=t(a,2),g=s[0],v=s[1];return _(e,g,v,r)}if(void 0!==r&&u(r)){var w=m(this._automationEvents,i,o,r,this._defaultValue),x=t(w,2),C=x[0],T=x[1];return b(e,C,T,r)}return this._defaultValue}}])}(),C=function(e){return{cancelTime:e,type:"cancelAndHold"}},T=function(e){return{cancelTime:e,type:"cancelScheduledValues"}},E=function(e,t){return{endTime:t,type:"exponentialRampToValue",value:e}},A=function(e,t){return{endTime:t,type:"linearRampToValue",value:e}},O=function(e,t,n){return{startTime:t,target:e,timeConstant:n,type:"setTarget"}};e.AutomationEventList=x,e.createCancelAndHoldAutomationEvent=C,e.createCancelScheduledValuesAutomationEvent=T,e.createExponentialRampToValueAutomationEvent=E,e.createLinearRampToValueAutomationEvent=A,e.createSetTargetAutomationEvent=O,e.createSetValueAutomationEvent=a,e.createSetValueCurveAutomationEvent=s}(t,n(715),n(383),n(960))}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={exports:{}};return e[r].call(o.exports,o,o.exports,n),o.exports}(()=>{"use strict";var e=n(43),t=n(391);function r(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function o(e){var t=function(e,t){if("object"!=i(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==i(t)?t:t+""}function a(e,t,n){return(t=o(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}n(175);const c=["sri"],u=["page"],h=["page","matches"],d=["onClick","discover","prefetch","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],p=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],f=["discover","fetcherKey","navigate","reloadDocument","replace","state","method","action","onSubmit","relative","preventScrollReset","viewTransition"];var m="popstate";function g(){return S((function(e,t){let{pathname:n,search:r,hash:i}=e.location;return b("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:w(t)}),null,arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}function v(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function y(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function _(e,t){return{usr:e.state,key:e.key,idx:t}}function b(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0;return l(l({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?k(t):t),{},{state:n,key:t&&t.key||r||Math.random().toString(36).substring(2,10)})}function w(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function k(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function S(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},{window:i=document.defaultView,v5Compat:o=!1}=r,a=i.history,s="POP",c=null,u=h();function h(){return(a.state||{idx:null}).idx}function d(){s="POP";let e=h(),t=null==e?null:e-u;u=e,c&&c({action:s,location:f.location,delta:t})}function p(e){return x(e)}null==u&&(u=0,a.replaceState(l(l({},a.state),{},{idx:u}),""));let f={get action(){return s},get location(){return e(i,a)},listen(e){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(m,d),c=e,()=>{i.removeEventListener(m,d),c=null}},createHref:e=>t(i,e),createURL:p,encodeLocation(e){let t=p(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){s="PUSH";let r=b(f.location,e,t);n&&n(r,e),u=h()+1;let l=_(r,u),d=f.createHref(r);try{a.pushState(l,"",d)}catch(p){if(p instanceof DOMException&&"DataCloneError"===p.name)throw p;i.location.assign(d)}o&&c&&c({action:s,location:f.location,delta:1})},replace:function(e,t){s="REPLACE";let r=b(f.location,e,t);n&&n(r,e),u=h();let i=_(r,u),l=f.createHref(r);a.replaceState(i,"",l),o&&c&&c({action:s,location:f.location,delta:0})},go:e=>a.go(e)};return f}function x(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n="http://localhost";"undefined"!==typeof window&&(n="null"!==window.location.origin?window.location.origin:window.location.href),v(n,"No window.location.(origin|href) available to create URL");let r="string"===typeof e?e:w(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}new WeakMap;function C(e,t){return T(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"/",!1)}function T(e,t,n,r){let i=q(("string"===typeof t?k(t):t).pathname||"/",n);if(null==i)return null;let o=E(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(o);let a=null;for(let s=0;null==a&&s<o.length;++s){let e=z(i);a=j(o[s],e,r)}return a}function E(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",i=(e,i,o)=>{let a={relativePath:void 0===o?e.path||"":o,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};a.relativePath.startsWith("/")&&(v(a.relativePath.startsWith(r),'Absolute route path "'.concat(a.relativePath,'" nested under path "').concat(r,'" is not valid. An absolute child route path must start with the combined path of all its parent routes.')),a.relativePath=a.relativePath.slice(r.length));let s=$([r,a.relativePath]),l=n.concat(a);e.children&&e.children.length>0&&(v(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'.concat(s,'".')),E(e.children,t,l,s)),(null!=e.path||e.index)&&t.push({path:s,score:L(s,e.index),routesMeta:l})};return e.forEach(((e,t)=>{var n;if(""!==e.path&&null!==(n=e.path)&&void 0!==n&&n.includes("?"))for(let r of A(e.path))i(e,t,r);else i(e,t)})),t}function A(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(0===r.length)return i?[o,""]:[o];let a=A(r.join("/")),s=[];return s.push(...a.map((e=>""===e?o:[o,e].join("/")))),i&&s.push(...a),s.map((t=>e.startsWith("/")&&""===t?"/":t))}var O=/^:[\w-]+$/,M=3,P=2,N=1,I=10,R=-2,D=e=>"*"===e;function L(e,t){let n=e.split("/"),r=n.length;return n.some(D)&&(r+=R),t&&(r+=P),n.filter((e=>!D(e))).reduce(((e,t)=>e+(O.test(t)?M:""===t?N:I)),r)}function j(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],{routesMeta:r}=e,i={},o="/",a=[];for(let s=0;s<r.length;++s){let e=r[s],l=s===r.length-1,c="/"===o?t:t.slice(o.length)||"/",u=F({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),h=e.route;if(!u&&l&&n&&!r[r.length-1].route.index&&(u=F({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!u)return null;Object.assign(i,u.params),a.push({params:i,pathname:$([o,u.pathname]),pathnameBase:G($([o,u.pathnameBase])),route:h}),"/"!==u.pathnameBase&&(o=$([o,u.pathnameBase]))}return a}function F(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=V(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let o=i[0],a=o.replace(/(.)\/+$/,"$1"),s=i.slice(1),l=r.reduce(((e,t,n)=>{let{paramName:r,isOptional:i}=t;if("*"===r){let e=s[n]||"";a=o.slice(0,o.length-e.length).replace(/(.)\/+$/,"$1")}const l=s[n];return e[r]=i&&!l?void 0:(l||"").replace(/%2F/g,"/"),e}),{});return{params:l,pathname:o,pathnameBase:a,pattern:e}}function V(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];y("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'.concat(e,'" will be treated as if it were "').concat(e.replace(/\*$/,"/*"),'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "').concat(e.replace(/\*$/,"/*"),'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));return e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function z(e){try{return e.split("/").map((e=>decodeURIComponent(e).replace(/\//g,"%2F"))).join("/")}catch(t){return y(!1,'The URL path "'.concat(e,'" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (').concat(t,").")),e}}function q(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function B(e,t,n,r){return"Cannot include a '".concat(e,"' character in a manually specified `to.").concat(t,"` field [").concat(JSON.stringify(r),"].  Please separate it out to the `to.").concat(n,'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.')}function U(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function W(e){let t=U(e);return t.map(((e,n)=>n===t.length-1?e.pathname:e.pathnameBase))}function H(e,t,n){let r,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];"string"===typeof e?r=k(e):(r=l({},e),v(!r.pathname||!r.pathname.includes("?"),B("?","pathname","search",r)),v(!r.pathname||!r.pathname.includes("#"),B("#","pathname","hash",r)),v(!r.search||!r.search.includes("#"),B("#","search","hash",r)));let o,a=""===e||""===r.pathname,s=a?"/":r.pathname;if(null==s)o=n;else{let e=t.length-1;if(!i&&s.startsWith("..")){let t=s.split("/");for(;".."===t[0];)t.shift(),e-=1;r.pathname=t.join("/")}o=e>=0?t[e]:"/"}let c=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/",{pathname:n,search:r="",hash:i=""}="string"===typeof e?k(e):e,o=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:o,search:Y(r),hash:Q(i)}}(r,o),u=s&&"/"!==s&&s.endsWith("/"),h=(a||"."===s)&&n.endsWith("/");return c.pathname.endsWith("/")||!u&&!h||(c.pathname+="/"),c}var $=e=>e.join("/").replace(/\/\/+/g,"/"),G=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Y=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",Q=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";function X(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}var Z=["POST","PUT","PATCH","DELETE"],K=(new Set(Z),["GET",...Z]);new Set(K),Symbol("ResetLoaderData");var J=e.createContext(null);J.displayName="DataRouter";var ee=e.createContext(null);ee.displayName="DataRouterState";var te=e.createContext({isTransitioning:!1});te.displayName="ViewTransition";var ne=e.createContext(new Map);ne.displayName="Fetchers";var re=e.createContext(null);re.displayName="Await";var ie=e.createContext(null);ie.displayName="Navigation";var oe=e.createContext(null);oe.displayName="Location";var ae=e.createContext({outlet:null,matches:[],isDataRoute:!1});ae.displayName="Route";var se=e.createContext(null);se.displayName="RouteError";function le(){return null!=e.useContext(oe)}function ce(){return v(le(),"useLocation() may be used only in the context of a <Router> component."),e.useContext(oe).location}var ue="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function he(t){e.useContext(ie).static||e.useLayoutEffect(t)}function de(){let{isDataRoute:t}=e.useContext(ae);return t?function(){let{router:t}=we("useNavigate"),n=Se("useNavigate"),r=e.useRef(!1);he((()=>{r.current=!0}));let i=e.useCallback((async function(e){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};y(r.current,ue),r.current&&("number"===typeof e?t.navigate(e):await t.navigate(e,l({fromRouteId:n},i)))}),[t,n]);return i}():function(){v(le(),"useNavigate() may be used only in the context of a <Router> component.");let t=e.useContext(J),{basename:n,navigator:r}=e.useContext(ie),{matches:i}=e.useContext(ae),{pathname:o}=ce(),a=JSON.stringify(W(i)),s=e.useRef(!1);he((()=>{s.current=!0}));let l=e.useCallback((function(e){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(y(s.current,ue),!s.current)return;if("number"===typeof e)return void r.go(e);let l=H(e,JSON.parse(a),o,"path"===i.relative);null==t&&"/"!==n&&(l.pathname="/"===l.pathname?n:$([n,l.pathname])),(i.replace?r.replace:r.push)(l,i.state,i)}),[n,r,a,o,t]);return l}()}e.createContext(null);function pe(t){let{relative:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{matches:r}=e.useContext(ae),{pathname:i}=ce(),o=JSON.stringify(W(r));return e.useMemo((()=>H(t,JSON.parse(o),i,"path"===n)),[t,o,i,n])}function fe(t,n,r,i){v(le(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o,static:a}=e.useContext(ie),{matches:s}=e.useContext(ae),c=s[s.length-1],u=c?c.params:{},h=c?c.pathname:"/",d=c?c.pathnameBase:"/",p=c&&c.route;{let e=p&&p.path||"";Te(h,!p||e.endsWith("*")||e.endsWith("*?"),'You rendered descendant <Routes> (or called `useRoutes()`) at "'.concat(h,'" (under <Route path="').concat(e,'">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won\'t match anymore and therefore the child routes will never render.\n\nPlease change the parent <Route path="').concat(e,'"> to <Route path="').concat("/"===e?"*":"".concat(e,"/*"),'">.'))}let f,m=ce();if(n){var g;let e="string"===typeof n?k(n):n;v("/"===d||(null===(g=e.pathname)||void 0===g?void 0:g.startsWith(d)),'When overriding the location using `<Routes location>` or `useRoutes(routes, location)`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "'.concat(d,'" but pathname "').concat(e.pathname,'" was given in the `location` prop.')),f=e}else f=m;let _=f.pathname||"/",b=_;if("/"!==d){let e=d.replace(/^\//,"").split("/");b="/"+_.replace(/^\//,"").split("/").slice(e.length).join("/")}let w=!a&&r&&r.matches&&r.matches.length>0?r.matches:C(t,{pathname:b});y(p||null!=w,'No routes matched location "'.concat(f.pathname).concat(f.search).concat(f.hash,'" ')),y(null==w||void 0!==w[w.length-1].route.element||void 0!==w[w.length-1].route.Component||void 0!==w[w.length-1].route.lazy,'Matched leaf route at location "'.concat(f.pathname).concat(f.search).concat(f.hash,'" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.'));let S=_e(w&&w.map((e=>Object.assign({},e,{params:Object.assign({},u,e.params),pathname:$([d,o.encodeLocation?o.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?d:$([d,o.encodeLocation?o.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),s,r,i);return n&&S?e.createElement(oe.Provider,{value:{location:l({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:"POP"}},S):S}function me(){let t=xe(),n=X(t)?"".concat(t.status," ").concat(t.statusText):t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,i="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:i},a={padding:"2px 4px",backgroundColor:i},s=null;return console.error("Error handled by React Router default ErrorBoundary:",t),s=e.createElement(e.Fragment,null,e.createElement("p",null,"\ud83d\udcbf Hey developer \ud83d\udc4b"),e.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",e.createElement("code",{style:a},"ErrorBoundary")," or"," ",e.createElement("code",{style:a},"errorElement")," prop on your route.")),e.createElement(e.Fragment,null,e.createElement("h2",null,"Unexpected Application Error!"),e.createElement("h3",{style:{fontStyle:"italic"}},n),r?e.createElement("pre",{style:o},r):null,s)}var ge=e.createElement(me,null),ve=class extends e.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?e.createElement(ae.Provider,{value:this.props.routeContext},e.createElement(se.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function ye(t){let{routeContext:n,match:r,children:i}=t,o=e.useContext(J);return o&&o.static&&o.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=r.route.id),e.createElement(ae.Provider,{value:n},i)}function _e(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(null==t){if(!r)return null;if(r.errors)t=r.matches;else{if(0!==n.length||r.initialized||!(r.matches.length>0))return null;t=r.matches}}let i=t,o=null===r||void 0===r?void 0:r.errors;if(null!=o){let e=i.findIndex((e=>e.route.id&&void 0!==(null===o||void 0===o?void 0:o[e.route.id])));v(e>=0,"Could not find a matching route for errors on route IDs: ".concat(Object.keys(o).join(","))),i=i.slice(0,Math.min(i.length,e+1))}let a=!1,s=-1;if(r)for(let e=0;e<i.length;e++){let t=i[e];if((t.route.HydrateFallback||t.route.hydrateFallbackElement)&&(s=e),t.route.id){let{loaderData:e,errors:n}=r,o=t.route.loader&&!e.hasOwnProperty(t.route.id)&&(!n||void 0===n[t.route.id]);if(t.route.lazy||o){a=!0,i=s>=0?i.slice(0,s+1):[i[0]];break}}}return i.reduceRight(((t,l,c)=>{let u,h=!1,d=null,p=null;r&&(u=o&&l.route.id?o[l.route.id]:void 0,d=l.route.errorElement||ge,a&&(s<0&&0===c?(Te("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),h=!0,p=null):s===c&&(h=!0,p=l.route.hydrateFallbackElement||null)));let f=n.concat(i.slice(0,c+1)),m=()=>{let n;return n=u?d:h?p:l.route.Component?e.createElement(l.route.Component,null):l.route.element?l.route.element:t,e.createElement(ye,{match:l,routeContext:{outlet:t,matches:f,isDataRoute:null!=r},children:n})};return r&&(l.route.ErrorBoundary||l.route.errorElement||0===c)?e.createElement(ve,{location:r.location,revalidation:r.revalidation,component:d,error:u,children:m(),routeContext:{outlet:null,matches:f,isDataRoute:!0}}):m()}),null)}function be(e){return"".concat(e," must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.")}function we(t){let n=e.useContext(J);return v(n,be(t)),n}function ke(t){let n=e.useContext(ee);return v(n,be(t)),n}function Se(t){let n=function(t){let n=e.useContext(ae);return v(n,be(t)),n}(t),r=n.matches[n.matches.length-1];return v(r.route.id,"".concat(t,' can only be used on routes that contain a unique "id"')),r.route.id}function xe(){var t;let n=e.useContext(se),r=ke("useRouteError"),i=Se("useRouteError");return void 0!==n?n:null===(t=r.errors)||void 0===t?void 0:t[i]}var Ce={};function Te(e,t,n){t||Ce[e]||(Ce[e]=!0,y(!1,n))}e.memo((function(e){let{routes:t,future:n,state:r}=e;return fe(t,void 0,r,n)}));function Ee(e){v(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Ae(t){let{basename:n="/",children:r=null,location:i,navigationType:o="POP",navigator:a,static:s=!1}=t;v(!le(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=n.replace(/^\/*/,"/"),c=e.useMemo((()=>({basename:l,navigator:a,static:s,future:{}})),[l,a,s]);"string"===typeof i&&(i=k(i));let{pathname:u="/",search:h="",hash:d="",state:p=null,key:f="default"}=i,m=e.useMemo((()=>{let e=q(u,l);return null==e?null:{location:{pathname:e,search:h,hash:d,state:p,key:f},navigationType:o}}),[l,u,h,d,p,f,o]);return y(null!=m,'<Router basename="'.concat(l,'"> is not able to match the URL "').concat(u).concat(h).concat(d,"\" because it does not start with the basename, so the <Router> won't render anything.")),null==m?null:e.createElement(ie.Provider,{value:c},e.createElement(oe.Provider,{children:r,value:m}))}function Oe(e){let{children:t,location:n}=e;return fe(Me(t),n)}e.Component;function Me(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=[];return e.Children.forEach(t,((t,i)=>{if(!e.isValidElement(t))return;let o=[...n,i];if(t.type===e.Fragment)return void r.push.apply(r,Me(t.props.children,o));v(t.type===Ee,"[".concat("string"===typeof t.type?t.type:t.type.name,"] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>")),v(!t.props.index||!t.props.children,"An index route cannot have child routes.");let a={id:t.props.id||o.join("-"),caseSensitive:t.props.caseSensitive,element:t.props.element,Component:t.props.Component,index:t.props.index,path:t.props.path,loader:t.props.loader,action:t.props.action,hydrateFallbackElement:t.props.hydrateFallbackElement,HydrateFallback:t.props.HydrateFallback,errorElement:t.props.errorElement,ErrorBoundary:t.props.ErrorBoundary,hasErrorBoundary:!0===t.props.hasErrorBoundary||null!=t.props.ErrorBoundary||null!=t.props.errorElement,shouldRevalidate:t.props.shouldRevalidate,handle:t.props.handle,lazy:t.props.lazy};t.props.children&&(a.children=Me(t.props.children,o)),r.push(a)})),r}var Pe="get",Ne="application/x-www-form-urlencoded";function Ie(e){return null!=e&&"string"===typeof e.tagName}var Re=null;var De=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Le(e){return null==e||De.has(e)?e:(y(!1,'"'.concat(e,'" is not a valid `encType` for `<Form>`/`<fetcher.Form>` and will default to "').concat(Ne,'"')),null)}function je(e,t){let n,r,i,o,a;if(function(e){return Ie(e)&&"form"===e.tagName.toLowerCase()}(e)){let a=e.getAttribute("action");r=a?q(a,t):null,n=e.getAttribute("method")||Pe,i=Le(e.getAttribute("enctype"))||Ne,o=new FormData(e)}else if(function(e){return Ie(e)&&"button"===e.tagName.toLowerCase()}(e)||function(e){return Ie(e)&&"input"===e.tagName.toLowerCase()}(e)&&("submit"===e.type||"image"===e.type)){let a=e.form;if(null==a)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let s=e.getAttribute("formaction")||a.getAttribute("action");if(r=s?q(s,t):null,n=e.getAttribute("formmethod")||a.getAttribute("method")||Pe,i=Le(e.getAttribute("formenctype"))||Le(a.getAttribute("enctype"))||Ne,o=new FormData(a,e),!function(){if(null===Re)try{new FormData(document.createElement("form"),0),Re=!1}catch(e){Re=!0}return Re}()){let{name:t,type:n,value:r}=e;if("image"===n){let e=t?"".concat(t,"."):"";o.append("".concat(e,"x"),"0"),o.append("".concat(e,"y"),"0")}else t&&o.append(t,r)}}else{if(Ie(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Pe,r=null,i=Ne,a=e}return o&&"text/plain"===i&&(a=o,o=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:o,body:a}}function Fe(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}async function Ve(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error("Error loading route module `".concat(e.module,"`, reloading page...")),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise((()=>{}))}}function ze(e){return null!=e&&"string"===typeof e.page}function qe(e){return null!=e&&(null==e.href?"preload"===e.rel&&"string"===typeof e.imageSrcSet&&"string"===typeof e.imageSizes:"string"===typeof e.rel&&"string"===typeof e.href)}function Be(e,t,n,r,i,o){let a=(e,t)=>!n[t]||e.route.id!==n[t].route.id,s=(e,t)=>{var r;return n[t].pathname!==e.pathname||(null===(r=n[t].route.path)||void 0===r?void 0:r.endsWith("*"))&&n[t].params["*"]!==e.params["*"]};return"assets"===o?t.filter(((e,t)=>a(e,t)||s(e,t))):"data"===o?t.filter(((t,o)=>{let l=r.routes[t.route.id];if(!l||!l.hasLoader)return!1;if(a(t,o)||s(t,o))return!0;if(t.route.shouldRevalidate){var c;let r=t.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:(null===(c=n[0])||void 0===c?void 0:c.params)||{},nextUrl:new URL(e,window.origin),nextParams:t.params,defaultShouldRevalidate:!0});if("boolean"===typeof r)return r}return!0})):[]}function Ue(e,t){let{includeHydrateFallback:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return r=e.map((e=>{let r=t.routes[e.route.id];if(!r)return[];let i=[r.module];return r.clientActionModule&&(i=i.concat(r.clientActionModule)),r.clientLoaderModule&&(i=i.concat(r.clientLoaderModule)),n&&r.hydrateFallbackModule&&(i=i.concat(r.hydrateFallbackModule)),r.imports&&(i=i.concat(r.imports)),i})).flat(1),[...new Set(r)];var r}function We(e,t){let n=new Set,r=new Set(t);return e.reduce(((e,i)=>{if(t&&!ze(i)&&"script"===i.as&&i.href&&r.has(i.href))return e;let o=JSON.stringify(function(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}(i));return n.has(o)||(n.add(o),e.push({key:o,link:i})),e}),[])}function He(e){return{__html:e}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");"undefined"!==typeof window?window:"undefined"!==typeof globalThis&&globalThis;Symbol("SingleFetchRedirect");var $e=new Set([100,101,204,205]);function Ge(e,t){let n="string"===typeof e?new URL(e,"undefined"===typeof window?"server://singlefetch/":window.location.origin):e;return"/"===n.pathname?n.pathname="_root.data":t&&"/"===q(n.pathname,t)?n.pathname="".concat(t.replace(/\/$/,""),"/_root.data"):n.pathname="".concat(n.pathname.replace(/\/$/,""),".data"),n}e.Component;function Ye(t){let{error:n,isOutsideRemixApp:r}=t;console.error(n);let i,o=e.createElement("script",{dangerouslySetInnerHTML:{__html:'\n        console.log(\n          "\ud83d\udcbf Hey developer \ud83d\udc4b. You can provide a way better UX than this when your app throws errors. Check out https://reactrouter.com/how-to/error-boundary for more information."\n        );\n      '}});if(X(n))return e.createElement(Qe,{title:"Unhandled Thrown Response!"},e.createElement("h1",{style:{fontSize:"24px"}},n.status," ",n.statusText),o);if(n instanceof Error)0;else{let e=null==n?"Unknown Error":"object"===typeof n&&"toString"in n?n.toString():JSON.stringify(n);new Error(e)}return e.createElement(Qe,{title:"Application Error!",isOutsideRemixApp:r},e.createElement("h1",{style:{fontSize:"24px"}},"Application Error"),e.createElement("pre",{style:{padding:"2rem",background:"hsla(10, 50%, 50%, 0.1)",color:"red",overflow:"auto"}},i.stack),o)}function Qe(t){var n;let{title:r,renderScripts:i,isOutsideRemixApp:o,children:a}=t,{routeModules:s}=et();return null!==s.root&&void 0!==n&&n.Layout&&!o?a:e.createElement("html",{lang:"en"},e.createElement("head",null,e.createElement("meta",{charSet:"utf-8"}),e.createElement("meta",{name:"viewport",content:"width=device-width,initial-scale=1,viewport-fit=cover"}),e.createElement("title",null,r)),e.createElement("body",null,e.createElement("main",{style:{fontFamily:"system-ui, sans-serif",padding:"2rem"}},a,i?e.createElement(st,null):null)))}function Xe(e,t){return"lazy"===e.mode&&!0===t}function Ze(){let t=e.useContext(J);return Fe(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function Ke(){let t=e.useContext(ee);return Fe(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Je=e.createContext(void 0);function et(){let t=e.useContext(Je);return Fe(t,"You must render this element inside a <HydratedRouter> element"),t}function tt(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function nt(e,t,n){if(n&&!at)return[e[0]];if(t){let n=e.findIndex((e=>void 0!==t[e.route.id]));return e.slice(0,n+1)}return e}function rt(t){let{page:n}=t,i=r(t,u),{router:o}=Ze(),a=e.useMemo((()=>C(o.routes,n,o.basename)),[o.routes,n,o.basename]);return a?e.createElement(ot,l({page:n,matches:a},i)):null}function it(t){let{manifest:n,routeModules:r}=et(),[i,o]=e.useState([]);return e.useEffect((()=>{let e=!1;return async function(e,t,n){return We((await Promise.all(e.map((async e=>{let r=t.routes[e.route.id];if(r){let e=await Ve(r,n);return e.links?e.links():[]}return[]})))).flat(1).filter(qe).filter((e=>"stylesheet"===e.rel||"preload"===e.rel)).map((e=>"stylesheet"===e.rel?l(l({},e),{},{rel:"prefetch",as:"style"}):l(l({},e),{},{rel:"prefetch"}))))}(t,n,r).then((t=>{e||o(t)})),()=>{e=!0}}),[t,n,r]),i}function ot(t){let{page:n,matches:i}=t,o=r(t,h),a=ce(),{manifest:s,routeModules:c}=et(),{basename:u}=Ze(),{loaderData:d,matches:p}=Ke(),f=e.useMemo((()=>Be(n,i,p,s,a,"data")),[n,i,p,s,a]),m=e.useMemo((()=>Be(n,i,p,s,a,"assets")),[n,i,p,s,a]),g=e.useMemo((()=>{if(n===a.pathname+a.search+a.hash)return[];let e=new Set,t=!1;if(i.forEach((n=>{var r;let i=s.routes[n.route.id];i&&i.hasLoader&&(!f.some((e=>e.route.id===n.route.id))&&n.route.id in d&&null!==(r=c[n.route.id])&&void 0!==r&&r.shouldRevalidate||i.hasClientLoader?t=!0:e.add(n.route.id))})),0===e.size)return[];let r=Ge(n,u);return t&&e.size>0&&r.searchParams.set("_routes",i.filter((t=>e.has(t.route.id))).map((e=>e.route.id)).join(",")),[r.pathname+r.search]}),[u,d,a,s,f,i,n,c]),v=e.useMemo((()=>Ue(m,s)),[m,s]),y=it(m);return e.createElement(e.Fragment,null,g.map((t=>e.createElement("link",l({key:t,rel:"prefetch",as:"fetch",href:t},o)))),v.map((t=>e.createElement("link",l({key:t,rel:"modulepreload",href:t},o)))),y.map((t=>{let{key:n,link:r}=t;return e.createElement("link",l({key:n},r))})))}Je.displayName="FrameworkContext";var at=!1;function st(t){let{manifest:n,serverHandoffString:i,isSpaMode:o,renderMeta:a,routeDiscovery:s,ssr:u}=et(),{router:h,static:d,staticContext:p}=Ze(),{matches:f}=Ke(),m=Xe(s,u);a&&(a.didRenderScripts=!0);let g=nt(f,null,o);e.useEffect((()=>{0}),[]);let v=e.useMemo((()=>{var o;let a=p?"window.__reactRouterContext = ".concat(i,";").concat("window.__reactRouterContext.stream = new ReadableStream({start(controller){window.__reactRouterContext.streamController = controller;}}).pipeThrough(new TextEncoderStream());"):" ",s=d?"".concat(null!==n.hmr&&void 0!==o&&o.runtime?"import ".concat(JSON.stringify(n.hmr.runtime),";"):"").concat(m?"":"import ".concat(JSON.stringify(n.url)),";\n").concat(g.map(((e,t)=>{let r="route".concat(t),i=n.routes[e.route.id];Fe(i,"Route ".concat(e.route.id," not found in manifest"));let{clientActionModule:o,clientLoaderModule:a,clientMiddlewareModule:s,hydrateFallbackModule:l,module:c}=i,u=[...o?[{module:o,varName:"".concat(r,"_clientAction")}]:[],...a?[{module:a,varName:"".concat(r,"_clientLoader")}]:[],...s?[{module:s,varName:"".concat(r,"_clientMiddleware")}]:[],...l?[{module:l,varName:"".concat(r,"_HydrateFallback")}]:[],{module:c,varName:"".concat(r,"_main")}];return 1===u.length?"import * as ".concat(r," from ").concat(JSON.stringify(c),";"):[u.map((e=>"import * as ".concat(e.varName,' from "').concat(e.module,'";'))).join("\n"),"const ".concat(r," = {").concat(u.map((e=>"...".concat(e.varName))).join(","),"};")].join("\n")})).join("\n"),"\n  ").concat(m?"window.__reactRouterManifest = ".concat(JSON.stringify(function(e,t){let{sri:n}=e,i=r(e,c),o=new Set(t.state.matches.map((e=>e.route.id))),a=t.state.location.pathname.split("/").filter(Boolean),s=["/"];for(a.pop();a.length>0;)s.push("/".concat(a.join("/"))),a.pop();s.forEach((e=>{let n=C(t.routes,e,t.basename);n&&n.forEach((e=>o.add(e.route.id)))}));let u=[...o].reduce(((e,t)=>Object.assign(e,{[t]:i.routes[t]})),{});return l(l({},i),{},{routes:u,sri:!!n||void 0})}(n,h),null,2),";"):"","\n  window.__reactRouterRouteModules = {").concat(g.map(((e,t)=>"".concat(JSON.stringify(e.route.id),":route").concat(t))).join(","),"};\n\nimport(").concat(JSON.stringify(n.entry.module),");"):" ";return e.createElement(e.Fragment,null,e.createElement("script",l(l({},t),{},{suppressHydrationWarning:!0,dangerouslySetInnerHTML:He(a),type:void 0})),e.createElement("script",l(l({},t),{},{suppressHydrationWarning:!0,dangerouslySetInnerHTML:He(s),type:"module",async:!0})))}),[]),y=at?[]:function(e){return[...new Set(e)]}(n.entry.imports.concat(Ue(g,n,{includeHydrateFallback:!0}))),_="object"===typeof n.sri?n.sri:{};return at?null:e.createElement(e.Fragment,null,"object"===typeof n.sri?e.createElement("script",{"rr-importmap":"",type:"importmap",suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:JSON.stringify({integrity:_})}}):null,m?null:e.createElement("link",{rel:"modulepreload",href:n.url,crossOrigin:t.crossOrigin,integrity:_[n.url],suppressHydrationWarning:!0}),e.createElement("link",{rel:"modulepreload",href:n.entry.module,crossOrigin:t.crossOrigin,integrity:_[n.entry.module],suppressHydrationWarning:!0}),y.map((n=>e.createElement("link",{key:n,rel:"modulepreload",href:n,crossOrigin:t.crossOrigin,integrity:_[n],suppressHydrationWarning:!0}))),v)}function lt(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>{t.forEach((t=>{"function"===typeof t?t(e):null!=t&&(t.current=e)}))}}var ct="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement;try{ct&&(window.__reactRouterVersion="7.6.0")}catch(Yb){}function ut(t){let{basename:n,children:r,window:i}=t,o=e.useRef();null==o.current&&(o.current=g({window:i,v5Compat:!0}));let a=o.current,[s,l]=e.useState({action:a.action,location:a.location}),c=e.useCallback((t=>{e.startTransition((()=>l(t)))}),[l]);return e.useLayoutEffect((()=>a.listen(c)),[a,c]),e.createElement(Ae,{basename:n,children:r,location:s.location,navigationType:s.action,navigator:a})}var ht=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,dt=e.forwardRef((function(t,n){let i,{onClick:o,discover:a="render",prefetch:s="none",relative:c,reloadDocument:u,replace:h,state:p,target:f,to:m,preventScrollReset:g,viewTransition:_}=t,b=r(t,d),{basename:k}=e.useContext(ie),S="string"===typeof m&&ht.test(m),x=!1;if("string"===typeof m&&S&&(i=m,ct))try{let e=new URL(window.location.href),t=m.startsWith("//")?new URL(e.protocol+m):new URL(m),n=q(t.pathname,k);t.origin===e.origin&&null!=n?m=n+t.search+t.hash:x=!0}catch(Yb){y(!1,'<Link to="'.concat(m,'"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.'))}let C=function(t){let{relative:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};v(le(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:i}=e.useContext(ie),{hash:o,pathname:a,search:s}=pe(t,{relative:n}),l=a;return"/"!==r&&(l="/"===a?r:$([r,a])),i.createHref({pathname:l,search:s,hash:o})}(m,{relative:c}),[T,E,A]=function(t,n){let r=e.useContext(Je),[i,o]=e.useState(!1),[a,s]=e.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:u,onMouseLeave:h,onTouchStart:d}=n,p=e.useRef(null);e.useEffect((()=>{if("render"===t&&s(!0),"viewport"===t){let e=new IntersectionObserver((e=>{e.forEach((e=>{s(e.isIntersecting)}))}),{threshold:.5});return p.current&&e.observe(p.current),()=>{e.disconnect()}}}),[t]),e.useEffect((()=>{if(i){let e=setTimeout((()=>{s(!0)}),100);return()=>{clearTimeout(e)}}}),[i]);let f=()=>{o(!0)},m=()=>{o(!1),s(!1)};return r?"intent"!==t?[a,p,{}]:[a,p,{onFocus:tt(l,f),onBlur:tt(c,m),onMouseEnter:tt(u,f),onMouseLeave:tt(h,m),onTouchStart:tt(d,f)}]:[!1,p,{}]}(s,b),O=function(t){let{target:n,replace:r,state:i,preventScrollReset:o,relative:a,viewTransition:s}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=de(),c=ce(),u=pe(t,{relative:a});return e.useCallback((e=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(e,n)){e.preventDefault();let n=void 0!==r?r:w(c)===w(u);l(t,{replace:n,state:i,preventScrollReset:o,relative:a,viewTransition:s})}}),[c,l,u,r,i,n,t,o,a,s])}(m,{replace:h,state:p,target:f,preventScrollReset:g,relative:c,viewTransition:_});let M=e.createElement("a",l(l(l({},b),A),{},{href:i||C,onClick:x||u?o:function(e){o&&o(e),e.defaultPrevented||O(e)},ref:lt(n,E),target:f,"data-discover":S||"render"!==a?void 0:"true"}));return T&&!S?e.createElement(e.Fragment,null,M,e.createElement(rt,{page:C})):M}));dt.displayName="Link",e.forwardRef((function(t,n){let{"aria-current":i="page",caseSensitive:o=!1,className:a="",end:s=!1,style:c,to:u,viewTransition:h,children:d}=t,f=r(t,p),m=pe(u,{relative:f.relative}),g=ce(),y=e.useContext(ee),{navigator:_,basename:b}=e.useContext(ie),w=null!=y&&function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.useContext(te);v(null!=r,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=mt("useViewTransitionState"),o=pe(t,{relative:n.relative});if(!r.isTransitioning)return!1;let a=q(r.currentLocation.pathname,i)||r.currentLocation.pathname,s=q(r.nextLocation.pathname,i)||r.nextLocation.pathname;return null!=F(o.pathname,s)||null!=F(o.pathname,a)}(m)&&!0===h,k=_.encodeLocation?_.encodeLocation(m).pathname:m.pathname,S=g.pathname,x=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;o||(S=S.toLowerCase(),x=x?x.toLowerCase():null,k=k.toLowerCase()),x&&b&&(x=q(x,b)||x);const C="/"!==k&&k.endsWith("/")?k.length-1:k.length;let T,E=S===k||!s&&S.startsWith(k)&&"/"===S.charAt(C),A=null!=x&&(x===k||!s&&x.startsWith(k)&&"/"===x.charAt(k.length)),O={isActive:E,isPending:A,isTransitioning:w},M=E?i:void 0;T="function"===typeof a?a(O):[a,E?"active":null,A?"pending":null,w?"transitioning":null].filter(Boolean).join(" ");let P="function"===typeof c?c(O):c;return e.createElement(dt,l(l({},f),{},{"aria-current":M,className:T,ref:n,style:P,to:u,viewTransition:h}),"function"===typeof d?d(O):d)})).displayName="NavLink";var pt=e.forwardRef(((t,n)=>{let{discover:i="render",fetcherKey:o,navigate:a,reloadDocument:s,replace:c,state:u,method:h=Pe,action:d,onSubmit:p,relative:m,preventScrollReset:g,viewTransition:y}=t,_=r(t,f),b=yt(),k=function(t){let{relative:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{basename:r}=e.useContext(ie),i=e.useContext(ae);v(i,"useFormAction must be used inside a RouteContext");let[o]=i.matches.slice(-1),a=l({},pe(t||".",{relative:n})),s=ce();if(null==t){a.search=s.search;let e=new URLSearchParams(a.search),t=e.getAll("index");if(t.some((e=>""===e))){e.delete("index"),t.filter((e=>e)).forEach((t=>e.append("index",t)));let n=e.toString();a.search=n?"?".concat(n):""}}t&&"."!==t||!o.route.index||(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index");"/"!==r&&(a.pathname="/"===a.pathname?r:$([r,a.pathname]));return w(a)}(d,{relative:m}),S="get"===h.toLowerCase()?"get":"post",x="string"===typeof d&&ht.test(d);return e.createElement("form",l(l({ref:n,method:S,action:k,onSubmit:s?p:e=>{if(p&&p(e),e.defaultPrevented)return;e.preventDefault();let t=e.nativeEvent.submitter,n=(null===t||void 0===t?void 0:t.getAttribute("formmethod"))||h;b(t||e.currentTarget,{fetcherKey:o,method:n,navigate:a,replace:c,state:u,relative:m,preventScrollReset:g,viewTransition:y})}},_),{},{"data-discover":x||"render"!==i?void 0:"true"}))}));function ft(e){return"".concat(e," must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.")}function mt(t){let n=e.useContext(J);return v(n,ft(t)),n}pt.displayName="Form";var gt=0,vt=()=>"__".concat(String(++gt),"__");function yt(){let{router:t}=mt("useSubmit"),{basename:n}=e.useContext(ie),r=Se("useRouteId");return e.useCallback((async function(e){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{action:o,method:a,encType:s,formData:l,body:c}=je(e,n);if(!1===i.navigate){let e=i.fetcherKey||vt();await t.fetch(e,r,i.action||o,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||a,formEncType:i.encType||s,flushSync:i.flushSync})}else await t.navigate(i.action||o,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||a,formEncType:i.encType||s,replace:i.replace,state:i.state,fromRouteId:r,flushSync:i.flushSync,viewTransition:i.viewTransition})}),[t,n,r])}var _t=n(579);const bt=e=>{let{sequencerStructure:t,trackNames:n,getCellState:r,handleCellClick:i,currentPlaybackPosition:o=null,onLoopButtonClick:a,loopRange:s,loopedBlockIndices:l,mutedTracks:c,isGridModeActive:u,onTrackStepsChange:h}=e;return(0,_t.jsx)("div",{className:"blocks-container",children:t.map(((e,d)=>{const p=e.originalIndex,f=e.id;let m=!1;if(s&&null!==s.start&&null!==s.end){const e=s.start,n=s.end,r=t.length;m=e<=n?p>=e&&p<=n:p>=e&&p<r||p>=0&&p<=n}const g=l&&l.includes(p),v=l&&l.length>0&&!g,y=g?"LOOPING":"LOOP",_="loop-button ".concat(g?"active":"");return(0,_t.jsx)("div",{className:"block-container ".concat(v?"block-out-of-loop":""),children:(0,_t.jsxs)("div",{className:"sequencer",children:[(0,_t.jsxs)("div",{className:"sequencer-header",children:[(0,_t.jsx)("h2",{children:e.name}),(0,_t.jsx)("button",{className:_,onClick:()=>a(p),children:y})]}),(0,_t.jsx)("div",{className:"grid",children:n.map((t=>{const n=e.trackSteps[t]||0;return(0,_t.jsxs)("div",{className:"track-row ".concat(c&&c.has(t)?"muted":""),children:[u&&(0,_t.jsxs)("div",{className:"track-step-controls",children:[(0,_t.jsx)("button",{onClick:()=>{f&&n>1&&h(f,t,n-1)},disabled:!f||n<=1,className:"step-control-button",children:"-"}),(0,_t.jsx)("input",{type:"number",value:n,onChange:e=>{const n=parseInt(e.target.value,10);f&&!isNaN(n)&&n>=1&&n<=16&&h(f,t,n)},min:"1",max:"16",className:"step-count-input"}),(0,_t.jsx)("button",{onClick:()=>{f&&n<16&&h(f,t,n+1)},disabled:!f||n>=16,className:"step-control-button",children:"+"})]}),Array.from({length:n},((e,n)=>{const a="".concat(d,"-").concat(t,"-").concat(n),s=r(a),l=!!s.instrumentId;let u="";return o&&o.blockIndex===d&&o.stepIndex===n&&(!c||!c.has(t))&&(u=l?"playing-active":"playing-empty"),(0,_t.jsx)("div",{className:"grid-cell ".concat(l?"active":""," ").concat(u),onClick:()=>i(a),"data-cell-id":a,children:s.instrumentId&&(0,_t.jsx)("img",{src:"./icons/".concat(s.instrumentId,".png"),alt:s.instrumentId,className:"cell-instrument-icon",title:s.instrumentId})},a)}))]},t)}))})]})},f||"block-".concat(d))}))})},wt={kick:{urls:{C4:"kick.mp3"},baseUrl:"./samples/drums/",volume:0,icon:"./icons/kick.PNG",name:"\u0411\u0430\u0441-\u0431\u0430\u0440\u0430\u0431\u0430\u043d"},snare:{urls:{C4:"snare.mp3"},baseUrl:"./samples/drums/",volume:0,icon:"./icons/snare.png",name:"\u041c\u0430\u043b\u044b\u0439 \u0431\u0430\u0440\u0430\u0431\u0430\u043d"},hihat:{urls:{C4:"hihat.mp3"},baseUrl:"./samples/drums/",volume:-3,icon:"./icons/hihat.png",name:"\u0425\u0430\u0439-\u0445\u044d\u0442"},tom:{urls:{C4:"tom.mp3"},baseUrl:"./samples/drums/",volume:0,icon:"./icons/tom.png",name:"\u0422\u043e\u043c"},"default-instrument":{urls:{C4:"default.mp3"},baseUrl:"./samples/",volume:0,icon:"./icons/default.png",name:"\u041f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e"}},kt=t=>{let{onInstrumentSelect:n,onClearAll:r,isGridModeActive:i,onToggleGridMode:o,currentBarInfo:a,onTimeSignatureChange:s,onAddBar:l,onRemoveBar:c}=t;const[u,h]=(0,e.useState)(null),d=e=>{u===e?(h(null),null===n||void 0===n||n(null,{id:null,name:""})):(h(e),n&&n(e,"eraser"===e?{id:e,name:"\u041b\u0430\u0441\u0442\u0438\u043a"}:wt[e]))},p=e=>{if(a&&s){const t=a.timeSignature||4;let n=t+e;const r=1,i=6;n<r&&(n=r),n>i&&(n=i),n!==t&&s(n)}};return(0,_t.jsxs)("div",{className:"instrument-panel",children:[(0,_t.jsxs)("div",{className:"instrument-list",children:[Object.keys(wt).map((e=>(0,_t.jsx)("div",{className:"instrument-item ".concat(u===e?"selected":""),onClick:()=>d(e),title:wt[e].name,children:(0,_t.jsx)("img",{src:wt[e].icon,alt:wt[e].name})},e))),(0,_t.jsx)("div",{className:"instrument-item eraser ".concat("eraser"===u?"selected":""),onClick:()=>d("eraser"),title:"\u041b\u0430\u0441\u0442\u0438\u043a",children:(0,_t.jsx)("img",{src:"/icons/eraser.png",alt:"\u041b\u0430\u0441\u0442\u0438\u043a"})})]}),(0,_t.jsxs)("div",{className:"panel-actions",children:[i&&(0,_t.jsxs)("div",{className:"grid-controls-panel",children:[a&&(0,_t.jsxs)("div",{className:"bar-info-display",children:[(0,_t.jsx)("span",{children:"Time Signature: "}),(0,_t.jsx)("button",{onClick:()=>p(-1),disabled:(a.timeSignature||4)<=1,className:"time-signature-step-button",title:"\u0423\u043c\u0435\u043d\u044c\u0448\u0438\u0442\u044c \u0440\u0430\u0437\u043c\u0435\u0440 \u0442\u0430\u043a\u0442\u0430",children:"-"}),(0,_t.jsx)("span",{className:"time-signature-value",children:a.timeSignature||4}),(0,_t.jsx)("button",{onClick:()=>p(1),disabled:(a.timeSignature||4)>=6,className:"time-signature-step-button",title:"\u0423\u0432\u0435\u043b\u0438\u0447\u0438\u0442\u044c \u0440\u0430\u0437\u043c\u0435\u0440 \u0442\u0430\u043a\u0442\u0430",children:"+"}),(0,_t.jsx)("span",{className:"time-signature-denominator",children:"/ 4"})]}),(0,_t.jsxs)("div",{className:"bar-controls",children:[(0,_t.jsx)("span",{className:"bar-controls-label",children:"Bars:"}),(0,_t.jsx)("button",{onClick:l,className:"grid-control-button add-bar-button",title:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043d\u043e\u0432\u044b\u0439 \u0442\u0430\u043a\u0442 \u043f\u043e\u0441\u043b\u0435 \u0442\u0435\u043a\u0443\u0449\u0435\u0433\u043e",children:"+"}),(0,_t.jsx)("button",{onClick:c,className:"grid-control-button remove-bar-button",title:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0442\u0435\u043a\u0443\u0449\u0438\u0439 \u0442\u0430\u043a\u0442",children:"-"})]})]}),(0,_t.jsx)("button",{className:"grid-button ".concat(i?"active":""),onClick:o,title:"\u0423\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0441\u0435\u0442\u043a\u043e\u0439 \u0441\u0435\u043a\u0432\u0435\u043d\u0441\u043e\u0440\u0430",children:"GRID"}),(0,_t.jsx)("button",{className:"clear-button",onClick:r,title:"\u041e\u0447\u0438\u0441\u0442\u0438\u0442\u044c \u0432\u0441\u0435 \u044f\u0447\u0435\u0439\u043a\u0438",children:(0,_t.jsx)("span",{className:"clear-icon",children:"\xd7"})})]})]})},St=120,xt=e=>{let{sequencerStructure:t,trackNames:n,cellsState:r,currentBar:i=0,totalBars:o=1,onBarChange:a=()=>{},currentBarInfo:s={},onVerticalModeChange:l=()=>{},inVerticalMode:c=!1,isPlaying:u=!1,bpm:h=St,isInitialized:d=!1,isPrerollEnabled:p=!0,isTransitioning:f=!1,onPlayToggle:m=()=>{},onBpmChange:g=()=>{},onPrerollToggle:v=()=>{},isMetronomeEnabled:y=!1,onMetronomeToggle:_=()=>{}}=e;null===s||void 0===s||s.timeSignature;const b=e=>{const t=parseInt(e.target.value,10);!isNaN(t)&&t>=60&&t<=240&&g(t)},w="player-menu ".concat(c?"in-vertical-mode":"");return(0,_t.jsxs)("div",{className:w,children:[(0,_t.jsxs)("div",{className:"transport-controls",children:[(0,_t.jsx)("button",{className:"play-button ".concat(u?"active":""),onClick:m,disabled:!d||f,children:u?"\u25a0":"\u25b6"}),!c&&(0,_t.jsxs)(_t.Fragment,{children:[(0,_t.jsx)("button",{className:"display-mode-button",onClick:()=>l("vertical"),children:"\u0412\u0435\u0440\u0442\u0438\u043a\u0430\u043b\u044c\u043d\u044b\u0439 \u0432\u0438\u0434"}),(0,_t.jsx)("button",{className:"preroll-button ".concat(p?"active":""),onClick:()=>{v(!p)},children:"\u041e\u0442\u0441\u0447\u0451\u0442"}),(0,_t.jsx)("button",{className:"metronome-button ".concat(y?"active":""),onClick:_,children:"\u041c\u0435\u0442\u0440\u043e\u043d\u043e\u043c"})]})]}),(0,_t.jsxs)("div",{className:"bpm-controls",children:[(0,_t.jsx)("label",{htmlFor:"bpm-input",children:"BPM:"}),(0,_t.jsx)("input",{id:"bpm-input",type:"number",min:60,max:240,value:h,onChange:b}),(0,_t.jsx)("input",{type:"range",min:60,max:240,value:h,onChange:b,className:"bpm-slider"})]}),(0,_t.jsxs)("div",{className:"bar-controls",children:[(0,_t.jsx)("button",{onClick:()=>{i>0&&a(i-1)},disabled:0===i,className:"bar-button",children:"<"}),(0,_t.jsxs)("span",{className:"bar-indicator",children:[i+1," / ",o]}),(0,_t.jsx)("button",{onClick:()=>{i<o-1&&a(i+1)},disabled:i===o-1,className:"bar-button",children:">"})]})]})},Ct={bpm:120,bars:[{id:1,name:"\u0422\u0430\u043a\u0442 1",timeSignature:4},{id:2,name:"\u0422\u0430\u043a\u0442 2",timeSignature:4}],trackNames:["R","L","RF","LF"],sequencerStructure:[{id:1,name:"\u0411\u043b\u043e\u043a 1",trackSteps:{R:4,L:4,RF:4,LF:4}},{id:2,name:"\u0411\u043b\u043e\u043a 2",trackSteps:{R:4,L:4,RF:4,LF:4}},{id:3,name:"\u0411\u043b\u043e\u043a 3",trackSteps:{R:4,L:4,RF:4,LF:4}},{id:4,name:"\u0411\u043b\u043e\u043a 4",trackSteps:{R:4,L:4,RF:4,LF:4}},{id:5,name:"\u0411\u043b\u043e\u043a 5",trackSteps:{R:4,L:4,RF:4,LF:4}},{id:6,name:"\u0411\u043b\u043e\u043a 6",trackSteps:{R:4,L:4,RF:4,LF:4}},{id:7,name:"\u0411\u043b\u043e\u043a 7",trackSteps:{R:4,L:4,RF:4,LF:4}},{id:8,name:"\u0411\u043b\u043e\u043a 81",trackSteps:{R:4,L:4,RF:4,LF:4}}],initialInstruments:{"0-R":{0:"kick",2:"kick"},"0-L":{1:"snare",3:"snare"},"1-R":{0:"kick",2:"kick"},"1-L":{1:"snare",3:"snare"},"1-RF":{0:"hihat",1:"hihat",2:"hihat",3:"hihat"}}},Tt=(e,t)=>({handleCellClick:(e,n)=>{const r=null===n||void 0===n?void 0:n.id;null!==r&&void 0!==r?(t((t=>{const n=t[e]||{instrumentId:null};if("eraser"===r)return n.instrumentId?l(l({},t),{},{[e]:l(l({},n),{},{instrumentId:null})}):t;let i;return i=n.instrumentId&&n.instrumentId===r?null:r,l(l({},t),{},{[e]:l(l({},n),{},{instrumentId:i})})})),console.log("Clicked cell: ".concat(e,", instrument: ").concat(r||"none"))):console.log("\u0418\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442 \u043d\u0435 \u0432\u044b\u0431\u0440\u0430\u043d, \u043a\u043b\u0438\u043a \u043f\u043e \u044f\u0447\u0435\u0439\u043a\u0435 \u0438\u0433\u043d\u043e\u0440\u0438\u0440\u0443\u0435\u0442\u0441\u044f")},clearAllCells:()=>{const n={};Object.keys(e).forEach((t=>{n[t]=l(l({},e[t]),{},{instrumentId:null})})),t(n)}}),Et="15.1.22";var At=n(998);const Ot=new WeakSet,Mt=new WeakMap,Pt=new WeakMap,Nt=new WeakMap,It=new WeakMap,Rt=new WeakMap,Dt=new WeakMap,Lt=new WeakMap,jt=new WeakMap,Ft=new WeakMap,Vt={construct:()=>Vt},zt=/^import(?:(?:[\s]+[\w]+|(?:[\s]+[\w]+[\s]*,)?[\s]*\{[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?(?:[\s]*,[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?)*[\s]*}|(?:[\s]+[\w]+[\s]*,)?[\s]*\*[\s]+as[\s]+[\w]+)[\s]+from)?(?:[\s]*)("([^"\\]|\\.)+"|'([^'\\]|\\.)+')(?:[\s]*);?/,qt=(e,t)=>{const n=[];let r=e.replace(/^[\s]+/,""),i=r.match(zt);for(;null!==i;){const e=i[1].slice(1,-1),o=i[0].replace(/([\s]+)?;?$/,"").replace(e,new URL(e,t).toString());n.push(o),r=r.slice(i[0].length).replace(/^[\s]+/,""),i=r.match(zt)}return[n.join(";"),r]},Bt=e=>{if(void 0!==e&&!Array.isArray(e))throw new TypeError("The parameterDescriptors property of given value for processorCtor is not an array.")},Ut=e=>{if(!(e=>{try{new new Proxy(e,Vt)}catch(t){return!1}return!0})(e))throw new TypeError("The given value for processorCtor should be a constructor.");if(null===e.prototype||"object"!==typeof e.prototype)throw new TypeError("The given value for processorCtor should have a prototype.")},Wt=(e,t)=>{const n=e.get(t);if(void 0===n)throw new Error("A value with the given key could not be found.");return n},Ht=(e,t)=>{const n=Array.from(e).filter(t);if(n.length>1)throw Error("More than one element was found.");if(0===n.length)throw Error("No element was found.");const[r]=n;return e.delete(r),r},$t=(e,t,n,r)=>{const i=Wt(e,t),o=Ht(i,(e=>e[0]===n&&e[1]===r));return 0===i.size&&e.delete(t),o},Gt=e=>Wt(Dt,e),Yt=e=>{if(Ot.has(e))throw new Error("The AudioNode is already stored.");Ot.add(e),Gt(e).forEach((e=>e(!0)))},Qt=e=>"port"in e,Xt=e=>{if(!Ot.has(e))throw new Error("The AudioNode is not stored.");Ot.delete(e),Gt(e).forEach((e=>e(!1)))},Zt=(e,t)=>{!Qt(e)&&t.every((e=>0===e.size))&&Xt(e)},Kt={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",fftSize:2048,maxDecibels:-30,minDecibels:-100,smoothingTimeConstant:.8},Jt=(e,t)=>e.context===t,en=e=>{try{e.copyToChannel(new Float32Array(1),0,-1)}catch(t){return!1}return!0},tn=()=>new DOMException("","IndexSizeError"),nn=e=>{var t;e.getChannelData=(t=e.getChannelData,n=>{try{return t.call(e,n)}catch(r){if(12===r.code)throw tn();throw r}})},rn={numberOfChannels:1},on=-34028234663852886e22,an=-on,sn=e=>Ot.has(e),ln={buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1},cn=e=>Wt(Mt,e),un=e=>Wt(Nt,e),hn=(e,t)=>{const{activeInputs:n}=cn(e);n.forEach((n=>n.forEach((n=>{let[r]=n;t.includes(e)||hn(r,[...t,e])}))));const r=(e=>"playbackRate"in e)(e)?[e.playbackRate]:Qt(e)?Array.from(e.parameters.values()):(e=>"frequency"in e&&"gain"in e)(e)?[e.Q,e.detune,e.frequency,e.gain]:(e=>"offset"in e)(e)?[e.offset]:(e=>!("frequency"in e)&&"gain"in e)(e)?[e.gain]:(e=>"detune"in e&&"frequency"in e&&!("gain"in e))(e)?[e.detune,e.frequency]:(e=>"pan"in e)(e)?[e.pan]:[];for(const i of r){const e=un(i);void 0!==e&&e.activeInputs.forEach((e=>{let[n]=e;return hn(n,t)}))}sn(e)&&Xt(e)},dn=e=>{hn(e.destination,[])},pn=e=>void 0===e||"number"===typeof e||"string"===typeof e&&("balanced"===e||"interactive"===e||"playback"===e),fn=e=>"context"in e,mn=e=>fn(e[0]),gn=(e,t,n,r)=>{for(const i of e)if(n(i)){if(r)return!1;throw Error("The set contains at least one similar element.")}return e.add(t),!0},vn=(e,t,n,r)=>{let[i,o]=n;gn(e,[t,i,o],(e=>e[0]===t&&e[1]===i),r)},yn=(e,t,n)=>{let[r,i,o]=t;const a=e.get(r);void 0===a?e.set(r,new Set([[i,o]])):gn(a,[i,o],(e=>e[0]===i),n)},_n=e=>"inputs"in e,bn=(e,t,n,r)=>{if(_n(t)){const i=t.inputs[r];return e.connect(i,n,0),[i,n,0]}return e.connect(t,n,r),[t,n,r]},wn=(e,t,n)=>{for(const r of e)if(r[0]===t&&r[1]===n)return e.delete(r),r;return null},kn=(e,t)=>{if(!Gt(e).delete(t))throw new Error("Missing the expected event listener.")},Sn=(e,t,n)=>{const r=Wt(e,t),i=Ht(r,(e=>e[0]===n));return 0===r.size&&e.delete(t),i},xn=(e,t,n,r)=>{_n(t)?e.disconnect(t.inputs[r],n,0):e.disconnect(t,n,r)},Cn=e=>Wt(Pt,e),Tn=e=>Wt(It,e),En=e=>Lt.has(e),An=e=>!Ot.has(e),On=(e,t)=>new Promise((n=>{if(null!==t)n(!0);else{const t=e.createScriptProcessor(256,1,1),r=e.createGain(),i=e.createBuffer(1,2,44100),o=i.getChannelData(0);o[0]=1,o[1]=1;const a=e.createBufferSource();a.buffer=i,a.loop=!0,a.connect(t).connect(e.destination),a.connect(r),a.disconnect(r),t.onaudioprocess=r=>{const i=r.inputBuffer.getChannelData(0);Array.prototype.some.call(i,(e=>1===e))?n(!0):n(!1),a.stop(),t.onaudioprocess=null,a.disconnect(t),t.disconnect(e.destination)},a.start()}})),Mn=(e,t)=>{const n=new Map;for(const r of e)for(const e of r){const t=n.get(e);n.set(e,void 0===t?1:t+1)}n.forEach(((e,n)=>t(n,e)))},Pn=e=>"context"in e,Nn=e=>{const t=new Map;e.connect=(e=>function(n){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const o=Pn(n)?e(n,r,i):e(n,r),a=t.get(n);return void 0===a?t.set(n,[{input:i,output:r}]):a.every((e=>e.input!==i||e.output!==r))&&a.push({input:i,output:r}),o})(e.connect.bind(e)),e.disconnect=(n=>(r,i,o)=>{if(n.apply(e),void 0===r)t.clear();else if("number"===typeof r)for(const[e,n]of t){const i=n.filter((e=>e.output!==r));0===i.length?t.delete(e):t.set(e,i)}else if(t.has(r))if(void 0===i)t.delete(r);else{const e=t.get(r);if(void 0!==e){const n=e.filter((e=>e.output!==i&&(e.input!==o||void 0===o)));0===n.length?t.delete(r):t.set(r,n)}}for(const[n,a]of t)a.forEach((t=>{Pn(n)?e.connect(n,t.output,t.input):e.connect(n,t.output)}))})(e.disconnect)},In=(e,t,n,r)=>{const{activeInputs:i,passiveInputs:o}=un(t),{outputs:a}=cn(e),s=Gt(e),l=a=>{const s=Cn(e),l=Tn(t);if(a){const t=Sn(o,e,n);vn(i,e,t,!1),r||En(e)||s.connect(l,n)}else{const t=((e,t,n)=>Ht(e,(e=>e[0]===t&&e[1]===n)))(i,e,n);yn(o,t,!1),r||En(e)||s.disconnect(l,n)}};return!!gn(a,[t,n],(e=>e[0]===t&&e[1]===n),!0)&&(s.add(l),sn(e)?vn(i,e,[n,l],!0):yn(o,[e,n,l],!0),!0)},Rn=(e,t,n,r,i)=>{const[o,a]=((e,t,n,r)=>{const{activeInputs:i,passiveInputs:o}=cn(t),a=wn(i[r],e,n);if(null===a)return[$t(o,e,n,r)[2],!1];return[a[2],!0]})(e,n,r,i);if(null!==o&&(kn(e,o),!a||t||En(e)||xn(Cn(e),Cn(n),r,i)),sn(n)){const{activeInputs:e}=cn(n);Zt(n,e)}},Dn=(e,t,n,r)=>{const[i,o]=((e,t,n)=>{const{activeInputs:r,passiveInputs:i}=un(t),o=wn(r,e,n);if(null===o)return[Sn(i,e,n)[1],!1];return[o[2],!0]})(e,n,r);null!==i&&(kn(e,i),!o||t||En(e)||Cn(e).disconnect(Tn(n),r))};class Ln{constructor(e){this._map=new Map(e)}get size(){return this._map.size}entries(){return this._map.entries()}forEach(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this._map.forEach(((n,r)=>e.call(t,n,r,this)))}get(e){return this._map.get(e)}has(e){return this._map.has(e)}keys(){return this._map.keys()}values(){return this._map.values()}}const jn={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:1,numberOfOutputs:1,parameterData:{},processorOptions:{}};function Fn(e,t,n,r,i){if("function"===typeof e.copyFromChannel)0===t[n].byteLength&&(t[n]=new Float32Array(128)),e.copyFromChannel(t[n],r,i);else{const o=e.getChannelData(r);if(0===t[n].byteLength)t[n]=o.slice(i,i+128);else{const e=new Float32Array(o.buffer,i*Float32Array.BYTES_PER_ELEMENT,128);t[n].set(e)}}}const Vn=(e,t,n,r,i)=>{"function"===typeof e.copyToChannel?0!==t[n].byteLength&&e.copyToChannel(t[n],r,i):0!==t[n].byteLength&&e.getChannelData(r).set(t[n],i)},zn=(e,t)=>{const n=[];for(let r=0;r<e;r+=1){const e=[],i="number"===typeof t?t:t[r];for(let t=0;t<i;t+=1)e.push(new Float32Array(128));n.push(e)}return n},qn=async(e,t,n,r,i,o,a)=>{const s=null===t?128*Math.ceil(e.context.length/128):t.length,c=r.channelCount*r.numberOfInputs,u=i.reduce(((e,t)=>e+t),0),h=0===u?null:n.createBuffer(u,s,n.sampleRate);if(void 0===o)throw new Error("Missing the processor constructor.");const d=cn(e),p=await((e,t)=>{const n=Wt(Ft,e),r=Cn(t);return Wt(n,r)})(n,e),f=zn(r.numberOfInputs,r.channelCount),m=zn(r.numberOfOutputs,i),g=Array.from(e.parameters.keys()).reduce(((e,t)=>l(l({},e),{},{[t]:new Float32Array(128)})),{});for(let l=0;l<s;l+=128){if(r.numberOfInputs>0&&null!==t)for(let e=0;e<r.numberOfInputs;e+=1)for(let n=0;n<r.channelCount;n+=1)Fn(t,f[e],n,n,l);void 0!==o.parameterDescriptors&&null!==t&&o.parameterDescriptors.forEach(((e,n)=>{let{name:r}=e;Fn(t,g,r,c+n,l)}));for(let e=0;e<r.numberOfInputs;e+=1)for(let t=0;t<i[e];t+=1)0===m[e][t].byteLength&&(m[e][t]=new Float32Array(128));try{const e=f.map(((e,t)=>0===d.activeInputs[t].size?[]:e)),t=a(l/n.sampleRate,n.sampleRate,(()=>p.process(e,m,g)));if(null!==h)for(let n=0,o=0;n<r.numberOfOutputs;n+=1){for(let e=0;e<i[n];e+=1)Vn(h,m[n],e,o+e,l);o+=i[n]}if(!t)break}catch(v){e.dispatchEvent(new ErrorEvent("processorerror",{colno:v.colno,filename:v.filename,lineno:v.lineno,message:v.message}));break}}return h},Bn={Q:1,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:350,gain:0,type:"lowpass"},Un={channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6},Wn={channelCount:6,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:6},Hn={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",offset:1},$n={buffer:null,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",disableNormalization:!1},Gn=e=>{const{port1:t,port2:n}=new MessageChannel;return new Promise((r=>{const i=()=>{n.onmessage=null,t.close(),n.close(),r()};n.onmessage=()=>i();try{t.postMessage(e,[e])}catch(o){}finally{i()}}))},Yn={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",delayTime:0,maxDelayTime:1},Qn=(e,t,n)=>{const r=t[n];if(void 0===r)throw e();return r},Xn={attack:.003,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",knee:30,ratio:12,release:.25,threshold:-24},Zn={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",gain:1},Kn=()=>new DOMException("","InvalidStateError"),Jn=()=>new DOMException("","InvalidAccessError"),er={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers"},tr=(e,t,n,r,i,o,a,s,l,c,u)=>{const h=c.length;let d=s;for(let p=0;p<h;p+=1){let s=n[0]*c[p];for(let t=1;t<i;t+=1){const r=d-t&l-1;s+=n[t]*o[r],s-=e[t]*a[r]}for(let e=i;e<r;e+=1)s+=n[e]*o[d-e&l-1];for(let n=i;n<t;n+=1)s-=e[n]*a[d-n&l-1];o[d]=c[p],a[d]=s,d=d+1&l-1,u[p]=s}return d},nr={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers"},rr=e=>{const t=new Uint32Array([1179011410,40,1163280727,544501094,16,131073,44100,176400,1048580,1635017060,4,0]);try{const n=e.decodeAudioData(t.buffer,(()=>{}));return void 0!==n&&(n.catch((()=>{})),!0)}catch(n){}return!1},ir={numberOfChannels:1},or=(e,t,n)=>{const r=t[n];void 0!==r&&r!==e[n]&&(e[n]=r)},ar=(e,t)=>{or(e,t,"channelCount"),or(e,t,"channelCountMode"),or(e,t,"channelInterpretation")},sr=e=>"function"===typeof e.getFloatTimeDomainData,lr=(e,t,n)=>{const r=t[n];void 0!==r&&r!==e[n].value&&(e[n].value=r)},cr=e=>{e.start=(t=>function(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2?arguments[2]:void 0;if("number"===typeof i&&i<0||r<0||n<0)throw new RangeError("The parameters can't be negative.");t.call(e,n,r,i)})(e.start)},ur=e=>{var t;e.stop=(t=e.stop,function(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(n<0)throw new RangeError("The parameter can't be negative.");t.call(e,n)})},hr=(e,t)=>null===e?512:Math.max(512,Math.min(16384,Math.pow(2,Math.round(Math.log2(e*t))))),dr=async(e,t)=>{const n=await(e=>new Promise(((t,n)=>{const{port1:r,port2:i}=new MessageChannel;r.onmessage=e=>{let{data:n}=e;r.close(),i.close(),t(n)},r.onmessageerror=e=>{let{data:t}=e;r.close(),i.close(),n(t)},i.postMessage(e)})))(t);return new e(n)},pr=(e,t)=>{const n=e.createBiquadFilter();return ar(n,t),lr(n,t,"Q"),lr(n,t,"detune"),lr(n,t,"frequency"),lr(n,t,"gain"),or(n,t,"type"),n},fr=(e,t)=>{const n=e.createChannelSplitter(t.numberOfOutputs);return ar(n,t),(e=>{const t=e.numberOfOutputs;Object.defineProperty(e,"channelCount",{get:()=>t,set:e=>{if(e!==t)throw Kn()}}),Object.defineProperty(e,"channelCountMode",{get:()=>"explicit",set:e=>{if("explicit"!==e)throw Kn()}}),Object.defineProperty(e,"channelInterpretation",{get:()=>"discrete",set:e=>{if("discrete"!==e)throw Kn()}})})(n),n},mr=(e,t)=>(e.connect=t.connect.bind(t),e.disconnect=t.disconnect.bind(t),e),gr=["offset"],vr=(e,t)=>{const n=e.createDelay(t.maxDelayTime);return ar(n,t),lr(n,t,"delayTime"),n},yr=(e,t)=>{const n=e.createGain();return ar(n,t),lr(n,t,"gain"),n};function _r(e,t){const n=t[0]*t[0]+t[1]*t[1];return[(e[0]*t[0]+e[1]*t[1])/n,(e[1]*t[0]-e[0]*t[1])/n]}function br(e,t){return[e[0]*t[0]-e[1]*t[1],e[0]*t[1]+e[1]*t[0]]}function wr(e,t){let n=[0,0];for(let r=e.length-1;r>=0;r-=1)n=br(n,t),n[0]+=e[r];return n}const kr=["coneInnerAngle","coneOuterAngle","coneOuterGain","distanceModel","maxDistance","orientationX","orientationY","orientationZ","panningModel","positionX","positionY","positionZ","refDistance","rolloffFactor"],Sr=(e,t,n,r)=>e.createScriptProcessor(t,n,r),xr=["channelCount","channelCountMode","pan"],Cr=["curve","oversample"],Tr=()=>new DOMException("","NotSupportedError"),Er={numberOfChannels:1},Ar={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:440,periodicWave:void 0,type:"sine"},Or={channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",coneInnerAngle:360,coneOuterAngle:360,coneOuterGain:0,distanceModel:"inverse",maxDistance:1e4,orientationX:1,orientationY:0,orientationZ:0,panningModel:"equalpower",positionX:0,positionY:0,positionZ:0,refDistance:1,rolloffFactor:1},Mr={disableNormalization:!1},Pr={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",pan:0},Nr=()=>new DOMException("","UnknownError"),Ir={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",curve:null,oversample:"none"},Rr=(e,t,n)=>void 0===e.copyFromChannel?e.getChannelData(n)[0]:(e.copyFromChannel(t,n),t[0]),Dr=e=>{if(null===e)return!1;const t=e.length;return t%2!==0?0!==e[Math.floor(t/2)]:e[t/2-1]+e[t/2]!==0},Lr=(e,t,n,r)=>{let i=e;for(;!i.hasOwnProperty(t);)i=Object.getPrototypeOf(i);const{get:o,set:a}=Object.getOwnPropertyDescriptor(i,t);Object.defineProperty(e,t,{get:n(o),set:r(a)})},jr=(e,t,n)=>{try{e.setValueAtTime(t,n)}catch(r){if(9!==r.code)throw r;jr(e,t,n+1e-7)}},Fr=e=>{const t=e.createOscillator();try{t.start(-1)}catch(n){return n instanceof RangeError}return!1},Vr=e=>{const t=e.createBuffer(1,1,44100),n=e.createBufferSource();n.buffer=t,n.start(),n.stop();try{return n.stop(),!0}catch(r){return!1}},zr=e=>{const t=e.createOscillator();try{t.stop(-1)}catch(n){return n instanceof RangeError}return!1},qr=(e,t)=>{const n=t.createGain();e.connect(n);const r=(t=>()=>{t.call(e,n),e.removeEventListener("ended",r)})(e.disconnect);e.addEventListener("ended",r),mr(e,n),e.stop=(t=>{let r=!1;return function(){let i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(r)try{t.call(e,i)}catch(o){n.gain.setValueAtTime(0,i)}else t.call(e,i),r=!0}})(e.stop)},Br=(e,t)=>n=>{const r={value:e};return Object.defineProperties(n,{currentTarget:r,target:r}),"function"===typeof t?t.call(e,n):t.handleEvent.call(e,n)},Ur=(e=>(t,n,r,i)=>{let[o,a,s]=r;e(t[a],[n,o,s],(e=>e[0]===n&&e[1]===o),i)})(gn),Wr=(e=>(t,n,r,i)=>{let[o,a,s]=r;const l=t.get(o);void 0===l?t.set(o,new Set([[a,n,s]])):e(l,[a,n,s],(e=>e[0]===a&&e[1]===n),i)})(gn),Hr=(e=>(t,n,r,i)=>e(t[i],(e=>e[0]===n&&e[1]===r)))(Ht),$r=new WeakMap,Gr=(e=>t=>{var n;return null!==(n=e.get(t))&&void 0!==n?n:0})($r),Yr=(Qr=new Map,Xr=new WeakMap,(e,t)=>{const n=Xr.get(e);if(void 0!==n)return n;const r=Qr.get(e);if(void 0!==r)return r;try{const n=t();return n instanceof Promise?(Qr.set(e,n),n.catch((()=>!1)).then((t=>(Qr.delete(e),Xr.set(e,t),t)))):(Xr.set(e,n),n)}catch(i){return Xr.set(e,!1),!1}});var Qr,Xr;const Zr="undefined"===typeof window?null:window,Kr=((e,t)=>(n,r)=>{const i=n.createAnalyser();if(ar(i,r),!(r.maxDecibels>r.minDecibels))throw t();return or(i,r,"fftSize"),or(i,r,"maxDecibels"),or(i,r,"minDecibels"),or(i,r,"smoothingTimeConstant"),e(sr,(()=>sr(i)))||(e=>{e.getFloatTimeDomainData=t=>{const n=new Uint8Array(t.length);e.getByteTimeDomainData(n);const r=Math.max(n.length,e.fftSize);for(let e=0;e<r;e+=1)t[e]=.0078125*(n[e]-128);return t}})(i),i})(Yr,tn),Jr=(e=>t=>{const n=e(t);if(null===n.renderer)throw new Error("Missing the renderer of the given AudioNode in the audio graph.");return n.renderer})(cn),ei=((e,t,n)=>async(r,i,o)=>{const a=e(r);await Promise.all(a.activeInputs.map(((e,a)=>Array.from(e).map((async e=>{let[s,l]=e;const c=t(s),u=await c.render(s,i),h=r.context.destination;n(s)||r===h&&n(r)||u.connect(o,l,a)})))).reduce(((e,t)=>[...e,...t]),[]))})(cn,Jr,En),ti=((e,t,n)=>()=>{const r=new WeakMap;return{render(i,o){const a=r.get(o);return void 0!==a?Promise.resolve(a):(async(i,o)=>{let a=t(i);if(!Jt(a,o)){const t={channelCount:a.channelCount,channelCountMode:a.channelCountMode,channelInterpretation:a.channelInterpretation,fftSize:a.fftSize,maxDecibels:a.maxDecibels,minDecibels:a.minDecibels,smoothingTimeConstant:a.smoothingTimeConstant};a=e(o,t)}return r.set(o,a),await n(i,o,a),a})(i,o)}}})(Kr,Cn,ei),ni=(ri=Rt,e=>{const t=ri.get(e);if(void 0===t)throw Kn();return t});var ri;const ii=(e=>null===e?null:e.hasOwnProperty("OfflineAudioContext")?e.OfflineAudioContext:e.hasOwnProperty("webkitOfflineAudioContext")?e.webkitOfflineAudioContext:null)(Zr),oi=(e=>t=>null!==e&&t instanceof e)(ii),ai=new WeakMap,si=(e=>class{constructor(e){this._nativeEventTarget=e,this._listeners=new WeakMap}addEventListener(t,n,r){if(null!==n){let i=this._listeners.get(n);void 0===i&&(i=e(this,n),"function"===typeof n&&this._listeners.set(n,i)),this._nativeEventTarget.addEventListener(t,i,r)}}dispatchEvent(e){return this._nativeEventTarget.dispatchEvent(e)}removeEventListener(e,t,n){const r=null===t?void 0:this._listeners.get(t);this._nativeEventTarget.removeEventListener(e,void 0===r?null:r,n)}})(Br),li=(e=>null===e?null:e.hasOwnProperty("AudioContext")?e.AudioContext:e.hasOwnProperty("webkitAudioContext")?e.webkitAudioContext:null)(Zr),ci=(e=>t=>null!==e&&t instanceof e)(li),ui=(e=>t=>null!==e&&"function"===typeof e.AudioNode&&t instanceof e.AudioNode)(Zr),hi=(e=>t=>null!==e&&"function"===typeof e.AudioParam&&t instanceof e.AudioParam)(Zr),di=(e=>null===e?null:e.hasOwnProperty("AudioWorkletNode")?e.AudioWorkletNode:null)(Zr),pi=((e,t,n,r,i,o,a,s,l,c,u,h,d,p,f,m)=>class extends c{constructor(t,r,i,o){super(i),this._context=t,this._nativeAudioNode=i;const a=u(t);h(a)&&!0!==n(On,(()=>On(a,m)))&&Nn(i),Pt.set(this,i),Dt.set(this,new Set),"closed"!==t.state&&r&&Yt(this),e(this,o,i)}get channelCount(){return this._nativeAudioNode.channelCount}set channelCount(e){this._nativeAudioNode.channelCount=e}get channelCountMode(){return this._nativeAudioNode.channelCountMode}set channelCountMode(e){this._nativeAudioNode.channelCountMode=e}get channelInterpretation(){return this._nativeAudioNode.channelInterpretation}set channelInterpretation(e){this._nativeAudioNode.channelInterpretation=e}get context(){return this._context}get numberOfInputs(){return this._nativeAudioNode.numberOfInputs}get numberOfOutputs(){return this._nativeAudioNode.numberOfOutputs}connect(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(n<0||n>=this._nativeAudioNode.numberOfOutputs)throw i();const c=u(this._context),h=f(c);if(d(e)||p(e))throw o();if(fn(e)){const i=Cn(e);try{const t=bn(this._nativeAudioNode,i,n,s),r=An(this);(h||r)&&this._nativeAudioNode.disconnect(...t),"closed"!==this.context.state&&!r&&An(e)&&Yt(e)}catch(g){if(12===g.code)throw o();throw g}if(t(this,e,n,s,h)){const t=l([this],e);Mn(t,r(h))}return e}const m=Tn(e);if("playbackRate"===m.name&&1024===m.maxValue)throw a();try{this._nativeAudioNode.connect(m,n),(h||An(this))&&this._nativeAudioNode.disconnect(m,n)}catch(g){if(12===g.code)throw o();throw g}if(In(this,e,n,h)){const t=l([this],e);Mn(t,r(h))}}disconnect(e,t,n){let r;const a=u(this._context),c=f(a);if(void 0===e)r=((e,t)=>{const n=cn(e),r=[];for(const i of n.outputs)mn(i)?Rn(e,t,...i):Dn(e,t,...i),r.push(i[0]);return n.outputs.clear(),r})(this,c);else if("number"===typeof e){if(e<0||e>=this.numberOfOutputs)throw i();r=((e,t,n)=>{const r=cn(e),i=[];for(const o of r.outputs)o[1]===n&&(mn(o)?Rn(e,t,...o):Dn(e,t,...o),i.push(o[0]),r.outputs.delete(o));return i})(this,c,e)}else{if(void 0!==t&&(t<0||t>=this.numberOfOutputs))throw i();if(fn(e)&&void 0!==n&&(n<0||n>=e.numberOfInputs))throw i();if(r=((e,t,n,r,i)=>{const o=cn(e);return Array.from(o.outputs).filter((e=>e[0]===n&&(void 0===r||e[1]===r)&&(void 0===i||e[2]===i))).map((n=>(mn(n)?Rn(e,t,...n):Dn(e,t,...n),o.outputs.delete(n),n[0])))})(this,c,e,t,n),0===r.length)throw o()}for(const i of r){const e=l([this],i);Mn(e,s)}}})((fi=Mt,(e,t,n)=>{const r=[];for(let i=0;i<n.numberOfInputs;i+=1)r.push(new Set);fi.set(e,{activeInputs:r,outputs:new Set,passiveInputs:new WeakMap,renderer:t})}),((e,t,n,r,i,o,a,s,l,c,u,h,d)=>{const p=new WeakMap;return(f,m,g,v,y)=>{const{activeInputs:_,passiveInputs:b}=o(m),{outputs:w}=o(f),k=s(f),S=o=>{const s=l(m),c=l(f);if(o){const t=$t(b,f,g,v);e(_,f,t,!1),y||h(f)||n(c,s,g,v),d(m)&&Yt(m)}else{const e=r(_,f,g,v);t(b,v,e,!1),y||h(f)||i(c,s,g,v);const n=a(m);if(0===n)u(m)&&Zt(m,_);else{const e=p.get(m);void 0!==e&&clearTimeout(e),p.set(m,setTimeout((()=>{u(m)&&Zt(m,_)}),1e3*n))}}};return!!c(w,[m,g,v],(e=>e[0]===m&&e[1]===g&&e[2]===v),!0)&&(k.add(S),u(f)?e(_,f,[g,v,S],!0):t(b,v,[f,g,S],!0),!0)}})(Ur,Wr,bn,Hr,xn,cn,Gr,Gt,Cn,gn,sn,En,An),Yr,((e,t,n,r,i,o)=>a=>(s,l)=>{const c=e.get(s);if(void 0===c){if(!a&&o(s)){const e=r(s),{outputs:o}=n(s);for(const n of o)if(mn(n)){const i=r(n[0]);t(e,i,n[1],n[2])}else{const t=i(n[0]);e.disconnect(t,n[1])}}e.set(s,l)}else e.set(s,c+l)})(Lt,xn,cn,Cn,Tn,sn),tn,Jn,Tr,((e,t,n,r,i,o,a,s)=>(l,c)=>{const u=t.get(l);if(void 0===u)throw new Error("Missing the expected cycle count.");const h=o(l.context),d=s(h);if(u===c){if(t.delete(l),!d&&a(l)){const t=r(l),{outputs:o}=n(l);for(const n of o)if(mn(n)){const i=r(n[0]);e(t,i,n[1],n[2])}else{const e=i(n[0]);t.connect(e,n[1])}}}else t.set(l,u-c)})(bn,Lt,cn,Cn,Tn,ni,sn,oi),((e,t,n)=>function r(i,o){const a=fn(o)?o:n(e,o);if((e=>"delayTime"in e)(a))return[];if(i[0]===a)return[i];if(i.includes(a))return[];const{outputs:s}=t(a);return Array.from(s).map((e=>r([...i,a],e[0]))).reduce(((e,t)=>e.concat(t)),[])})(ai,cn,Wt),si,ni,ci,ui,hi,oi,di);var fi;const mi=((e,t,n,r,i,o)=>class extends e{constructor(e,n){const a=i(e),s=l(l({},Kt),n),c=r(a,s);super(e,!1,c,o(a)?t():null),this._nativeAnalyserNode=c}get fftSize(){return this._nativeAnalyserNode.fftSize}set fftSize(e){this._nativeAnalyserNode.fftSize=e}get frequencyBinCount(){return this._nativeAnalyserNode.frequencyBinCount}get maxDecibels(){return this._nativeAnalyserNode.maxDecibels}set maxDecibels(e){const t=this._nativeAnalyserNode.maxDecibels;if(this._nativeAnalyserNode.maxDecibels=e,!(e>this._nativeAnalyserNode.minDecibels))throw this._nativeAnalyserNode.maxDecibels=t,n()}get minDecibels(){return this._nativeAnalyserNode.minDecibels}set minDecibels(e){const t=this._nativeAnalyserNode.minDecibels;if(this._nativeAnalyserNode.minDecibels=e,!(this._nativeAnalyserNode.maxDecibels>e))throw this._nativeAnalyserNode.minDecibels=t,n()}get smoothingTimeConstant(){return this._nativeAnalyserNode.smoothingTimeConstant}set smoothingTimeConstant(e){this._nativeAnalyserNode.smoothingTimeConstant=e}getByteFrequencyData(e){this._nativeAnalyserNode.getByteFrequencyData(e)}getByteTimeDomainData(e){this._nativeAnalyserNode.getByteTimeDomainData(e)}getFloatFrequencyData(e){this._nativeAnalyserNode.getFloatFrequencyData(e)}getFloatTimeDomainData(e){this._nativeAnalyserNode.getFloatTimeDomainData(e)}})(pi,ti,tn,Kr,ni,oi),gi=new WeakSet,vi=(e=>null===e?null:e.hasOwnProperty("AudioBuffer")?e.AudioBuffer:null)(Zr),yi=(_i=new Uint32Array(1),e=>(_i[0]=e,_i[0]));var _i;const bi=((e,t)=>n=>{n.copyFromChannel=function(r,i){const o=e(arguments.length>2&&void 0!==arguments[2]?arguments[2]:0),a=e(i);if(a>=n.numberOfChannels)throw t();const s=n.length,l=n.getChannelData(a),c=r.length;for(let e=o<0?-o:0;e+o<s&&e<c;e+=1)r[e]=l[e+o]},n.copyToChannel=function(r,i){const o=e(arguments.length>2&&void 0!==arguments[2]?arguments[2]:0),a=e(i);if(a>=n.numberOfChannels)throw t();const s=n.length,l=n.getChannelData(a),c=r.length;for(let e=o<0?-o:0;e+o<s&&e<c;e+=1)l[e+o]=r[e]}})(yi,tn),wi=(e=>t=>{t.copyFromChannel=(n=>function(r,i){const o=e(arguments.length>2&&void 0!==arguments[2]?arguments[2]:0),a=e(i);if(o<t.length)return n.call(t,r,a,o)})(t.copyFromChannel),t.copyToChannel=(n=>function(r,i){const o=e(arguments.length>2&&void 0!==arguments[2]?arguments[2]:0),a=e(i);if(o<t.length)return n.call(t,r,a,o)})(t.copyToChannel)})(yi),ki=((e,t,n,r,i,o,a,s)=>{let c=null;return class u{constructor(u){if(null===i)throw new Error("Missing the native OfflineAudioContext constructor.");const{length:h,numberOfChannels:d,sampleRate:p}=l(l({},rn),u);null===c&&(c=new i(1,1,44100));const f=null!==r&&t(o,o)?new r({length:h,numberOfChannels:d,sampleRate:p}):c.createBuffer(d,h,p);if(0===f.numberOfChannels)throw n();return"function"!==typeof f.copyFromChannel?(a(f),nn(f)):t(en,(()=>en(f)))||s(f),e.add(f),f}static[Symbol.hasInstance](t){return null!==t&&"object"===typeof t&&Object.getPrototypeOf(t)===u.prototype||e.has(t)}}})(gi,Yr,Tr,vi,ii,(e=>()=>{if(null===e)return!1;try{new e({length:1,sampleRate:44100})}catch(t){return!1}return!0})(vi),bi,wi),Si=(e=>(t,n)=>{const r=e(t,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});n.connect(r).connect(t.destination);const i=()=>{n.removeEventListener("ended",i),n.disconnect(r),r.disconnect()};n.addEventListener("ended",i)})(yr),xi=((e,t,n)=>async(r,i,o)=>{const a=t(r);await Promise.all(Array.from(a.activeInputs).map((async t=>{let[r,a]=t;const s=e(r),l=await s.render(r,i);n(r)||l.connect(o,a)})))})(Jr,un,En),Ci=(e=>(t,n,r)=>e(n,t,r))(xi),Ti=((e,t,n,r,i,o,a,s,l,c,u)=>(h,d)=>{const p=h.createBufferSource();return ar(p,d),lr(p,d,"playbackRate"),or(p,d,"buffer"),or(p,d,"loop"),or(p,d,"loopEnd"),or(p,d,"loopStart"),t(n,(()=>n(h)))||(e=>{e.start=(t=>{let n=!1;return function(){let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=arguments.length>2?arguments[2]:void 0;if(n)throw Kn();t.call(e,r,i,o),n=!0}})(e.start)})(p),t(r,(()=>r(h)))||l(p),t(i,(()=>i(h)))||c(p,h),t(o,(()=>o(h)))||cr(p),t(a,(()=>a(h)))||u(p,h),t(s,(()=>s(h)))||ur(p),e(h,p),p})(Si,Yr,(e=>{const t=e.createBufferSource();t.start();try{t.start()}catch(n){return!0}return!1}),(e=>{const t=e.createBufferSource(),n=e.createBuffer(1,1,44100);t.buffer=n;try{t.start(0,1)}catch(r){return!1}return!0}),(e=>{const t=e.createBufferSource();t.start();try{t.stop()}catch(n){return!1}return!0}),Fr,Vr,zr,(e=>{e.start=(t=>function(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2?arguments[2]:void 0;const o=e.buffer,a=null===o?r:Math.min(o.duration,r);null!==o&&a>o.duration-.5/e.context.sampleRate?t.call(e,n,0,0):t.call(e,n,a,i)})(e.start)}),(e=>(t,n)=>{const r=n.createBuffer(1,1,44100);null===t.buffer&&(t.buffer=r),e(t,"buffer",(e=>()=>{const n=e.call(t);return n===r?null:n}),(e=>n=>e.call(t,null===n?r:n)))})(Lr),qr),Ei=((e,t)=>(n,r,i)=>(e(r).replay(i),t(r,n,i)))((e=>t=>{const n=e(t);if(null===n.renderer)throw new Error("Missing the renderer of the given AudioParam in the audio graph.");return n.renderer})(un),xi),Ai=((e,t,n,r,i)=>()=>{const o=new WeakMap;let a=null,s=null;return{set start(e){a=e},set stop(e){s=e},render(l,c){const u=o.get(c);return void 0!==u?Promise.resolve(u):(async(l,c)=>{let u=n(l);const h=Jt(u,c);if(!h){const e={buffer:u.buffer,channelCount:u.channelCount,channelCountMode:u.channelCountMode,channelInterpretation:u.channelInterpretation,loop:u.loop,loopEnd:u.loopEnd,loopStart:u.loopStart,playbackRate:u.playbackRate.value};u=t(c,e),null!==a&&u.start(...a),null!==s&&u.stop(s)}return o.set(c,u),h?await e(c,l.playbackRate,u.playbackRate):await r(c,l.playbackRate,u.playbackRate),await i(l,c,u),u})(l,c)}}})(Ci,Ti,Cn,Ei,ei),Oi=((e,t,n,r,i,o,a,s,l,c,u,h,d)=>function(p,f,m){let g=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,v=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;const y=m.value,_=new At.AutomationEventList(y),b=f?r(_):null,w={get defaultValue(){return y},get maxValue(){return null===g?m.maxValue:g},get minValue(){return null===v?m.minValue:v},get value(){return m.value},set value(e){m.value=e,w.setValueAtTime(e,p.context.currentTime)},cancelAndHoldAtTime(e){if("function"===typeof m.cancelAndHoldAtTime)null===b&&_.flush(p.context.currentTime),_.add(i(e)),m.cancelAndHoldAtTime(e);else{const t=Array.from(_).pop();null===b&&_.flush(p.context.currentTime),_.add(i(e));const n=Array.from(_).pop();m.cancelScheduledValues(e),t!==n&&void 0!==n&&("exponentialRampToValue"===n.type?m.exponentialRampToValueAtTime(n.value,n.endTime):"linearRampToValue"===n.type?m.linearRampToValueAtTime(n.value,n.endTime):"setValue"===n.type?m.setValueAtTime(n.value,n.startTime):"setValueCurve"===n.type&&m.setValueCurveAtTime(n.values,n.startTime,n.duration))}return w},cancelScheduledValues:e=>(null===b&&_.flush(p.context.currentTime),_.add(o(e)),m.cancelScheduledValues(e),w),exponentialRampToValueAtTime(e,t){if(0===e)throw new RangeError;if(!Number.isFinite(t)||t<0)throw new RangeError;const n=p.context.currentTime;return null===b&&_.flush(n),0===Array.from(_).length&&(_.add(c(y,n)),m.setValueAtTime(y,n)),_.add(a(e,t)),m.exponentialRampToValueAtTime(e,t),w},linearRampToValueAtTime(e,t){const n=p.context.currentTime;return null===b&&_.flush(n),0===Array.from(_).length&&(_.add(c(y,n)),m.setValueAtTime(y,n)),_.add(s(e,t)),m.linearRampToValueAtTime(e,t),w},setTargetAtTime:(e,t,n)=>(null===b&&_.flush(p.context.currentTime),_.add(l(e,t,n)),m.setTargetAtTime(e,t,n),w),setValueAtTime:(e,t)=>(null===b&&_.flush(p.context.currentTime),_.add(c(e,t)),m.setValueAtTime(e,t),w),setValueCurveAtTime(e,t,n){const r=e instanceof Float32Array?e:new Float32Array(e);if(null!==h&&"webkitAudioContext"===h.name){const e=t+n,i=p.context.sampleRate,o=Math.ceil(t*i),a=Math.floor(e*i),s=a-o,l=new Float32Array(s);for(let u=0;u<s;u+=1){const e=(r.length-1)/n*((o+u)/i-t),a=Math.floor(e),s=Math.ceil(e);l[u]=a===s?r[a]:(1-(e-a))*r[a]+(1-(s-e))*r[s]}null===b&&_.flush(p.context.currentTime),_.add(u(l,t,n)),m.setValueCurveAtTime(l,t,n);const c=a/i;c<e&&d(w,l[l.length-1],c),d(w,r[r.length-1],e)}else null===b&&_.flush(p.context.currentTime),_.add(u(r,t,n)),m.setValueCurveAtTime(r,t,n);return w}};return n.set(w,m),t.set(w,p),e(w,b),w})((Mi=Nt,(e,t)=>{Mi.set(e,{activeInputs:new Set,passiveInputs:new WeakMap,renderer:t})}),ai,It,(e=>({replay(t){for(const n of e)if("exponentialRampToValue"===n.type){const{endTime:e,value:r}=n;t.exponentialRampToValueAtTime(r,e)}else if("linearRampToValue"===n.type){const{endTime:e,value:r}=n;t.linearRampToValueAtTime(r,e)}else if("setTarget"===n.type){const{startTime:e,target:r,timeConstant:i}=n;t.setTargetAtTime(r,e,i)}else if("setValue"===n.type){const{startTime:e,value:r}=n;t.setValueAtTime(r,e)}else{if("setValueCurve"!==n.type)throw new Error("Can't apply an unknown automation.");{const{duration:e,startTime:r,values:i}=n;t.setValueCurveAtTime(i,r,e)}}}})),At.createCancelAndHoldAutomationEvent,At.createCancelScheduledValuesAutomationEvent,At.createExponentialRampToValueAutomationEvent,At.createLinearRampToValueAutomationEvent,At.createSetTargetAutomationEvent,At.createSetValueAutomationEvent,At.createSetValueCurveAutomationEvent,li,jr);var Mi;const Pi=((e,t,n,r,i,o,a,s)=>class extends e{constructor(e,r){const s=o(e),c=l(l({},ln),r),u=i(s,c),h=a(s),d=h?t():null;super(e,!1,u,d),this._audioBufferSourceNodeRenderer=d,this._isBufferNullified=!1,this._isBufferSet=null!==c.buffer,this._nativeAudioBufferSourceNode=u,this._onended=null,this._playbackRate=n(this,h,u.playbackRate,an,on)}get buffer(){return this._isBufferNullified?null:this._nativeAudioBufferSourceNode.buffer}set buffer(e){if(this._nativeAudioBufferSourceNode.buffer=e,null!==e){if(this._isBufferSet)throw r();this._isBufferSet=!0}}get loop(){return this._nativeAudioBufferSourceNode.loop}set loop(e){this._nativeAudioBufferSourceNode.loop=e}get loopEnd(){return this._nativeAudioBufferSourceNode.loopEnd}set loopEnd(e){this._nativeAudioBufferSourceNode.loopEnd=e}get loopStart(){return this._nativeAudioBufferSourceNode.loopStart}set loopStart(e){this._nativeAudioBufferSourceNode.loopStart=e}get onended(){return this._onended}set onended(e){const t="function"===typeof e?s(this,e):null;this._nativeAudioBufferSourceNode.onended=t;const n=this._nativeAudioBufferSourceNode.onended;this._onended=null!==n&&n===t?e:n}get playbackRate(){return this._playbackRate}start(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0;if(this._nativeAudioBufferSourceNode.start(e,t,n),null!==this._audioBufferSourceNodeRenderer&&(this._audioBufferSourceNodeRenderer.start=void 0===n?[e,t]:[e,t,n]),"closed"!==this.context.state){Yt(this);const e=()=>{this._nativeAudioBufferSourceNode.removeEventListener("ended",e),sn(this)&&Xt(this)};this._nativeAudioBufferSourceNode.addEventListener("ended",e)}}stop(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this._nativeAudioBufferSourceNode.stop(e),null!==this._audioBufferSourceNodeRenderer&&(this._audioBufferSourceNodeRenderer.stop=e)}})(pi,Ai,Oi,Kn,Ti,ni,oi,Br),Ni=((e,t,n,r,i,o,a,s)=>class extends e{constructor(e,n){const r=o(e),l=a(r),c=i(r,n,l);super(e,!1,c,l?t(s):null),this._isNodeOfNativeOfflineAudioContext=l,this._nativeAudioDestinationNode=c}get channelCount(){return this._nativeAudioDestinationNode.channelCount}set channelCount(e){if(this._isNodeOfNativeOfflineAudioContext)throw r();if(e>this._nativeAudioDestinationNode.maxChannelCount)throw n();this._nativeAudioDestinationNode.channelCount=e}get channelCountMode(){return this._nativeAudioDestinationNode.channelCountMode}set channelCountMode(e){if(this._isNodeOfNativeOfflineAudioContext)throw r();this._nativeAudioDestinationNode.channelCountMode=e}get maxChannelCount(){return this._nativeAudioDestinationNode.maxChannelCount}})(pi,(e=>{const t=new WeakMap;return{render(n,r){const i=t.get(r);return void 0!==i?Promise.resolve(i):(async(n,r)=>{const i=r.destination;return t.set(r,i),await e(n,r,i),i})(n,r)}}}),tn,Kn,((e,t)=>(n,r,i)=>{const o=n.destination;if(o.channelCount!==r)try{o.channelCount=r}catch(s){}i&&"explicit"!==o.channelCountMode&&(o.channelCountMode="explicit"),0===o.maxChannelCount&&Object.defineProperty(o,"maxChannelCount",{value:r});const a=e(n,{channelCount:r,channelCountMode:o.channelCountMode,channelInterpretation:o.channelInterpretation,gain:1});return t(a,"channelCount",(e=>()=>e.call(a)),(e=>t=>{e.call(a,t);try{o.channelCount=t}catch(n){if(t>o.maxChannelCount)throw n}})),t(a,"channelCountMode",(e=>()=>e.call(a)),(e=>t=>{e.call(a,t),o.channelCountMode=t})),t(a,"channelInterpretation",(e=>()=>e.call(a)),(e=>t=>{e.call(a,t),o.channelInterpretation=t})),Object.defineProperty(a,"maxChannelCount",{get:()=>o.maxChannelCount}),a.connect(o),a})(yr,Lr),ni,oi,ei),Ii=((e,t,n,r,i)=>()=>{const o=new WeakMap;return{render(a,s){const l=o.get(s);return void 0!==l?Promise.resolve(l):(async(a,s)=>{let l=n(a);const c=Jt(l,s);if(!c){const e={Q:l.Q.value,channelCount:l.channelCount,channelCountMode:l.channelCountMode,channelInterpretation:l.channelInterpretation,detune:l.detune.value,frequency:l.frequency.value,gain:l.gain.value,type:l.type};l=t(s,e)}return o.set(s,l),c?(await e(s,a.Q,l.Q),await e(s,a.detune,l.detune),await e(s,a.frequency,l.frequency),await e(s,a.gain,l.gain)):(await r(s,a.Q,l.Q),await r(s,a.detune,l.detune),await r(s,a.frequency,l.frequency),await r(s,a.gain,l.gain)),await i(a,s,l),l})(a,s)}}})(Ci,pr,Cn,Ei,ei),Ri=(e=>(t,n)=>e.set(t,n))($r),Di=((e,t,n,r,i,o,a,s)=>class extends e{constructor(e,r){const c=o(e),u=l(l({},Bn),r),h=i(c,u),d=a(c);super(e,!1,h,d?n():null),this._Q=t(this,d,h.Q,an,on),this._detune=t(this,d,h.detune,1200*Math.log2(an),-1200*Math.log2(an)),this._frequency=t(this,d,h.frequency,e.sampleRate/2,0),this._gain=t(this,d,h.gain,40*Math.log10(an),on),this._nativeBiquadFilterNode=h,s(this,1)}get detune(){return this._detune}get frequency(){return this._frequency}get gain(){return this._gain}get Q(){return this._Q}get type(){return this._nativeBiquadFilterNode.type}set type(e){this._nativeBiquadFilterNode.type=e}getFrequencyResponse(e,t,n){try{this._nativeBiquadFilterNode.getFrequencyResponse(e,t,n)}catch(i){if(11===i.code)throw r();throw i}if(e.length!==t.length||t.length!==n.length)throw r()}})(pi,Oi,Ii,Jn,pr,ni,oi,Ri),Li=((e,t)=>(n,r,i)=>{const o=new Set;return n.connect=(i=>function(a){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const c=0===o.size;if(t(a))return i.call(n,a,s,l),e(o,[a,s,l],(e=>e[0]===a&&e[1]===s&&e[2]===l),!0),c&&r(),a;i.call(n,a,s),e(o,[a,s],(e=>e[0]===a&&e[1]===s),!0),c&&r()})(n.connect),n.disconnect=(e=>(r,a,s)=>{const l=o.size>0;if(void 0===r)e.apply(n),o.clear();else if("number"===typeof r){e.call(n,r);for(const e of o)e[1]===r&&o.delete(e)}else{t(r)?e.call(n,r,a,s):e.call(n,r,a);for(const e of o)e[0]!==r||void 0!==a&&e[1]!==a||void 0!==s&&e[2]!==s||o.delete(e)}const c=0===o.size;l&&c&&i()})(n.disconnect),n})(gn,ui),ji=((e,t)=>(n,r)=>{r.channelCount=1,r.channelCountMode="explicit",Object.defineProperty(r,"channelCount",{get:()=>1,set:()=>{throw e()}}),Object.defineProperty(r,"channelCountMode",{get:()=>"explicit",set:()=>{throw e()}});const i=n.createBufferSource();t(r,(()=>{const e=r.numberOfInputs;for(let t=0;t<e;t+=1)i.connect(r,0,t)}),(()=>i.disconnect(r)))})(Kn,Li),Fi=((e,t)=>(n,r)=>{const i=n.createChannelMerger(r.numberOfInputs);return null!==e&&"webkitAudioContext"===e.name&&t(n,i),ar(i,r),i})(li,ji),Vi=((e,t,n)=>()=>{const r=new WeakMap;return{render(i,o){const a=r.get(o);return void 0!==a?Promise.resolve(a):(async(i,o)=>{let a=t(i);if(!Jt(a,o)){const t={channelCount:a.channelCount,channelCountMode:a.channelCountMode,channelInterpretation:a.channelInterpretation,numberOfInputs:a.numberOfInputs};a=e(o,t)}return r.set(o,a),await n(i,o,a),a})(i,o)}}})(Fi,Cn,ei),zi=((e,t,n,r,i)=>class extends e{constructor(e,o){const a=r(e),s=l(l({},Un),o);super(e,!1,n(a,s),i(a)?t():null)}})(pi,Vi,Fi,ni,oi),qi=((e,t,n)=>()=>{const r=new WeakMap;return{render(i,o){const a=r.get(o);return void 0!==a?Promise.resolve(a):(async(i,o)=>{let a=t(i);if(!Jt(a,o)){const t={channelCount:a.channelCount,channelCountMode:a.channelCountMode,channelInterpretation:a.channelInterpretation,numberOfOutputs:a.numberOfOutputs};a=e(o,t)}return r.set(o,a),await n(i,o,a),a})(i,o)}}})(fr,Cn,ei),Bi=((e,t,n,r,i,o)=>class extends e{constructor(e,a){const s=r(e),c=o(l(l({},Wn),a));super(e,!1,n(s,c),i(s)?t():null)}})(pi,qi,fr,ni,oi,(e=>l(l({},e),{},{channelCount:e.numberOfOutputs}))),Ui=((e,t,n,i)=>(o,a)=>{let{offset:s}=a,c=r(a,gr);const u=o.createBuffer(1,2,44100),h=t(o,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),d=n(o,l(l({},c),{},{gain:s})),p=u.getChannelData(0);p[0]=1,p[1]=1,h.buffer=u,h.loop=!0;const f={get bufferSize(){},get channelCount(){return d.channelCount},set channelCount(e){d.channelCount=e},get channelCountMode(){return d.channelCountMode},set channelCountMode(e){d.channelCountMode=e},get channelInterpretation(){return d.channelInterpretation},set channelInterpretation(e){d.channelInterpretation=e},get context(){return d.context},get inputs(){return[]},get numberOfInputs(){return h.numberOfInputs},get numberOfOutputs(){return d.numberOfOutputs},get offset(){return d.gain},get onended(){return h.onended},set onended(e){h.onended=e},addEventListener(){return h.addEventListener(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],arguments.length<=2?void 0:arguments[2])},dispatchEvent(){return h.dispatchEvent(arguments.length<=0?void 0:arguments[0])},removeEventListener(){return h.removeEventListener(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],arguments.length<=2?void 0:arguments[2])},start(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;h.start.call(h,e)},stop(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;h.stop.call(h,e)}};return e(o,h),i(mr(f,d),(()=>h.connect(d)),(()=>h.disconnect(d)))})(Si,Ti,yr,Li),Wi=((e,t,n,r,i)=>(o,a)=>{if(void 0===o.createConstantSource)return n(o,a);const s=o.createConstantSource();return ar(s,a),lr(s,a,"offset"),t(r,(()=>r(o)))||cr(s),t(i,(()=>i(o)))||ur(s),e(o,s),s})(Si,Yr,Ui,Fr,zr),Hi=((e,t,n,r,i)=>()=>{const o=new WeakMap;let a=null,s=null;return{set start(e){a=e},set stop(e){s=e},render(l,c){const u=o.get(c);return void 0!==u?Promise.resolve(u):(async(l,c)=>{let u=n(l);const h=Jt(u,c);if(!h){const e={channelCount:u.channelCount,channelCountMode:u.channelCountMode,channelInterpretation:u.channelInterpretation,offset:u.offset.value};u=t(c,e),null!==a&&u.start(a),null!==s&&u.stop(s)}return o.set(c,u),h?await e(c,l.offset,u.offset):await r(c,l.offset,u.offset),await i(l,c,u),u})(l,c)}}})(Ci,Wi,Cn,Ei,ei),$i=((e,t,n,r,i,o,a)=>class extends e{constructor(e,a){const s=i(e),c=l(l({},Hn),a),u=r(s,c),h=o(s),d=h?n():null;super(e,!1,u,d),this._constantSourceNodeRenderer=d,this._nativeConstantSourceNode=u,this._offset=t(this,h,u.offset,an,on),this._onended=null}get offset(){return this._offset}get onended(){return this._onended}set onended(e){const t="function"===typeof e?a(this,e):null;this._nativeConstantSourceNode.onended=t;const n=this._nativeConstantSourceNode.onended;this._onended=null!==n&&n===t?e:n}start(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(this._nativeConstantSourceNode.start(e),null!==this._constantSourceNodeRenderer&&(this._constantSourceNodeRenderer.start=e),"closed"!==this.context.state){Yt(this);const e=()=>{this._nativeConstantSourceNode.removeEventListener("ended",e),sn(this)&&Xt(this)};this._nativeConstantSourceNode.addEventListener("ended",e)}}stop(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this._nativeConstantSourceNode.stop(e),null!==this._constantSourceNodeRenderer&&(this._constantSourceNodeRenderer.stop=e)}})(pi,Oi,Hi,Wi,ni,oi,Br),Gi=((e,t)=>(n,r)=>{const i=n.createConvolver();if(ar(i,r),r.disableNormalization===i.normalize&&(i.normalize=!r.disableNormalization),or(i,r,"buffer"),r.channelCount>2)throw e();if(t(i,"channelCount",(e=>()=>e.call(i)),(t=>n=>{if(n>2)throw e();return t.call(i,n)})),"max"===r.channelCountMode)throw e();return t(i,"channelCountMode",(e=>()=>e.call(i)),(t=>n=>{if("max"===n)throw e();return t.call(i,n)})),i})(Tr,Lr),Yi=((e,t,n)=>()=>{const r=new WeakMap;return{render(i,o){const a=r.get(o);return void 0!==a?Promise.resolve(a):(async(i,o)=>{let a=t(i);if(!Jt(a,o)){const t={buffer:a.buffer,channelCount:a.channelCount,channelCountMode:a.channelCountMode,channelInterpretation:a.channelInterpretation,disableNormalization:!a.normalize};a=e(o,t)}return r.set(o,a),_n(a)?await n(i,o,a.inputs[0]):await n(i,o,a),a})(i,o)}}})(Gi,Cn,ei),Qi=((e,t,n,r,i,o)=>class extends e{constructor(e,a){const s=r(e),c=l(l({},$n),a),u=n(s,c);super(e,!1,u,i(s)?t():null),this._isBufferNullified=!1,this._nativeConvolverNode=u,null!==c.buffer&&o(this,c.buffer.duration)}get buffer(){return this._isBufferNullified?null:this._nativeConvolverNode.buffer}set buffer(e){if(this._nativeConvolverNode.buffer=e,null===e&&null!==this._nativeConvolverNode.buffer){const e=this._nativeConvolverNode.context;this._nativeConvolverNode.buffer=e.createBuffer(1,1,e.sampleRate),this._isBufferNullified=!0,o(this,0)}else this._isBufferNullified=!1,o(this,null===this._nativeConvolverNode.buffer?0:this._nativeConvolverNode.buffer.duration)}get normalize(){return this._nativeConvolverNode.normalize}set normalize(e){this._nativeConvolverNode.normalize=e}})(pi,Yi,Gi,ni,oi,Ri),Xi=((e,t,n,r,i)=>o=>{const a=new WeakMap;return{render(s,l){const c=a.get(l);return void 0!==c?Promise.resolve(c):(async(s,l)=>{let c=n(s);const u=Jt(c,l);if(!u){const e={channelCount:c.channelCount,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation,delayTime:c.delayTime.value,maxDelayTime:o};c=t(l,e)}return a.set(l,c),u?await e(l,s.delayTime,c.delayTime):await r(l,s.delayTime,c.delayTime),await i(s,l,c),c})(s,l)}}})(Ci,vr,Cn,Ei,ei),Zi=((e,t,n,r,i,o,a)=>class extends e{constructor(e,s){const c=i(e),u=l(l({},Yn),s),h=r(c,u),d=o(c);super(e,!1,h,d?n(u.maxDelayTime):null),this._delayTime=t(this,d,h.delayTime),a(this,u.maxDelayTime)}get delayTime(){return this._delayTime}})(pi,Oi,Xi,vr,ni,oi,Ri),Ki=(e=>(t,n)=>{const r=t.createDynamicsCompressor();if(ar(r,n),n.channelCount>2)throw e();if("max"===n.channelCountMode)throw e();return lr(r,n,"attack"),lr(r,n,"knee"),lr(r,n,"ratio"),lr(r,n,"release"),lr(r,n,"threshold"),r})(Tr),Ji=((e,t,n,r,i)=>()=>{const o=new WeakMap;return{render(a,s){const l=o.get(s);return void 0!==l?Promise.resolve(l):(async(a,s)=>{let l=n(a);const c=Jt(l,s);if(!c){const e={attack:l.attack.value,channelCount:l.channelCount,channelCountMode:l.channelCountMode,channelInterpretation:l.channelInterpretation,knee:l.knee.value,ratio:l.ratio.value,release:l.release.value,threshold:l.threshold.value};l=t(s,e)}return o.set(s,l),c?(await e(s,a.attack,l.attack),await e(s,a.knee,l.knee),await e(s,a.ratio,l.ratio),await e(s,a.release,l.release),await e(s,a.threshold,l.threshold)):(await r(s,a.attack,l.attack),await r(s,a.knee,l.knee),await r(s,a.ratio,l.ratio),await r(s,a.release,l.release),await r(s,a.threshold,l.threshold)),await i(a,s,l),l})(a,s)}}})(Ci,Ki,Cn,Ei,ei),eo=((e,t,n,r,i,o,a,s)=>class extends e{constructor(e,i){const c=o(e),u=l(l({},Xn),i),h=r(c,u),d=a(c);super(e,!1,h,d?n():null),this._attack=t(this,d,h.attack),this._knee=t(this,d,h.knee),this._nativeDynamicsCompressorNode=h,this._ratio=t(this,d,h.ratio),this._release=t(this,d,h.release),this._threshold=t(this,d,h.threshold),s(this,.006)}get attack(){return this._attack}get channelCount(){return this._nativeDynamicsCompressorNode.channelCount}set channelCount(e){const t=this._nativeDynamicsCompressorNode.channelCount;if(this._nativeDynamicsCompressorNode.channelCount=e,e>2)throw this._nativeDynamicsCompressorNode.channelCount=t,i()}get channelCountMode(){return this._nativeDynamicsCompressorNode.channelCountMode}set channelCountMode(e){const t=this._nativeDynamicsCompressorNode.channelCountMode;if(this._nativeDynamicsCompressorNode.channelCountMode=e,"max"===e)throw this._nativeDynamicsCompressorNode.channelCountMode=t,i()}get knee(){return this._knee}get ratio(){return this._ratio}get reduction(){return"number"===typeof this._nativeDynamicsCompressorNode.reduction.value?this._nativeDynamicsCompressorNode.reduction.value:this._nativeDynamicsCompressorNode.reduction}get release(){return this._release}get threshold(){return this._threshold}})(pi,Oi,Ji,Ki,Tr,ni,oi,Ri),to=((e,t,n,r,i)=>()=>{const o=new WeakMap;return{render(a,s){const l=o.get(s);return void 0!==l?Promise.resolve(l):(async(a,s)=>{let l=n(a);const c=Jt(l,s);if(!c){const e={channelCount:l.channelCount,channelCountMode:l.channelCountMode,channelInterpretation:l.channelInterpretation,gain:l.gain.value};l=t(s,e)}return o.set(s,l),c?await e(s,a.gain,l.gain):await r(s,a.gain,l.gain),await i(a,s,l),l})(a,s)}}})(Ci,yr,Cn,Ei,ei),no=((e,t,n,r,i,o)=>class extends e{constructor(e,a){const s=i(e),c=l(l({},Zn),a),u=r(s,c),h=o(s);super(e,!1,u,h?n():null),this._gain=t(this,h,u.gain,an,on)}get gain(){return this._gain}})(pi,Oi,to,yr,ni,oi),ro=((e,t,n,r)=>(i,o,a)=>{let{channelCount:s,channelCountMode:l,channelInterpretation:c,feedback:u,feedforward:h}=a;const d=hr(o,i.sampleRate),p=u instanceof Float64Array?u:new Float64Array(u),f=h instanceof Float64Array?h:new Float64Array(h),m=p.length,g=f.length,v=Math.min(m,g);if(0===m||m>20)throw r();if(0===p[0])throw t();if(0===g||g>20)throw r();if(0===f[0])throw t();if(1!==p[0]){for(let e=0;e<g;e+=1)f[e]/=p[0];for(let e=1;e<m;e+=1)p[e]/=p[0]}const y=n(i,d,s,s);y.channelCount=s,y.channelCountMode=l,y.channelInterpretation=c;const _=[],b=[],w=[];for(let e=0;e<s;e+=1){_.push(0);const e=new Float32Array(32),t=new Float32Array(32);e.fill(0),t.fill(0),b.push(e),w.push(t)}y.onaudioprocess=e=>{const t=e.inputBuffer,n=e.outputBuffer,r=t.numberOfChannels;for(let i=0;i<r;i+=1){const e=t.getChannelData(i),r=n.getChannelData(i);_[i]=tr(p,m,f,g,v,b[i],w[i],_[i],32,e,r)}};const k=i.sampleRate/2,S={get bufferSize(){return d},get channelCount(){return y.channelCount},set channelCount(e){y.channelCount=e},get channelCountMode(){return y.channelCountMode},set channelCountMode(e){y.channelCountMode=e},get channelInterpretation(){return y.channelInterpretation},set channelInterpretation(e){y.channelInterpretation=e},get context(){return y.context},get inputs(){return[y]},get numberOfInputs(){return y.numberOfInputs},get numberOfOutputs(){return y.numberOfOutputs},addEventListener(){return y.addEventListener(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],arguments.length<=2?void 0:arguments[2])},dispatchEvent(){return y.dispatchEvent(arguments.length<=0?void 0:arguments[0])},getFrequencyResponse(t,n,r){if(t.length!==n.length||n.length!==r.length)throw e();const i=t.length;for(let e=0;e<i;e+=1){const i=-Math.PI*(t[e]/k),o=[Math.cos(i),Math.sin(i)],a=_r(wr(f,o),wr(p,o));n[e]=Math.sqrt(a[0]*a[0]+a[1]*a[1]),r[e]=Math.atan2(a[1],a[0])}},removeEventListener(){return y.removeEventListener(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],arguments.length<=2?void 0:arguments[2])}};return mr(S,y)})(Jn,Kn,Sr,Tr),io=((e,t,n,r)=>i=>e(rr,(()=>rr(i)))?Promise.resolve(e(r,r)).then((e=>{if(!e){const e=n(i,512,0,1);i.oncomplete=()=>{e.onaudioprocess=null,e.disconnect()},e.onaudioprocess=()=>i.currentTime,e.connect(i.destination)}return i.startRendering()})):new Promise((e=>{const n=t(i,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});i.oncomplete=t=>{n.disconnect(),e(t.renderedBuffer)},n.connect(i.destination),i.startRendering()})))(Yr,yr,Sr,((e,t)=>()=>{if(null===t)return Promise.resolve(!1);const n=new t(1,1,44100),r=e(n,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return new Promise((e=>{n.oncomplete=()=>{r.disconnect(),e(0!==n.currentTime)},n.startRendering()}))})(yr,ii)),oo=((e,t,n,r,i)=>(o,a)=>{const s=new WeakMap;let l=null;const c=async(c,u)=>{let h=null,d=t(c);const p=Jt(d,u);if(void 0===u.createIIRFilter?h=e(u,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}):p||(d=u.createIIRFilter(a,o)),s.set(u,null===h?d:h),null!==h){if(null===l){if(null===n)throw new Error("Missing the native OfflineAudioContext constructor.");const e=new n(c.context.destination.channelCount,c.context.length,u.sampleRate);l=(async()=>{await r(c,e,e.destination);return((e,t,n,r)=>{const i=n instanceof Float64Array?n:new Float64Array(n),o=r instanceof Float64Array?r:new Float64Array(r),a=i.length,s=o.length,l=Math.min(a,s);if(1!==i[0]){for(let e=0;e<a;e+=1)o[e]/=i[0];for(let e=1;e<s;e+=1)i[e]/=i[0]}const c=new Float32Array(32),u=new Float32Array(32),h=t.createBuffer(e.numberOfChannels,e.length,e.sampleRate),d=e.numberOfChannels;for(let p=0;p<d;p+=1){const t=e.getChannelData(p),n=h.getChannelData(p);c.fill(0),u.fill(0),tr(i,a,o,s,l,c,u,0,32,t,n)}return h})(await i(e),u,o,a)})()}const e=await l;return h.buffer=e,h.start(0),h}return await r(c,u,d),d};return{render(e,t){const n=s.get(t);return void 0!==n?Promise.resolve(n):c(e,t)}}})(Ti,Cn,ii,ei,io),ao=(e=>(t,n,r)=>{if(void 0===t.createIIRFilter)return e(t,n,r);const i=t.createIIRFilter(r.feedforward,r.feedback);return ar(i,r),i})(ro),so=((e,t,n,r,i,o)=>class extends e{constructor(e,a){const s=r(e),c=i(s),u=l(l({},er),a),h=t(s,c?null:e.baseLatency,u);super(e,!1,h,c?n(u.feedback,u.feedforward):null),(e=>{var t;e.getFrequencyResponse=(t=e.getFrequencyResponse,(n,r,i)=>{if(n.length!==r.length||r.length!==i.length)throw Jn();return t.call(e,n,r,i)})})(h),this._nativeIIRFilterNode=h,o(this,1)}getFrequencyResponse(e,t,n){return this._nativeIIRFilterNode.getFrequencyResponse(e,t,n)}})(pi,ao,oo,ni,oi,Ri),lo=((e,t,n,r,i,o,a,s)=>(l,c)=>{const u=c.listener,{forwardX:h,forwardY:d,forwardZ:p,positionX:f,positionY:m,positionZ:g,upX:v,upY:y,upZ:_}=void 0===u.forwardX?(()=>{const h=new Float32Array(1),d=t(c,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:9}),p=a(c);let f=!1,m=[0,0,-1,0,1,0],g=[0,0,0];const v=()=>{if(f)return;f=!0;const e=r(c,256,9,0);e.onaudioprocess=e=>{let{inputBuffer:t}=e;const n=[o(t,h,0),o(t,h,1),o(t,h,2),o(t,h,3),o(t,h,4),o(t,h,5)];n.some(((e,t)=>e!==m[t]))&&(u.setOrientation(...n),m=n);const r=[o(t,h,6),o(t,h,7),o(t,h,8)];r.some(((e,t)=>e!==g[t]))&&(u.setPosition(...r),g=r)},d.connect(e)},y=e=>t=>{t!==m[e]&&(m[e]=t,u.setOrientation(...m))},_=e=>t=>{t!==g[e]&&(g[e]=t,u.setPosition(...g))},b=(t,r,o)=>{const a=n(c,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:r});a.connect(d,0,t),a.start(),Object.defineProperty(a.offset,"defaultValue",{get:()=>r});const u=e({context:l},p,a.offset,an,on);var h,f,m,g,y,_,b;return s(u,"value",(e=>()=>e.call(u)),(e=>t=>{try{e.call(u,t)}catch(n){if(9!==n.code)throw n}v(),p&&o(t)})),u.cancelAndHoldAtTime=(h=u.cancelAndHoldAtTime,p?()=>{throw i()}:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=h.apply(u,t);return v(),r}),u.cancelScheduledValues=(f=u.cancelScheduledValues,p?()=>{throw i()}:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=f.apply(u,t);return v(),r}),u.exponentialRampToValueAtTime=(m=u.exponentialRampToValueAtTime,p?()=>{throw i()}:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=m.apply(u,t);return v(),r}),u.linearRampToValueAtTime=(g=u.linearRampToValueAtTime,p?()=>{throw i()}:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=g.apply(u,t);return v(),r}),u.setTargetAtTime=(y=u.setTargetAtTime,p?()=>{throw i()}:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=y.apply(u,t);return v(),r}),u.setValueAtTime=(_=u.setValueAtTime,p?()=>{throw i()}:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=_.apply(u,t);return v(),r}),u.setValueCurveAtTime=(b=u.setValueCurveAtTime,p?()=>{throw i()}:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=b.apply(u,t);return v(),r}),u};return{forwardX:b(0,0,y(0)),forwardY:b(1,0,y(1)),forwardZ:b(2,-1,y(2)),positionX:b(6,0,_(0)),positionY:b(7,0,_(1)),positionZ:b(8,0,_(2)),upX:b(3,0,y(3)),upY:b(4,1,y(4)),upZ:b(5,0,y(5))}})():u;return{get forwardX(){return h},get forwardY(){return d},get forwardZ(){return p},get positionX(){return f},get positionY(){return m},get positionZ(){return g},get upX(){return v},get upY(){return y},get upZ(){return _}}})(Oi,Fi,Wi,Sr,Tr,Rr,oi,Lr),co=new WeakMap,uo=((e,t,n,r,i,o)=>class extends n{constructor(n,o){super(n),this._nativeContext=n,Rt.set(this,n),r(n)&&i.set(n,new Set),this._destination=new e(this,o),this._listener=t(this,n),this._onstatechange=null}get currentTime(){return this._nativeContext.currentTime}get destination(){return this._destination}get listener(){return this._listener}get onstatechange(){return this._onstatechange}set onstatechange(e){const t="function"===typeof e?o(this,e):null;this._nativeContext.onstatechange=t;const n=this._nativeContext.onstatechange;this._onstatechange=null!==n&&n===t?e:n}get sampleRate(){return this._nativeContext.sampleRate}get state(){return this._nativeContext.state}})(Ni,lo,si,oi,co,Br),ho=((e,t,n,r,i,o)=>(a,s)=>{const l=a.createOscillator();return ar(l,s),lr(l,s,"detune"),lr(l,s,"frequency"),void 0!==s.periodicWave?l.setPeriodicWave(s.periodicWave):or(l,s,"type"),t(n,(()=>n(a)))||cr(l),t(r,(()=>r(a)))||o(l,a),t(i,(()=>i(a)))||ur(l),e(a,l),l})(Si,Yr,Fr,Vr,zr,qr),po=((e,t,n,r,i)=>()=>{const o=new WeakMap;let a=null,s=null,l=null;return{set periodicWave(e){a=e},set start(e){s=e},set stop(e){l=e},render(c,u){const h=o.get(u);return void 0!==h?Promise.resolve(h):(async(c,u)=>{let h=n(c);const d=Jt(h,u);if(!d){const e={channelCount:h.channelCount,channelCountMode:h.channelCountMode,channelInterpretation:h.channelInterpretation,detune:h.detune.value,frequency:h.frequency.value,periodicWave:null===a?void 0:a,type:h.type};h=t(u,e),null!==s&&h.start(s),null!==l&&h.stop(l)}return o.set(u,h),d?(await e(u,c.detune,h.detune),await e(u,c.frequency,h.frequency)):(await r(u,c.detune,h.detune),await r(u,c.frequency,h.frequency)),await i(c,u,h),h})(c,u)}}})(Ci,ho,Cn,Ei,ei),fo=((e,t,n,r,i,o,a)=>class extends e{constructor(e,a){const s=i(e),c=l(l({},Ar),a),u=n(s,c),h=o(s),d=h?r():null,p=e.sampleRate/2;super(e,!1,u,d),this._detune=t(this,h,u.detune,153600,-153600),this._frequency=t(this,h,u.frequency,p,-p),this._nativeOscillatorNode=u,this._onended=null,this._oscillatorNodeRenderer=d,null!==this._oscillatorNodeRenderer&&void 0!==c.periodicWave&&(this._oscillatorNodeRenderer.periodicWave=c.periodicWave)}get detune(){return this._detune}get frequency(){return this._frequency}get onended(){return this._onended}set onended(e){const t="function"===typeof e?a(this,e):null;this._nativeOscillatorNode.onended=t;const n=this._nativeOscillatorNode.onended;this._onended=null!==n&&n===t?e:n}get type(){return this._nativeOscillatorNode.type}set type(e){this._nativeOscillatorNode.type=e,null!==this._oscillatorNodeRenderer&&(this._oscillatorNodeRenderer.periodicWave=null)}setPeriodicWave(e){this._nativeOscillatorNode.setPeriodicWave(e),null!==this._oscillatorNodeRenderer&&(this._oscillatorNodeRenderer.periodicWave=e)}start(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(this._nativeOscillatorNode.start(e),null!==this._oscillatorNodeRenderer&&(this._oscillatorNodeRenderer.start=e),"closed"!==this.context.state){Yt(this);const e=()=>{this._nativeOscillatorNode.removeEventListener("ended",e),sn(this)&&Xt(this)};this._nativeOscillatorNode.addEventListener("ended",e)}}stop(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this._nativeOscillatorNode.stop(e),null!==this._oscillatorNodeRenderer&&(this._oscillatorNodeRenderer.stop=e)}})(pi,Oi,ho,po,ni,oi,Br),mo=(e=>(t,n)=>{const r=e(t,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),i=t.createBuffer(1,2,44100);return r.buffer=i,r.loop=!0,r.connect(n),r.start(),()=>{r.stop(),r.disconnect(n)}})(Ti),go=((e,t,n,i,o)=>(a,s)=>{let{curve:c,oversample:u}=s,h=r(s,Cr);const d=a.createWaveShaper(),p=a.createWaveShaper();ar(d,h),ar(p,h);const f=n(a,l(l({},h),{},{gain:1})),m=n(a,l(l({},h),{},{gain:-1})),g=n(a,l(l({},h),{},{gain:1})),v=n(a,l(l({},h),{},{gain:-1}));let y=null,_=!1,b=null;const w={get bufferSize(){},get channelCount(){return d.channelCount},set channelCount(e){f.channelCount=e,m.channelCount=e,d.channelCount=e,g.channelCount=e,p.channelCount=e,v.channelCount=e},get channelCountMode(){return d.channelCountMode},set channelCountMode(e){f.channelCountMode=e,m.channelCountMode=e,d.channelCountMode=e,g.channelCountMode=e,p.channelCountMode=e,v.channelCountMode=e},get channelInterpretation(){return d.channelInterpretation},set channelInterpretation(e){f.channelInterpretation=e,m.channelInterpretation=e,d.channelInterpretation=e,g.channelInterpretation=e,p.channelInterpretation=e,v.channelInterpretation=e},get context(){return d.context},get curve(){return b},set curve(n){if(null!==n&&n.length<2)throw t();if(null===n)d.curve=n,p.curve=n;else{const e=n.length,t=new Float32Array(e+2-e%2),r=new Float32Array(e+2-e%2);t[0]=n[0],r[0]=-n[e-1];const i=Math.ceil((e+1)/2),o=(e+1)/2-1;for(let a=1;a<i;a+=1){const s=a/i*o,l=Math.floor(s),c=Math.ceil(s);t[a]=l===c?n[l]:(1-(s-l))*n[l]+(1-(c-s))*n[c],r[a]=l===c?-n[e-1-l]:-(1-(s-l))*n[e-1-l]-(1-(c-s))*n[e-1-c]}t[i]=e%2===1?n[i-1]:(n[i-2]+n[i-1])/2,d.curve=t,p.curve=r}b=n,_&&(i(b)&&null===y?y=e(a,f):null!==y&&(y(),y=null))},get inputs(){return[f]},get numberOfInputs(){return d.numberOfInputs},get numberOfOutputs(){return d.numberOfOutputs},get oversample(){return d.oversample},set oversample(e){d.oversample=e,p.oversample=e},addEventListener(){return f.addEventListener(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],arguments.length<=2?void 0:arguments[2])},dispatchEvent(){return f.dispatchEvent(arguments.length<=0?void 0:arguments[0])},removeEventListener(){return f.removeEventListener(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],arguments.length<=2?void 0:arguments[2])}};null!==c&&(w.curve=c instanceof Float32Array?c:new Float32Array(c)),u!==w.oversample&&(w.oversample=u);return o(mr(w,g),(()=>{f.connect(d).connect(g),f.connect(m).connect(p).connect(v).connect(g),_=!0,i(b)&&(y=e(a,f))}),(()=>{f.disconnect(d),d.disconnect(g),f.disconnect(m),m.disconnect(p),p.disconnect(v),v.disconnect(g),_=!1,null!==y&&(y(),y=null)}))})(mo,Kn,yr,Dr,Li),vo=((e,t,n,r,i,o,a)=>(s,l)=>{const c=s.createWaveShaper();if(null!==o&&"webkitAudioContext"===o.name&&void 0===s.createGain().gain.automationRate)return n(s,l);ar(c,l);const u=null===l.curve||l.curve instanceof Float32Array?l.curve:new Float32Array(l.curve);if(null!==u&&u.length<2)throw t();or(c,{curve:u},"curve"),or(c,l,"oversample");let h=null,d=!1;a(c,"curve",(e=>()=>e.call(c)),(t=>n=>(t.call(c,n),d&&(r(n)&&null===h?h=e(s,c):r(n)||null===h||(h(),h=null)),n)));return i(c,(()=>{d=!0,r(c.curve)&&(h=e(s,c))}),(()=>{d=!1,null!==h&&(h(),h=null)}))})(mo,Kn,go,Dr,Li,li,Lr),yo=((e,t,n,i,o,a,s,c,u,h)=>(d,p)=>{let{coneInnerAngle:f,coneOuterAngle:m,coneOuterGain:g,distanceModel:v,maxDistance:y,orientationX:_,orientationY:b,orientationZ:w,panningModel:k,positionX:S,positionY:x,positionZ:C,refDistance:T,rolloffFactor:E}=p,A=r(p,kr);const O=d.createPanner();if(A.channelCount>2)throw s();if("max"===A.channelCountMode)throw s();ar(O,A);const M={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},P=n(d,l(l({},M),{},{channelInterpretation:"speakers",numberOfInputs:6})),N=i(d,l(l({},A),{},{gain:1})),I=i(d,l(l({},M),{},{gain:1})),R=i(d,l(l({},M),{},{gain:0})),D=i(d,l(l({},M),{},{gain:0})),L=i(d,l(l({},M),{},{gain:0})),j=i(d,l(l({},M),{},{gain:0})),F=i(d,l(l({},M),{},{gain:0})),V=o(d,256,6,1),z=a(d,l(l({},M),{},{curve:new Float32Array([1,1]),oversample:"none"}));let q=[_,b,w],B=[S,x,C];const U=new Float32Array(1);V.onaudioprocess=e=>{let{inputBuffer:t}=e;const n=[u(t,U,0),u(t,U,1),u(t,U,2)];n.some(((e,t)=>e!==q[t]))&&(O.setOrientation(...n),q=n);const r=[u(t,U,3),u(t,U,4),u(t,U,5)];r.some(((e,t)=>e!==B[t]))&&(O.setPosition(...r),B=r)},Object.defineProperty(R.gain,"defaultValue",{get:()=>0}),Object.defineProperty(D.gain,"defaultValue",{get:()=>0}),Object.defineProperty(L.gain,"defaultValue",{get:()=>0}),Object.defineProperty(j.gain,"defaultValue",{get:()=>0}),Object.defineProperty(F.gain,"defaultValue",{get:()=>0});const W={get bufferSize(){},get channelCount(){return O.channelCount},set channelCount(e){if(e>2)throw s();N.channelCount=e,O.channelCount=e},get channelCountMode(){return O.channelCountMode},set channelCountMode(e){if("max"===e)throw s();N.channelCountMode=e,O.channelCountMode=e},get channelInterpretation(){return O.channelInterpretation},set channelInterpretation(e){N.channelInterpretation=e,O.channelInterpretation=e},get coneInnerAngle(){return O.coneInnerAngle},set coneInnerAngle(e){O.coneInnerAngle=e},get coneOuterAngle(){return O.coneOuterAngle},set coneOuterAngle(e){O.coneOuterAngle=e},get coneOuterGain(){return O.coneOuterGain},set coneOuterGain(e){if(e<0||e>1)throw t();O.coneOuterGain=e},get context(){return O.context},get distanceModel(){return O.distanceModel},set distanceModel(e){O.distanceModel=e},get inputs(){return[N]},get maxDistance(){return O.maxDistance},set maxDistance(e){if(e<0)throw new RangeError;O.maxDistance=e},get numberOfInputs(){return O.numberOfInputs},get numberOfOutputs(){return O.numberOfOutputs},get orientationX(){return I.gain},get orientationY(){return R.gain},get orientationZ(){return D.gain},get panningModel(){return O.panningModel},set panningModel(e){O.panningModel=e},get positionX(){return L.gain},get positionY(){return j.gain},get positionZ(){return F.gain},get refDistance(){return O.refDistance},set refDistance(e){if(e<0)throw new RangeError;O.refDistance=e},get rolloffFactor(){return O.rolloffFactor},set rolloffFactor(e){if(e<0)throw new RangeError;O.rolloffFactor=e},addEventListener(){return N.addEventListener(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],arguments.length<=2?void 0:arguments[2])},dispatchEvent(){return N.dispatchEvent(arguments.length<=0?void 0:arguments[0])},removeEventListener(){return N.removeEventListener(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],arguments.length<=2?void 0:arguments[2])}};f!==W.coneInnerAngle&&(W.coneInnerAngle=f),m!==W.coneOuterAngle&&(W.coneOuterAngle=m),g!==W.coneOuterGain&&(W.coneOuterGain=g),v!==W.distanceModel&&(W.distanceModel=v),y!==W.maxDistance&&(W.maxDistance=y),_!==W.orientationX.value&&(W.orientationX.value=_),b!==W.orientationY.value&&(W.orientationY.value=b),w!==W.orientationZ.value&&(W.orientationZ.value=w),k!==W.panningModel&&(W.panningModel=k),S!==W.positionX.value&&(W.positionX.value=S),x!==W.positionY.value&&(W.positionY.value=x),C!==W.positionZ.value&&(W.positionZ.value=C),T!==W.refDistance&&(W.refDistance=T),E!==W.rolloffFactor&&(W.rolloffFactor=E),1===q[0]&&0===q[1]&&0===q[2]||O.setOrientation(...q),0===B[0]&&0===B[1]&&0===B[2]||O.setPosition(...B);return h(mr(W,O),(()=>{N.connect(O),e(N,z,0,0),z.connect(I).connect(P,0,0),z.connect(R).connect(P,0,1),z.connect(D).connect(P,0,2),z.connect(L).connect(P,0,3),z.connect(j).connect(P,0,4),z.connect(F).connect(P,0,5),P.connect(V).connect(d.destination)}),(()=>{N.disconnect(O),c(N,z,0,0),z.disconnect(I),I.disconnect(P),z.disconnect(R),R.disconnect(P),z.disconnect(D),D.disconnect(P),z.disconnect(L),L.disconnect(P),z.disconnect(j),j.disconnect(P),z.disconnect(F),F.disconnect(P),P.disconnect(V),V.disconnect(d.destination)}))})(bn,Kn,Fi,yr,Sr,vo,Tr,xn,Rr,Li),_o=(e=>(t,n)=>{const r=t.createPanner();return void 0===r.orientationX?e(t,n):(ar(r,n),lr(r,n,"orientationX"),lr(r,n,"orientationY"),lr(r,n,"orientationZ"),lr(r,n,"positionX"),lr(r,n,"positionY"),lr(r,n,"positionZ"),or(r,n,"coneInnerAngle"),or(r,n,"coneOuterAngle"),or(r,n,"coneOuterGain"),or(r,n,"distanceModel"),or(r,n,"maxDistance"),or(r,n,"panningModel"),or(r,n,"refDistance"),or(r,n,"rolloffFactor"),r)})(yo),bo=((e,t,n,r,i,o,a,s,c,u)=>()=>{const h=new WeakMap;let d=null;return{render(p,f){const m=h.get(f);return void 0!==m?Promise.resolve(m):(async(p,f)=>{let m=null,g=o(p);const v={channelCount:g.channelCount,channelCountMode:g.channelCountMode,channelInterpretation:g.channelInterpretation},y=l(l({},v),{},{coneInnerAngle:g.coneInnerAngle,coneOuterAngle:g.coneOuterAngle,coneOuterGain:g.coneOuterGain,distanceModel:g.distanceModel,maxDistance:g.maxDistance,panningModel:g.panningModel,refDistance:g.refDistance,rolloffFactor:g.rolloffFactor}),_=Jt(g,f);if("bufferSize"in g)m=r(f,l(l({},v),{},{gain:1}));else if(!_){const e=l(l({},y),{},{orientationX:g.orientationX.value,orientationY:g.orientationY.value,orientationZ:g.orientationZ.value,positionX:g.positionX.value,positionY:g.positionY.value,positionZ:g.positionZ.value});g=i(f,e)}if(h.set(f,null===m?g:m),null!==m){if(null===d){if(null===a)throw new Error("Missing the native OfflineAudioContext constructor.");const e=new a(6,p.context.length,f.sampleRate),r=t(e,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6});r.connect(e.destination),d=(async()=>{const t=await Promise.all([p.orientationX,p.orientationY,p.orientationZ,p.positionX,p.positionY,p.positionZ].map((async(t,r)=>{const i=n(e,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:0===r?1:0});return await s(e,t,i.offset),i})));for(let e=0;e<6;e+=1)t[e].connect(r,0,e),t[e].start(0);return u(e)})()}const e=await d,o=r(f,l(l({},v),{},{gain:1}));await c(p,f,o);const h=[];for(let t=0;t<e.numberOfChannels;t+=1)h.push(e.getChannelData(t));let g=[h[0][0],h[1][0],h[2][0]],_=[h[3][0],h[4][0],h[5][0]],b=r(f,l(l({},v),{},{gain:1})),w=i(f,l(l({},y),{},{orientationX:g[0],orientationY:g[1],orientationZ:g[2],positionX:_[0],positionY:_[1],positionZ:_[2]}));o.connect(b).connect(w.inputs[0]),w.connect(m);for(let t=128;t<e.length;t+=128){const e=[h[0][t],h[1][t],h[2][t]],n=[h[3][t],h[4][t],h[5][t]];if(e.some(((e,t)=>e!==g[t]))||n.some(((e,t)=>e!==_[t]))){g=e,_=n;const a=t/f.sampleRate;b.gain.setValueAtTime(0,a),b=r(f,l(l({},v),{},{gain:0})),w=i(f,l(l({},y),{},{orientationX:g[0],orientationY:g[1],orientationZ:g[2],positionX:_[0],positionY:_[1],positionZ:_[2]})),b.gain.setValueAtTime(1,a),o.connect(b).connect(w.inputs[0]),w.connect(m)}}return m}return _?(await e(f,p.orientationX,g.orientationX),await e(f,p.orientationY,g.orientationY),await e(f,p.orientationZ,g.orientationZ),await e(f,p.positionX,g.positionX),await e(f,p.positionY,g.positionY),await e(f,p.positionZ,g.positionZ)):(await s(f,p.orientationX,g.orientationX),await s(f,p.orientationY,g.orientationY),await s(f,p.orientationZ,g.orientationZ),await s(f,p.positionX,g.positionX),await s(f,p.positionY,g.positionY),await s(f,p.positionZ,g.positionZ)),_n(g)?await c(p,f,g.inputs[0]):await c(p,f,g),g})(p,f)}}})(Ci,Fi,Wi,yr,_o,Cn,ii,Ei,ei,io),wo=((e,t,n,r,i,o,a)=>class extends e{constructor(e,s){const c=i(e),u=l(l({},Or),s),h=n(c,u),d=o(c);super(e,!1,h,d?r():null),this._nativePannerNode=h,this._orientationX=t(this,d,h.orientationX,an,on),this._orientationY=t(this,d,h.orientationY,an,on),this._orientationZ=t(this,d,h.orientationZ,an,on),this._positionX=t(this,d,h.positionX,an,on),this._positionY=t(this,d,h.positionY,an,on),this._positionZ=t(this,d,h.positionZ,an,on),a(this,1)}get coneInnerAngle(){return this._nativePannerNode.coneInnerAngle}set coneInnerAngle(e){this._nativePannerNode.coneInnerAngle=e}get coneOuterAngle(){return this._nativePannerNode.coneOuterAngle}set coneOuterAngle(e){this._nativePannerNode.coneOuterAngle=e}get coneOuterGain(){return this._nativePannerNode.coneOuterGain}set coneOuterGain(e){this._nativePannerNode.coneOuterGain=e}get distanceModel(){return this._nativePannerNode.distanceModel}set distanceModel(e){this._nativePannerNode.distanceModel=e}get maxDistance(){return this._nativePannerNode.maxDistance}set maxDistance(e){this._nativePannerNode.maxDistance=e}get orientationX(){return this._orientationX}get orientationY(){return this._orientationY}get orientationZ(){return this._orientationZ}get panningModel(){return this._nativePannerNode.panningModel}set panningModel(e){this._nativePannerNode.panningModel=e}get positionX(){return this._positionX}get positionY(){return this._positionY}get positionZ(){return this._positionZ}get refDistance(){return this._nativePannerNode.refDistance}set refDistance(e){this._nativePannerNode.refDistance=e}get rolloffFactor(){return this._nativePannerNode.rolloffFactor}set rolloffFactor(e){this._nativePannerNode.rolloffFactor=e}})(pi,Oi,_o,bo,ni,oi,Ri),ko=(e=>(t,n)=>{let{disableNormalization:r,imag:i,real:o}=n;const a=i instanceof Float32Array?i:new Float32Array(i),s=o instanceof Float32Array?o:new Float32Array(o),l=t.createPeriodicWave(s,a,{disableNormalization:r});if(Array.from(i).length<2)throw e();return l})(tn),So=((e,t,n,r)=>class i{constructor(i,o){const a=t(i),s=r(l(l({},Mr),o)),c=e(a,s);return n.add(c),c}static[Symbol.hasInstance](e){return null!==e&&"object"===typeof e&&Object.getPrototypeOf(e)===i.prototype||n.has(e)}})(ko,ni,new WeakSet,(e=>{const{imag:t,real:n}=e;return l(l({},e),{},void 0===t?void 0===n?{imag:[0,0],real:[0,0]}:{imag:Array.from(n,(()=>0)),real:n}:void 0===n?{imag:t,real:Array.from(t,(()=>0))}:{imag:t,real:n})})),xo=((e,t,n,i,o,a)=>{const s=16385,c=new Float32Array([1,1]),u=Math.PI/2,h={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},d=l(l({},h),{},{oversample:"none"}),p=(e,r,a,p,f)=>{if(1===r)return((e,t,r,o)=>{const a=new Float32Array(s),p=new Float32Array(s);for(let n=0;n<s;n+=1){const e=n/16384*u;a[n]=Math.cos(e),p[n]=Math.sin(e)}const f=n(e,l(l({},h),{},{gain:0})),m=i(e,l(l({},d),{},{curve:a})),g=i(e,l(l({},d),{},{curve:c})),v=n(e,l(l({},h),{},{gain:0})),y=i(e,l(l({},d),{},{curve:p}));return{connectGraph(){t.connect(f),t.connect(void 0===g.inputs?g:g.inputs[0]),t.connect(v),g.connect(r),r.connect(void 0===m.inputs?m:m.inputs[0]),r.connect(void 0===y.inputs?y:y.inputs[0]),m.connect(f.gain),y.connect(v.gain),f.connect(o,0,0),v.connect(o,0,1)},disconnectGraph(){t.disconnect(f),t.disconnect(void 0===g.inputs?g:g.inputs[0]),t.disconnect(v),g.disconnect(r),r.disconnect(void 0===m.inputs?m:m.inputs[0]),r.disconnect(void 0===y.inputs?y:y.inputs[0]),m.disconnect(f.gain),y.disconnect(v.gain),f.disconnect(o,0,0),v.disconnect(o,0,1)}}})(e,a,p,f);if(2===r)return((e,r,o,a)=>{const p=new Float32Array(s),f=new Float32Array(s),m=new Float32Array(s),g=new Float32Array(s),v=Math.floor(8192.5);for(let t=0;t<s;t+=1)if(t>v){const e=(t-v)/(16384-v)*u;p[t]=Math.cos(e),f[t]=Math.sin(e),m[t]=0,g[t]=1}else{const e=t/(16384-v)*u;p[t]=1,f[t]=0,m[t]=Math.cos(e),g[t]=Math.sin(e)}const y=t(e,{channelCount:2,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:2}),_=n(e,l(l({},h),{},{gain:0})),b=i(e,l(l({},d),{},{curve:p})),w=n(e,l(l({},h),{},{gain:0})),k=i(e,l(l({},d),{},{curve:f})),S=i(e,l(l({},d),{},{curve:c})),x=n(e,l(l({},h),{},{gain:0})),C=i(e,l(l({},d),{},{curve:m})),T=n(e,l(l({},h),{},{gain:0})),E=i(e,l(l({},d),{},{curve:g}));return{connectGraph(){r.connect(y),r.connect(void 0===S.inputs?S:S.inputs[0]),y.connect(_,0),y.connect(w,0),y.connect(x,1),y.connect(T,1),S.connect(o),o.connect(void 0===b.inputs?b:b.inputs[0]),o.connect(void 0===k.inputs?k:k.inputs[0]),o.connect(void 0===C.inputs?C:C.inputs[0]),o.connect(void 0===E.inputs?E:E.inputs[0]),b.connect(_.gain),k.connect(w.gain),C.connect(x.gain),E.connect(T.gain),_.connect(a,0,0),x.connect(a,0,0),w.connect(a,0,1),T.connect(a,0,1)},disconnectGraph(){r.disconnect(y),r.disconnect(void 0===S.inputs?S:S.inputs[0]),y.disconnect(_,0),y.disconnect(w,0),y.disconnect(x,1),y.disconnect(T,1),S.disconnect(o),o.disconnect(void 0===b.inputs?b:b.inputs[0]),o.disconnect(void 0===k.inputs?k:k.inputs[0]),o.disconnect(void 0===C.inputs?C:C.inputs[0]),o.disconnect(void 0===E.inputs?E:E.inputs[0]),b.disconnect(_.gain),k.disconnect(w.gain),C.disconnect(x.gain),E.disconnect(T.gain),_.disconnect(a,0,0),x.disconnect(a,0,0),w.disconnect(a,0,1),T.disconnect(a,0,1)}}})(e,a,p,f);throw o()};return(t,i)=>{let{channelCount:s,channelCountMode:c,pan:u}=i,h=r(i,xr);if("max"===c)throw o();const d=e(t,l(l({},h),{},{channelCount:1,channelCountMode:c,numberOfInputs:2})),f=n(t,l(l({},h),{},{channelCount:s,channelCountMode:c,gain:1})),m=n(t,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:u});let{connectGraph:g,disconnectGraph:v}=p(t,s,f,m,d);Object.defineProperty(m.gain,"defaultValue",{get:()=>0}),Object.defineProperty(m.gain,"maxValue",{get:()=>1}),Object.defineProperty(m.gain,"minValue",{get:()=>-1});const y={get bufferSize(){},get channelCount(){return f.channelCount},set channelCount(e){f.channelCount!==e&&(_&&v(),({connectGraph:g,disconnectGraph:v}=p(t,e,f,m,d)),_&&g()),f.channelCount=e},get channelCountMode(){return f.channelCountMode},set channelCountMode(e){if("clamped-max"===e||"max"===e)throw o();f.channelCountMode=e},get channelInterpretation(){return f.channelInterpretation},set channelInterpretation(e){f.channelInterpretation=e},get context(){return f.context},get inputs(){return[f]},get numberOfInputs(){return f.numberOfInputs},get numberOfOutputs(){return f.numberOfOutputs},get pan(){return m.gain},addEventListener(){return f.addEventListener(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],arguments.length<=2?void 0:arguments[2])},dispatchEvent(){return f.dispatchEvent(arguments.length<=0?void 0:arguments[0])},removeEventListener(){return f.removeEventListener(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],arguments.length<=2?void 0:arguments[2])}};let _=!1;return a(mr(y,d),(()=>{g(),_=!0}),(()=>{v(),_=!1}))}})(Fi,fr,yr,vo,Tr,Li),Co=((e,t)=>(n,r)=>{const i=r.channelCountMode;if("clamped-max"===i)throw t();if(void 0===n.createStereoPanner)return e(n,r);const o=n.createStereoPanner();return ar(o,r),lr(o,r,"pan"),Object.defineProperty(o,"channelCountMode",{get:()=>i,set:e=>{if(e!==i)throw t()}}),o})(xo,Tr),To=((e,t,n,r,i)=>()=>{const o=new WeakMap;return{render(a,s){const l=o.get(s);return void 0!==l?Promise.resolve(l):(async(a,s)=>{let l=n(a);const c=Jt(l,s);if(!c){const e={channelCount:l.channelCount,channelCountMode:l.channelCountMode,channelInterpretation:l.channelInterpretation,pan:l.pan.value};l=t(s,e)}return o.set(s,l),c?await e(s,a.pan,l.pan):await r(s,a.pan,l.pan),_n(l)?await i(a,s,l.inputs[0]):await i(a,s,l),l})(a,s)}}})(Ci,Co,Cn,Ei,ei),Eo=((e,t,n,r,i,o)=>class extends e{constructor(e,a){const s=i(e),c=l(l({},Pr),a),u=n(s,c),h=o(s);super(e,!1,u,h?r():null),this._pan=t(this,h,u.pan)}get pan(){return this._pan}})(pi,Oi,Co,To,ni,oi),Ao=((e,t,n)=>()=>{const r=new WeakMap;return{render(i,o){const a=r.get(o);return void 0!==a?Promise.resolve(a):(async(i,o)=>{let a=t(i);if(!Jt(a,o)){const t={channelCount:a.channelCount,channelCountMode:a.channelCountMode,channelInterpretation:a.channelInterpretation,curve:a.curve,oversample:a.oversample};a=e(o,t)}return r.set(o,a),_n(a)?await n(i,o,a.inputs[0]):await n(i,o,a),a})(i,o)}}})(vo,Cn,ei),Oo=((e,t,n,r,i,o,a)=>class extends e{constructor(e,t){const s=i(e),c=l(l({},Ir),t),u=n(s,c);super(e,!0,u,o(s)?r():null),this._isCurveNullified=!1,this._nativeWaveShaperNode=u,a(this,1)}get curve(){return this._isCurveNullified?null:this._nativeWaveShaperNode.curve}set curve(e){if(null===e)this._isCurveNullified=!0,this._nativeWaveShaperNode.curve=new Float32Array([0,0]);else{if(e.length<2)throw t();this._isCurveNullified=!1,this._nativeWaveShaperNode.curve=e}}get oversample(){return this._nativeWaveShaperNode.oversample}set oversample(e){this._nativeWaveShaperNode.oversample=e}})(pi,Kn,vo,Ao,ni,oi,Ri),Mo=(e=>null!==e&&e.isSecureContext)(Zr),Po=(e=>(t,n,r)=>{Object.defineProperties(e,{currentFrame:{configurable:!0,get:()=>Math.round(t*n)},currentTime:{configurable:!0,get:()=>t}});try{return r()}finally{null!==e&&(delete e.currentFrame,delete e.currentTime)}})(Zr),No=new WeakMap,Io=((e,t)=>n=>{let r=e.get(n);if(void 0!==r)return r;if(null===t)throw new Error("Missing the native OfflineAudioContext constructor.");return r=new t(1,1,44100),e.set(n,r),r})(No,ii),Ro=Mo?((e,t,n,r,i,o,a,s,l,c,u,h,d)=>{let p=0;return function(f,m){let g=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{credentials:"omit"};const v=u.get(f);if(void 0!==v&&v.has(m))return Promise.resolve();const y=c.get(f);if(void 0!==y){const e=y.get(m);if(void 0!==e)return e}const _=o(f),b=void 0===_.audioWorklet?i(m).then((e=>{let[t,r]=e;const[i,o]=qt(t,r),a="".concat(i,";((a,b)=>{(a[b]=a[b]||[]).push((AudioWorkletProcessor,global,registerProcessor,sampleRate,self,window)=>{").concat(o,"\n})})(window,'_AWGS')");return n(a)})).then((()=>{const e=d._AWGS.pop();if(void 0===e)throw new SyntaxError;r(_.currentTime,_.sampleRate,(()=>e(class{},void 0,((e,n)=>{if(""===e.trim())throw t();const r=jt.get(_);if(void 0!==r){if(r.has(e))throw t();Ut(n),Bt(n.parameterDescriptors),r.set(e,n)}else Ut(n),Bt(n.parameterDescriptors),jt.set(_,new Map([[e,n]]))}),_.sampleRate,void 0,void 0)))})):Promise.all([i(m),Promise.resolve(e(h,h))]).then((e=>{let[[t,n],r]=e;const i=p+1;p=i;const[o,c]=qt(t,n),u=r?"AudioWorkletProcessor":"class extends AudioWorkletProcessor {__b=new WeakSet();constructor(){super();(p=>p.postMessage=(q=>(m,t)=>q.call(p,m,t?t.filter(u=>!this.__b.has(u)):t))(p.postMessage))(this.port)}}",h=r?"":"__c = (a) => a.forEach(e=>this.__b.add(e.buffer));",d=r?"":"i.forEach(this.__c);o.forEach(this.__c);this.__c(Object.values(p));",f="".concat(o,";((AudioWorkletProcessor,registerProcessor)=>{").concat(c,"\n})(").concat(u,",(n,p)=>registerProcessor(n,class extends p{").concat(h,"process(i,o,p){").concat(d,"return super.process(i.map(j=>j.some(k=>k.length===0)?[]:j),o,p)}}));registerProcessor('__sac").concat(i,"',class extends AudioWorkletProcessor{process(){return !1}})"),m=new Blob([f],{type:"application/javascript; charset=utf-8"}),v=URL.createObjectURL(m);return _.audioWorklet.addModule(v,g).then((()=>{if(s(_))return _;const e=a(_);return e.audioWorklet.addModule(v,g).then((()=>e))})).then((e=>{if(null===l)throw new SyntaxError;try{new l(e,"__sac".concat(i))}catch(t){throw new SyntaxError}})).finally((()=>URL.revokeObjectURL(v)))}));return void 0===y?c.set(f,new Map([[m,b]])):y.set(m,b),b.then((()=>{const e=u.get(f);void 0===e?u.set(f,new Set([m])):e.add(m)})).finally((()=>{const e=c.get(f);void 0!==e&&e.delete(m)})),b}})(Yr,Tr,(e=>t=>new Promise(((n,r)=>{if(null===e)return void r(new SyntaxError);const i=e.document.head;if(null===i)r(new SyntaxError);else{const o=e.document.createElement("script"),a=new Blob([t],{type:"application/javascript"}),s=URL.createObjectURL(a),l=e.onerror,c=()=>{e.onerror=l,URL.revokeObjectURL(s)};e.onerror=(t,n,i,o,a)=>n===s||n===e.location.href&&1===i&&1===o?(c(),r(a),!1):null!==l?l(t,n,i,o,a):void 0,o.onerror=()=>{c(),r(new SyntaxError)},o.onload=()=>{c(),n()},o.src=s,o.type="module",i.appendChild(o)}})))(Zr),Po,(e=>async t=>{try{const e=await fetch(t);if(e.ok)return[await e.text(),e.url]}catch(n){}throw e()})((()=>new DOMException("","AbortError"))),ni,Io,oi,di,new WeakMap,new WeakMap,((e,t)=>async()=>{if(null===e)return!0;if(null===t)return!1;const n=new Blob(['class A extends AudioWorkletProcessor{process(i){this.port.postMessage(i,[i[0][0].buffer])}}registerProcessor("a",A)'],{type:"application/javascript; charset=utf-8"}),r=new t(1,128,44100),i=URL.createObjectURL(n);let o=!1,a=!1;try{await r.audioWorklet.addModule(i);const t=new e(r,"a",{numberOfOutputs:0}),n=r.createOscillator();t.port.onmessage=()=>o=!0,t.onprocessorerror=()=>a=!0,n.connect(t),n.start(0),await r.startRendering(),await new Promise((e=>setTimeout(e)))}catch(s){}finally{URL.revokeObjectURL(i)}return o&&!a})(di,ii),Zr):void 0,Do=((e,t)=>n=>e(n)||t(n))(ci,oi),Lo=((e,t,n,r,i,o,a,s,l,c,u)=>(h,d)=>{const p=a(h)?h:o(h);if(i.has(d)){const e=n();return Promise.reject(e)}try{i.add(d)}catch(f){}return t(l,(()=>l(p)))?p.decodeAudioData(d).then((n=>(Gn(d).catch((()=>{})),t(s,(()=>s(n)))||u(n),e.add(n),n))):new Promise(((t,n)=>{const i=async()=>{try{await Gn(d)}catch(e){}},o=e=>{n(e),i()};try{p.decodeAudioData(d,(n=>{"function"!==typeof n.copyFromChannel&&(c(n),nn(n)),e.add(n),i().then((()=>t(n)))}),(e=>{o(null===e?r():e)}))}catch(a){o(a)}}))})(gi,Yr,(()=>new DOMException("","DataCloneError")),(()=>new DOMException("","EncodingError")),new WeakSet,ni,Do,en,rr,bi,wi),jo=((e,t,n,r,i,o,a,s,c,u,h,d,p,f,m,g,v,y,_,b)=>class extends m{constructor(t,n){super(t,n),this._nativeContext=t,this._audioWorklet=void 0===e?void 0:{addModule:(t,n)=>e(this,t,n)}}get audioWorklet(){return this._audioWorklet}createAnalyser(){return new t(this)}createBiquadFilter(){return new i(this)}createBuffer(e,t,r){return new n({length:t,numberOfChannels:e,sampleRate:r})}createBufferSource(){return new r(this)}createChannelMerger(){return new o(this,{numberOfInputs:arguments.length>0&&void 0!==arguments[0]?arguments[0]:6})}createChannelSplitter(){return new a(this,{numberOfOutputs:arguments.length>0&&void 0!==arguments[0]?arguments[0]:6})}createConstantSource(){return new s(this)}createConvolver(){return new c(this)}createDelay(){return new h(this,{maxDelayTime:arguments.length>0&&void 0!==arguments[0]?arguments[0]:1})}createDynamicsCompressor(){return new d(this)}createGain(){return new p(this)}createIIRFilter(e,t){return new f(this,{feedback:t,feedforward:e})}createOscillator(){return new g(this)}createPanner(){return new v(this)}createPeriodicWave(e,t){return new y(this,l(l({},arguments.length>2&&void 0!==arguments[2]?arguments[2]:{disableNormalization:!1}),{},{imag:t,real:e}))}createStereoPanner(){return new _(this)}createWaveShaper(){return new b(this)}decodeAudioData(e,t,n){return u(this._nativeContext,e).then((e=>("function"===typeof t&&t(e),e)),(e=>{throw"function"===typeof n&&n(e),e}))}})(Ro,mi,ki,Pi,Di,zi,Bi,$i,Qi,Lo,Zi,eo,no,so,uo,fo,wo,So,Eo,Oo),Fo=((e,t,n,r)=>class extends e{constructor(e,i){const o=n(e),a=t(o,i);if(r(o))throw TypeError();super(e,!0,a,null),this._nativeMediaElementAudioSourceNode=a}get mediaElement(){return this._nativeMediaElementAudioSourceNode.mediaElement}})(pi,((e,t)=>e.createMediaElementSource(t.mediaElement)),ni,oi),Vo=((e,t,n,r)=>class extends e{constructor(e,i){const o=n(e);if(r(o))throw new TypeError;const a=l(l({},nr),i),s=t(o,a);super(e,!1,s,null),this._nativeMediaStreamAudioDestinationNode=s}get stream(){return this._nativeMediaStreamAudioDestinationNode.stream}})(pi,((e,t)=>{const n=e.createMediaStreamDestination();return ar(n,t),1===n.numberOfOutputs&&Object.defineProperty(n,"numberOfOutputs",{get:()=>0}),n}),ni,oi),zo=((e,t,n,r)=>class extends e{constructor(e,i){const o=n(e),a=t(o,i);if(r(o))throw new TypeError;super(e,!0,a,null),this._nativeMediaStreamAudioSourceNode=a}get mediaStream(){return this._nativeMediaStreamAudioSourceNode.mediaStream}})(pi,((e,t)=>{let{mediaStream:n}=t;const r=n.getAudioTracks();r.sort(((e,t)=>e.id<t.id?-1:e.id>t.id?1:0));const i=r.slice(0,1),o=e.createMediaStreamSource(new MediaStream(i));return Object.defineProperty(o,"mediaStream",{value:n}),o}),ni,oi),qo=((e,t)=>(n,r)=>{let{mediaStreamTrack:i}=r;if("function"===typeof n.createMediaStreamTrackSource)return n.createMediaStreamTrackSource(i);const o=new MediaStream([i]),a=n.createMediaStreamSource(o);if("audio"!==i.kind)throw e();if(t(n))throw new TypeError;return a})(Kn,oi),Bo=((e,t,n)=>class extends e{constructor(e,r){const i=n(e);super(e,!0,t(i,r),null)}})(pi,qo,ni),Uo=((e,t,n,r,i,o,a,s,l)=>class extends e{constructor(){let e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(null===l)throw new Error("Missing the native AudioContext constructor.");try{e=new l(t)}catch(a){if(12===a.code&&"sampleRate is not in range"===a.message)throw n();throw a}if(null===e)throw r();if(!pn(t.latencyHint))throw new TypeError("The provided value '".concat(t.latencyHint,"' is not a valid enum value of type AudioContextLatencyCategory."));if(void 0!==t.sampleRate&&e.sampleRate!==t.sampleRate)throw n();super(e,2);const{latencyHint:i}=t,{sampleRate:o}=e;if(this._baseLatency="number"===typeof e.baseLatency?e.baseLatency:"balanced"===i?512/o:"interactive"===i||void 0===i?256/o:"playback"===i?1024/o:128*Math.max(2,Math.min(128,Math.round(i*o/128)))/o,this._nativeAudioContext=e,"webkitAudioContext"===l.name?(this._nativeGainNode=e.createGain(),this._nativeOscillatorNode=e.createOscillator(),this._nativeGainNode.gain.value=1e-37,this._nativeOscillatorNode.connect(this._nativeGainNode).connect(e.destination),this._nativeOscillatorNode.start()):(this._nativeGainNode=null,this._nativeOscillatorNode=null),this._state=null,"running"===e.state){this._state="suspended";const t=()=>{"suspended"===this._state&&(this._state=null),e.removeEventListener("statechange",t)};e.addEventListener("statechange",t)}}get baseLatency(){return this._baseLatency}get state(){return null!==this._state?this._state:this._nativeAudioContext.state}close(){return"closed"===this.state?this._nativeAudioContext.close().then((()=>{throw t()})):("suspended"===this._state&&(this._state=null),this._nativeAudioContext.close().then((()=>{null!==this._nativeGainNode&&null!==this._nativeOscillatorNode&&(this._nativeOscillatorNode.stop(),this._nativeGainNode.disconnect(),this._nativeOscillatorNode.disconnect()),dn(this)})))}createMediaElementSource(e){return new i(this,{mediaElement:e})}createMediaStreamDestination(){return new o(this)}createMediaStreamSource(e){return new a(this,{mediaStream:e})}createMediaStreamTrackSource(e){return new s(this,{mediaStreamTrack:e})}resume(){return"suspended"===this._state?new Promise(((e,t)=>{const n=()=>{this._nativeAudioContext.removeEventListener("statechange",n),"running"===this._nativeAudioContext.state?e():this.resume().then(e,t)};this._nativeAudioContext.addEventListener("statechange",n)})):this._nativeAudioContext.resume().catch((e=>{if(void 0===e||15===e.code)throw t();throw e}))}suspend(){return this._nativeAudioContext.suspend().catch((e=>{if(void 0===e)throw t();throw e}))}})(jo,Kn,Tr,Nr,Fo,Vo,zo,Bo,li),Wo=(e=>t=>{const n=e.get(t);if(void 0===n)throw new Error("The context has no set of AudioWorkletNodes.");return n})(co),Ho=(e=>(t,n)=>{e(t).add(n)})(Wo),$o=(e=>function(t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;const i=t[arguments.length>2&&void 0!==arguments[2]?arguments[2]:0];if(void 0===i)throw e();return Pn(n)?i.connect(n,0,r):i.connect(n,0)})(tn),Go=(e=>(t,n)=>{e(t).delete(n)})(Wo),Yo=(e=>function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return void 0===n?t.forEach((e=>e.disconnect())):"number"===typeof n?Qn(e,t,n).disconnect():Pn(n)?void 0===r?t.forEach((e=>e.disconnect(n))):void 0===i?Qn(e,t,r).disconnect(n,0):Qn(e,t,r).disconnect(n,0,i):void 0===r?t.forEach((e=>e.disconnect(n))):Qn(e,t,r).disconnect(n,0)})(tn),Qo=new WeakMap,Xo=((e,t)=>n=>t(e,n))(Qo,Wt),Zo=((e,t,n,r,i,o,a,s,c,u,h,d,p)=>(f,m,g,v)=>{if(0===v.numberOfInputs&&0===v.numberOfOutputs)throw c();const y=Array.isArray(v.outputChannelCount)?v.outputChannelCount:Array.from(v.outputChannelCount);if(y.some((e=>e<1)))throw c();if(y.length!==v.numberOfOutputs)throw t();if("explicit"!==v.channelCountMode)throw c();const _=v.channelCount*v.numberOfInputs,b=y.reduce(((e,t)=>e+t),0),w=void 0===g.parameterDescriptors?0:g.parameterDescriptors.length;if(_+w>6||b>6)throw c();const k=new MessageChannel,S=[],x=[];for(let e=0;e<v.numberOfInputs;e+=1)S.push(a(f,{channelCount:v.channelCount,channelCountMode:v.channelCountMode,channelInterpretation:v.channelInterpretation,gain:1})),x.push(i(f,{channelCount:v.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:v.channelCount}));const C=[];if(void 0!==g.parameterDescriptors)for(const{defaultValue:e,maxValue:t,minValue:n,name:r}of g.parameterDescriptors){const i=o(f,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:void 0!==v.parameterData[r]?v.parameterData[r]:void 0===e?0:e});Object.defineProperties(i.offset,{defaultValue:{get:()=>void 0===e?0:e},maxValue:{get:()=>void 0===t?an:t},minValue:{get:()=>void 0===n?on:n}}),C.push(i)}const T=r(f,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,_+w)}),E=hr(m,f.sampleRate),A=s(f,E,_+w,Math.max(1,b)),O=i(f,{channelCount:Math.max(1,b),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,b)}),M=[];for(let e=0;e<v.numberOfOutputs;e+=1)M.push(r(f,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:y[e]}));for(let e=0;e<v.numberOfInputs;e+=1){S[e].connect(x[e]);for(let t=0;t<v.channelCount;t+=1)x[e].connect(T,t,e*v.channelCount+t)}const P=new Ln(void 0===g.parameterDescriptors?[]:g.parameterDescriptors.map(((e,t)=>{let{name:n}=e;const r=C[t];return r.connect(T,0,_+t),r.start(0),[n,r.offset]})));T.connect(A);let N=v.channelInterpretation,I=null;const R=0===v.numberOfOutputs?[A]:M,D={get bufferSize(){return E},get channelCount(){return v.channelCount},set channelCount(e){throw n()},get channelCountMode(){return v.channelCountMode},set channelCountMode(e){throw n()},get channelInterpretation(){return N},set channelInterpretation(e){for(const t of S)t.channelInterpretation=e;N=e},get context(){return A.context},get inputs(){return S},get numberOfInputs(){return v.numberOfInputs},get numberOfOutputs(){return v.numberOfOutputs},get onprocessorerror(){return I},set onprocessorerror(e){"function"===typeof I&&D.removeEventListener("processorerror",I),I="function"===typeof e?e:null,"function"===typeof I&&D.addEventListener("processorerror",I)},get parameters(){return P},get port(){return k.port2},addEventListener(){return A.addEventListener(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],arguments.length<=2?void 0:arguments[2])},connect:e.bind(null,R),disconnect:u.bind(null,R),dispatchEvent(){return A.dispatchEvent(arguments.length<=0?void 0:arguments[0])},removeEventListener(){return A.removeEventListener(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],arguments.length<=2?void 0:arguments[2])}},L=new Map;var j,F;k.port1.addEventListener=(j=k.port1.addEventListener,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if("message"===t[0]){const e="function"===typeof t[1]?t[1]:"object"===typeof t[1]&&null!==t[1]&&"function"===typeof t[1].handleEvent?t[1].handleEvent:null;if(null!==e){const n=L.get(t[1]);void 0!==n?t[1]=n:(t[1]=t=>{h(f.currentTime,f.sampleRate,(()=>e(t)))},L.set(e,t[1]))}}return j.call(k.port1,t[0],t[1],t[2])}),k.port1.removeEventListener=(F=k.port1.removeEventListener,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if("message"===t[0]){const e=L.get(t[1]);void 0!==e&&(L.delete(t[1]),t[1]=e)}return F.call(k.port1,t[0],t[1],t[2])});let V=null;Object.defineProperty(k.port1,"onmessage",{get:()=>V,set:e=>{"function"===typeof V&&k.port1.removeEventListener("message",V),V="function"===typeof e?e:null,"function"===typeof V&&(k.port1.addEventListener("message",V),k.port1.start())}}),g.prototype.port=k.port1;let z=null;const q=((e,t,n,r)=>{let i=Ft.get(e);void 0===i&&(i=new WeakMap,Ft.set(e,i));const o=dr(n,r);return i.set(t,o),o})(f,D,g,v);q.then((e=>z=e));const B=zn(v.numberOfInputs,v.channelCount),U=zn(v.numberOfOutputs,y),W=void 0===g.parameterDescriptors?[]:g.parameterDescriptors.reduce(((e,t)=>{let{name:n}=t;return l(l({},e),{},{[n]:new Float32Array(128)})}),{});let H=!0;const $=()=>{v.numberOfOutputs>0&&A.disconnect(O);for(let e=0,t=0;e<v.numberOfOutputs;e+=1){const n=M[e];for(let r=0;r<y[e];r+=1)O.disconnect(n,t+r,r);t+=y[e]}},G=new Map;A.onaudioprocess=e=>{let{inputBuffer:t,outputBuffer:n}=e;if(null!==z){const e=d(D);for(let i=0;i<E;i+=128){for(let e=0;e<v.numberOfInputs;e+=1)for(let n=0;n<v.channelCount;n+=1)Fn(t,B[e],n,n,i);void 0!==g.parameterDescriptors&&g.parameterDescriptors.forEach(((e,n)=>{let{name:r}=e;Fn(t,W,r,_+n,i)}));for(let e=0;e<v.numberOfInputs;e+=1)for(let t=0;t<y[e];t+=1)0===U[e][t].byteLength&&(U[e][t]=new Float32Array(128));try{const t=B.map(((t,n)=>{if(e[n].size>0)return G.set(n,E/128),t;const r=G.get(n);return void 0===r?[]:(t.every((e=>e.every((e=>0===e))))&&(1===r?G.delete(n):G.set(n,r-1)),t)})),r=h(f.currentTime+i/f.sampleRate,f.sampleRate,(()=>z.process(t,U,W)));H=r;for(let e=0,o=0;e<v.numberOfOutputs;e+=1){for(let t=0;t<y[e];t+=1)Vn(n,U[e],t,o+t,i);o+=y[e]}}catch(r){H=!1,D.dispatchEvent(new ErrorEvent("processorerror",{colno:r.colno,filename:r.filename,lineno:r.lineno,message:r.message}))}if(!H){for(let e=0;e<v.numberOfInputs;e+=1){S[e].disconnect(x[e]);for(let t=0;t<v.channelCount;t+=1)x[i].disconnect(T,t,e*v.channelCount+t)}if(void 0!==g.parameterDescriptors){const e=g.parameterDescriptors.length;for(let t=0;t<e;t+=1){const e=C[t];e.disconnect(T,0,_+t),e.stop()}}T.disconnect(A),A.onaudioprocess=null,Y?$():Z();break}}}};let Y=!1;const Q=a(f,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0}),X=()=>A.connect(Q).connect(f.destination),Z=()=>{A.disconnect(Q),Q.disconnect()};return X(),p(D,(()=>{if(H){Z(),v.numberOfOutputs>0&&A.connect(O);for(let e=0,t=0;e<v.numberOfOutputs;e+=1){const n=M[e];for(let r=0;r<y[e];r+=1)O.connect(n,t+r,r);t+=y[e]}}Y=!0}),(()=>{H&&(X(),$()),Y=!1}))})($o,tn,Kn,Fi,fr,Wi,yr,Sr,Tr,Yo,Po,Xo,Li),Ko=((e,t,n,r,i)=>(o,a,s,c,u,h)=>{if(null!==s)try{const t=new s(o,c,h),r=new Map;let a=null;if(Object.defineProperties(t,{channelCount:{get:()=>h.channelCount,set:()=>{throw e()}},channelCountMode:{get:()=>"explicit",set:()=>{throw e()}},onprocessorerror:{get:()=>a,set:e=>{"function"===typeof a&&t.removeEventListener("processorerror",a),a="function"===typeof e?e:null,"function"===typeof a&&t.addEventListener("processorerror",a)}}}),t.addEventListener=(p=t.addEventListener,function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];if("processorerror"===n[0]){const e="function"===typeof n[1]?n[1]:"object"===typeof n[1]&&null!==n[1]&&"function"===typeof n[1].handleEvent?n[1].handleEvent:null;if(null!==e){const t=r.get(n[1]);void 0!==t?n[1]=t:(n[1]=t=>{"error"===t.type?(Object.defineProperties(t,{type:{value:"processorerror"}}),e(t)):e(new ErrorEvent(n[0],l({},t)))},r.set(e,n[1]))}}return p.call(t,"error",n[1],n[2]),p.call(t,...n)}),t.removeEventListener=(d=t.removeEventListener,function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];if("processorerror"===n[0]){const e=r.get(n[1]);void 0!==e&&(r.delete(n[1]),n[1]=e)}return d.call(t,"error",n[1],n[2]),d.call(t,n[0],n[1],n[2])}),0!==h.numberOfOutputs){const e=n(o,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});t.connect(e).connect(o.destination);return i(t,(()=>e.disconnect()),(()=>e.connect(o.destination)))}return t}catch(f){if(11===f.code)throw r();throw f}var d,p;if(void 0===u)throw r();return(e=>{const{port1:t}=new MessageChannel;try{t.postMessage(e)}finally{t.close()}})(h),t(o,a,u,h)})(Kn,Zo,yr,Tr,Li),Jo=((e,t,n,r,i,o,a,s,l,c,u,h,d,p,f,m)=>(g,v,y)=>{const _=new WeakMap;let b=null;return{render(w,k){s(k,w);const S=_.get(k);return void 0!==S?Promise.resolve(S):(async(s,w)=>{let k=u(s),S=null;const x=Jt(k,w),C=Array.isArray(v.outputChannelCount)?v.outputChannelCount:Array.from(v.outputChannelCount);if(null===h){const e=C.reduce(((e,t)=>e+t),0),n=i(w,{channelCount:Math.max(1,e),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,e)}),o=[];for(let t=0;t<s.numberOfOutputs;t+=1)o.push(r(w,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:C[t]}));const c=a(w,{channelCount:v.channelCount,channelCountMode:v.channelCountMode,channelInterpretation:v.channelInterpretation,gain:1});c.connect=t.bind(null,o),c.disconnect=l.bind(null,o),S=[n,o,c]}else x||(k=new h(w,g));if(_.set(w,null===S?k:S[2]),null!==S){if(null===b){if(void 0===y)throw new Error("Missing the processor constructor.");if(null===d)throw new Error("Missing the native OfflineAudioContext constructor.");const e=s.channelCount*s.numberOfInputs,t=void 0===y.parameterDescriptors?0:y.parameterDescriptors.length,n=e+t,l=async()=>{const l=new d(n,128*Math.ceil(s.context.length/128),w.sampleRate),c=[],u=[];for(let e=0;e<v.numberOfInputs;e+=1)c.push(a(l,{channelCount:v.channelCount,channelCountMode:v.channelCountMode,channelInterpretation:v.channelInterpretation,gain:1})),u.push(i(l,{channelCount:v.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:v.channelCount}));const h=await Promise.all(Array.from(s.parameters.values()).map((async e=>{const t=o(l,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:e.value});return await p(l,e,t.offset),t}))),g=r(l,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,e+t)});for(let e=0;e<v.numberOfInputs;e+=1){c[e].connect(u[e]);for(let t=0;t<v.channelCount;t+=1)u[e].connect(g,t,e*v.channelCount+t)}for(const[t,n]of h.entries())n.connect(g,0,e+t),n.start(0);return g.connect(l.destination),await Promise.all(c.map((e=>f(s,l,e)))),m(l)};b=qn(s,0===n?null:await l(),w,v,C,y,c)}const e=await b,t=n(w,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),[l,u,h]=S;null!==e&&(t.buffer=e,t.start(0)),t.connect(l);for(let n=0,r=0;n<s.numberOfOutputs;n+=1){const e=u[n];for(let t=0;t<C[n];t+=1)l.connect(e,r+t,t);r+=C[n]}return h}if(x)for(const[t,n]of s.parameters.entries())await e(w,n,k.parameters.get(t));else for(const[e,t]of s.parameters.entries())await p(w,t,k.parameters.get(e));return await f(s,w,k),k})(w,k)}}})(Ci,$o,Ti,Fi,fr,Wi,yr,Go,Yo,Po,Cn,di,ii,Ei,ei,io),ea=(e=>t=>e.get(t))(No),ta=(e=>(t,n)=>{e.set(t,n)})(Qo),na=Mo?((e,t,n,r,i,o,a,s,c,u,h,d,p,f)=>class extends t{constructor(t,f,m){var g;const v=s(t),y=c(v),_=h(l(l({},jn),m));p(_);const b=jt.get(v),w=null===b||void 0===b?void 0:b.get(f),k=y||"closed"!==v.state?v:null!==(g=a(v))&&void 0!==g?g:v,S=i(k,y?null:t.baseLatency,u,f,w,_);super(t,!0,S,y?r(f,_,w):null);const x=[];S.parameters.forEach(((e,t)=>{const r=n(this,y,e);x.push([t,r])})),this._nativeAudioWorkletNode=S,this._onprocessorerror=null,this._parameters=new Ln(x),y&&e(v,this);const{activeInputs:C}=o(this);d(S,C)}get onprocessorerror(){return this._onprocessorerror}set onprocessorerror(e){const t="function"===typeof e?f(this,e):null;this._nativeAudioWorkletNode.onprocessorerror=t;const n=this._nativeAudioWorkletNode.onprocessorerror;this._onprocessorerror=null!==n&&n===t?e:n}get parameters(){return null===this._parameters?this._nativeAudioWorkletNode.parameters:this._parameters}get port(){return this._nativeAudioWorkletNode.port}})(Ho,pi,Oi,Jo,Ko,cn,ea,ni,oi,di,(e=>l(l({},e),{},{outputChannelCount:void 0!==e.outputChannelCount?e.outputChannelCount:1===e.numberOfInputs&&1===e.numberOfOutputs?[e.channelCount]:Array.from({length:e.numberOfOutputs},(()=>1))})),ta,(e=>{const{port1:t,port2:n}=new MessageChannel;try{t.postMessage(e)}finally{t.close(),n.close()}}),Br):void 0,ra=(((e,t,n,r,i)=>{})(Kn,Tr,Nr,uo,li),((e,t)=>(n,r,i)=>{if(null===t)throw new Error("Missing the native OfflineAudioContext constructor.");try{return new t(n,r,i)}catch(o){if("SyntaxError"===o.name)throw e();throw o}})(Tr,ii)),ia=((e,t,n,r,i,o,a,s)=>(l,c)=>n(l).render(l,c).then((()=>Promise.all(Array.from(r(c)).map((e=>n(e).render(e,c)))))).then((()=>i(c))).then((n=>("function"!==typeof n.copyFromChannel?(a(n),nn(n)):t(o,(()=>o(n)))||s(n),e.add(n),n))))(gi,Yr,Jr,Wo,io,en,bi,wi),oa=(((e,t,n,r,i)=>{})(Yr,Kn,ra,uo,ia),((e,t,n,r,i)=>class extends e{constructor(e,n,i){let o;if("number"===typeof e&&void 0!==n&&void 0!==i)o={length:n,numberOfChannels:e,sampleRate:i};else{if("object"!==typeof e)throw new Error("The given parameters are not valid.");o=e}const{length:a,numberOfChannels:s,sampleRate:c}=l(l({},Er),o),u=r(s,a,c);t(rr,(()=>rr(u)))||u.addEventListener("statechange",(()=>{let e=0;const t=n=>{"running"===this._state&&(e>0?(u.removeEventListener("statechange",t),n.stopImmediatePropagation(),this._waitForThePromiseToSettle(n)):e+=1)};return t})()),super(u,s),this._length=a,this._nativeOfflineAudioContext=u,this._state=null}get length(){return void 0===this._nativeOfflineAudioContext.length?this._length:this._nativeOfflineAudioContext.length}get state(){return null===this._state?this._nativeOfflineAudioContext.state:this._state}startRendering(){return"running"===this._state?Promise.reject(n()):(this._state="running",i(this.destination,this._nativeOfflineAudioContext).finally((()=>{this._state=null,dn(this)})))}_waitForThePromiseToSettle(e){null===this._state?this._nativeOfflineAudioContext.dispatchEvent(e):setTimeout((()=>this._waitForThePromiseToSettle(e)))}})(jo,Yr,Kn,ra,ia)),aa=((e,t)=>n=>{const r=e.get(n);return t(r)||t(n)})(Rt,ci),sa=((e,t)=>n=>e.has(n)||t(n))(Pt,ui),la=((e,t)=>n=>e.has(n)||t(n))(It,hi),ca=((e,t)=>n=>{const r=e.get(n);return t(r)||t(n)})(Rt,oi);function ua(e){return void 0===e}function ha(e){return void 0!==e}function da(e){return"number"===typeof e}function pa(e){return"[object Object]"===Object.prototype.toString.call(e)&&e.constructor===Object}function fa(e){return"boolean"===typeof e}function ma(e){return Array.isArray(e)}function ga(e){return"string"===typeof e}function va(e){return ga(e)&&/^([a-g]{1}(?:b|#|x|bb)?)(-?[0-9]+)/i.test(e)}function ya(e,t){if(!e)throw new Error(t)}function _a(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1/0;if(!(t<=e&&e<=n))throw new RangeError("Value must be within [".concat(t,", ").concat(n,"], got: ").concat(e))}function ba(e){e.isOffline||"running"===e.state||Ca('The AudioContext is "suspended". Invoke Tone.start() from a user action to start the audio.')}let wa=!1,ka=!1;function Sa(e){wa=e}let xa=console;function Ca(){xa.warn(...arguments)}const Ta="object"===typeof self?self:null,Ea=Ta&&(Ta.hasOwnProperty("AudioContext")||Ta.hasOwnProperty("webkitAudioContext"));function Aa(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a}function Oa(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{l(r.next(e))}catch(Yb){o(Yb)}}function s(e){try{l(r.throw(e))}catch(Yb){o(Yb)}}function l(e){e.done?i(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(a,s)}l((r=r.apply(e,t||[])).next())}))}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;class Ma{constructor(e,t,n,r){this._callback=e,this._type=t,this._minimumUpdateInterval=Math.max(128/(r||44100),.001),this.updateInterval=n,this._createClock()}_createWorker(){const e=new Blob(["\n\t\t\t// the initial timeout time\n\t\t\tlet timeoutTime =  ".concat((1e3*this._updateInterval).toFixed(1),";\n\t\t\t// onmessage callback\n\t\t\tself.onmessage = function(msg){\n\t\t\t\ttimeoutTime = parseInt(msg.data);\n\t\t\t};\n\t\t\t// the tick function which posts a message\n\t\t\t// and schedules a new tick\n\t\t\tfunction tick(){\n\t\t\t\tsetTimeout(tick, timeoutTime);\n\t\t\t\tself.postMessage('tick');\n\t\t\t}\n\t\t\t// call tick initially\n\t\t\ttick();\n\t\t\t")],{type:"text/javascript"}),t=URL.createObjectURL(e),n=new Worker(t);n.onmessage=this._callback.bind(this),this._worker=n}_createTimeout(){this._timeout=setTimeout((()=>{this._createTimeout(),this._callback()}),1e3*this._updateInterval)}_createClock(){if("worker"===this._type)try{this._createWorker()}catch(Yb){this._type="timeout",this._createClock()}else"timeout"===this._type&&this._createTimeout()}_disposeClock(){this._timeout&&clearTimeout(this._timeout),this._worker&&(this._worker.terminate(),this._worker.onmessage=null)}get updateInterval(){return this._updateInterval}set updateInterval(e){var t;this._updateInterval=Math.max(e,this._minimumUpdateInterval),"worker"===this._type&&(null===(t=this._worker)||void 0===t||t.postMessage(1e3*this._updateInterval))}get type(){return this._type}set type(e){this._disposeClock(),this._type=e,this._createClock()}dispose(){this._disposeClock()}}function Pa(e){return la(e)}function Na(e){return sa(e)}function Ia(e){return ca(e)}function Ra(e){return aa(e)}function Da(e,t){return"value"===e||Pa(t)||Na(t)||function(e){return e instanceof ki}(t)}function La(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(!n.length)return e;const i=n.shift();if(pa(e)&&pa(i))for(const o in i)Da(o,i[o])?e[o]=i[o]:pa(i[o])?(e[o]||Object.assign(e,{[o]:{}}),La(e[o],i[o])):Object.assign(e,{[o]:i[o]});return La(e,...n)}function ja(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3?arguments[3]:void 0;const i={},o=Array.from(t);if(pa(o[0])&&r&&!Reflect.has(o[0],r)){Object.keys(o[0]).some((t=>Reflect.has(e,t)))||(La(i,{[r]:o[0]}),n.splice(n.indexOf(r),1),o.shift())}if(1===o.length&&pa(o[0]))La(i,o[0]);else for(let a=0;a<n.length;a++)ha(o[a])&&(i[n[a]]=o[a]);return La(e,i)}function Fa(e,t){return ua(e)?t:e}function Va(e,t){return t.forEach((t=>{Reflect.has(e,t)&&delete e[t]})),e}class za{constructor(){this.debug=!1,this._wasDisposed=!1}static getDefaults(){return{}}log(){if(this.debug||Ta&&this.toString()===Ta.TONE_DEBUG_CLASS){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];!function(){xa.log(...arguments)}(this,...t)}}dispose(){return this._wasDisposed=!0,this}get disposed(){return this._wasDisposed}toString(){return this.name}}za.version=Et;const qa=1e-6;function Ba(e,t){return e>t+qa}function Ua(e,t){return Ba(e,t)||Ha(e,t)}function Wa(e,t){return e+qa<t}function Ha(e,t){return Math.abs(e-t)<qa}function $a(e,t,n){return Math.max(Math.min(e,n),t)}class Ga extends za{constructor(){super(),this.name="Timeline",this._timeline=[];const e=ja(Ga.getDefaults(),arguments,["memory"]);this.memory=e.memory,this.increasing=e.increasing}static getDefaults(){return{memory:1/0,increasing:!1}}get length(){return this._timeline.length}add(e){if(ya(Reflect.has(e,"time"),"Timeline: events must have a time attribute"),e.time=e.time.valueOf(),this.increasing&&this.length){const t=this._timeline[this.length-1];ya(Ua(e.time,t.time),"The time must be greater than or equal to the last scheduled time"),this._timeline.push(e)}else{const t=this._search(e.time);this._timeline.splice(t+1,0,e)}if(this.length>this.memory){const e=this.length-this.memory;this._timeline.splice(0,e)}return this}remove(e){const t=this._timeline.indexOf(e);return-1!==t&&this._timeline.splice(t,1),this}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"time";const n=this._search(e,t);return-1!==n?this._timeline[n]:null}peek(){return this._timeline[0]}shift(){return this._timeline.shift()}getAfter(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"time";const n=this._search(e,t);return n+1<this._timeline.length?this._timeline[n+1]:null}getBefore(e){const t=this._timeline.length;if(t>0&&this._timeline[t-1].time<e)return this._timeline[t-1];const n=this._search(e);return n-1>=0?this._timeline[n-1]:null}cancel(e){if(this._timeline.length>1){let t=this._search(e);if(t>=0)if(Ha(this._timeline[t].time,e)){for(let n=t;n>=0&&Ha(this._timeline[n].time,e);n--)t=n;this._timeline=this._timeline.slice(0,t)}else this._timeline=this._timeline.slice(0,t+1);else this._timeline=[]}else 1===this._timeline.length&&Ua(this._timeline[0].time,e)&&(this._timeline=[]);return this}cancelBefore(e){const t=this._search(e);return t>=0&&(this._timeline=this._timeline.slice(t+1)),this}previousEvent(e){const t=this._timeline.indexOf(e);return t>0?this._timeline[t-1]:null}_search(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"time";if(0===this._timeline.length)return-1;let n=0;const r=this._timeline.length;let i=r;if(r>0&&this._timeline[r-1][t]<=e)return r-1;for(;n<i;){let r=Math.floor(n+(i-n)/2);const o=this._timeline[r],a=this._timeline[r+1];if(Ha(o[t],e)){for(let n=r;n<this._timeline.length;n++){if(!Ha(this._timeline[n][t],e))break;r=n}return r}if(Wa(o[t],e)&&Ba(a[t],e))return r;Ba(o[t],e)?i=r:n=r+1}return-1}_iterate(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this._timeline.length-1;this._timeline.slice(t,n+1).forEach(e)}forEach(e){return this._iterate(e),this}forEachBefore(e,t){const n=this._search(e);return-1!==n&&this._iterate(t,0,n),this}forEachAfter(e,t){const n=this._search(e);return this._iterate(t,n+1),this}forEachBetween(e,t,n){let r=this._search(e),i=this._search(t);return-1!==r&&-1!==i?(this._timeline[r].time!==e&&(r+=1),this._timeline[i].time===t&&(i-=1),this._iterate(n,r,i)):-1===r&&this._iterate(n,0,i),this}forEachFrom(e,t){let n=this._search(e);for(;n>=0&&this._timeline[n].time>=e;)n--;return this._iterate(t,n+1),this}forEachAtTime(e,t){const n=this._search(e);if(-1!==n&&Ha(this._timeline[n].time,e)){let r=n;for(let t=n;t>=0&&Ha(this._timeline[t].time,e);t--)r=t;this._iterate((e=>{t(e)}),r,n)}return this}dispose(){return super.dispose(),this._timeline=[],this}}const Ya=[];function Qa(e){Ya.push(e)}const Xa=[];function Za(e){Xa.push(e)}class Ka extends za{constructor(){super(...arguments),this.name="Emitter"}on(e,t){return e.split(/\W+/).forEach((e=>{ua(this._events)&&(this._events={}),this._events.hasOwnProperty(e)||(this._events[e]=[]),this._events[e].push(t)})),this}once(e,t){var n=this;const r=function(){t(...arguments),n.off(e,r)};return this.on(e,r),this}off(e,t){return e.split(/\W+/).forEach((e=>{if(ua(this._events)&&(this._events={}),this._events.hasOwnProperty(e))if(ua(t))this._events[e]=[];else{const n=this._events[e];for(let e=n.length-1;e>=0;e--)n[e]===t&&n.splice(e,1)}})),this}emit(e){if(this._events&&this._events.hasOwnProperty(e)){const i=this._events[e].slice(0);for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(let e=0,t=i.length;e<t;e++)i[e].apply(this,n)}return this}static mixin(e){["on","once","off","emit"].forEach((t=>{const n=Object.getOwnPropertyDescriptor(Ka.prototype,t);Object.defineProperty(e.prototype,t,n)}))}dispose(){return super.dispose(),this._events=void 0,this}}class Ja extends Ka{constructor(){super(...arguments),this.isOffline=!1}toJSON(){return{}}}class es extends Ja{constructor(){var e,t;super(),this.name="Context",this._constants=new Map,this._timeouts=new Ga,this._timeoutIds=0,this._initialized=!1,this._closeStarted=!1,this.isOffline=!1,this._workletPromise=null;const n=ja(es.getDefaults(),arguments,["context"]);n.context?(this._context=n.context,this._latencyHint=(null===(e=arguments[0])||void 0===e?void 0:e.latencyHint)||""):(this._context=function(e){return new Uo(e)}({latencyHint:n.latencyHint}),this._latencyHint=n.latencyHint),this._ticker=new Ma(this.emit.bind(this,"tick"),n.clockSource,n.updateInterval,this._context.sampleRate),this.on("tick",this._timeoutLoop.bind(this)),this._context.onstatechange=()=>{this.emit("statechange",this.state)},this[(null===(t=arguments[0])||void 0===t?void 0:t.hasOwnProperty("updateInterval"))?"_lookAhead":"lookAhead"]=n.lookAhead}static getDefaults(){return{clockSource:"worker",latencyHint:"interactive",lookAhead:.1,updateInterval:.05}}initialize(){var e;return this._initialized||(e=this,Ya.forEach((t=>t(e))),this._initialized=!0),this}createAnalyser(){return this._context.createAnalyser()}createOscillator(){return this._context.createOscillator()}createBufferSource(){return this._context.createBufferSource()}createBiquadFilter(){return this._context.createBiquadFilter()}createBuffer(e,t,n){return this._context.createBuffer(e,t,n)}createChannelMerger(e){return this._context.createChannelMerger(e)}createChannelSplitter(e){return this._context.createChannelSplitter(e)}createConstantSource(){return this._context.createConstantSource()}createConvolver(){return this._context.createConvolver()}createDelay(e){return this._context.createDelay(e)}createDynamicsCompressor(){return this._context.createDynamicsCompressor()}createGain(){return this._context.createGain()}createIIRFilter(e,t){return this._context.createIIRFilter(e,t)}createPanner(){return this._context.createPanner()}createPeriodicWave(e,t,n){return this._context.createPeriodicWave(e,t,n)}createStereoPanner(){return this._context.createStereoPanner()}createWaveShaper(){return this._context.createWaveShaper()}createMediaStreamSource(e){ya(Ra(this._context),"Not available if OfflineAudioContext");return this._context.createMediaStreamSource(e)}createMediaElementSource(e){ya(Ra(this._context),"Not available if OfflineAudioContext");return this._context.createMediaElementSource(e)}createMediaStreamDestination(){ya(Ra(this._context),"Not available if OfflineAudioContext");return this._context.createMediaStreamDestination()}decodeAudioData(e){return this._context.decodeAudioData(e)}get currentTime(){return this._context.currentTime}get state(){return this._context.state}get sampleRate(){return this._context.sampleRate}get listener(){return this.initialize(),this._listener}set listener(e){ya(!this._initialized,"The listener cannot be set after initialization."),this._listener=e}get transport(){return this.initialize(),this._transport}set transport(e){ya(!this._initialized,"The transport cannot be set after initialization."),this._transport=e}get draw(){return this.initialize(),this._draw}set draw(e){ya(!this._initialized,"Draw cannot be set after initialization."),this._draw=e}get destination(){return this.initialize(),this._destination}set destination(e){ya(!this._initialized,"The destination cannot be set after initialization."),this._destination=e}createAudioWorkletNode(e,t){return function(e,t,n){return ya(ha(na),"AudioWorkletNode only works in a secure context (https or localhost)"),new(e instanceof(null===Ta||void 0===Ta?void 0:Ta.BaseAudioContext)?null===Ta||void 0===Ta?void 0:Ta.AudioWorkletNode:na)(e,t,n)}(this.rawContext,e,t)}addAudioWorkletModule(e){return Oa(this,void 0,void 0,(function*(){ya(ha(this.rawContext.audioWorklet),"AudioWorkletNode is only available in a secure context (https or localhost)"),this._workletPromise||(this._workletPromise=this.rawContext.audioWorklet.addModule(e)),yield this._workletPromise}))}workletsAreReady(){return Oa(this,void 0,void 0,(function*(){(yield this._workletPromise)?this._workletPromise:Promise.resolve()}))}get updateInterval(){return this._ticker.updateInterval}set updateInterval(e){this._ticker.updateInterval=e}get clockSource(){return this._ticker.type}set clockSource(e){this._ticker.type=e}get lookAhead(){return this._lookAhead}set lookAhead(e){this._lookAhead=e,this.updateInterval=e?e/2:.01}get latencyHint(){return this._latencyHint}get rawContext(){return this._context}now(){return this._context.currentTime+this._lookAhead}immediate(){return this._context.currentTime}resume(){return Ra(this._context)?this._context.resume():Promise.resolve()}close(){return Oa(this,void 0,void 0,(function*(){var e;Ra(this._context)&&"closed"!==this.state&&!this._closeStarted&&(this._closeStarted=!0,yield this._context.close()),this._initialized&&(e=this,Xa.forEach((t=>t(e))))}))}getConstant(e){if(this._constants.has(e))return this._constants.get(e);{const t=this._context.createBuffer(1,128,this._context.sampleRate),n=t.getChannelData(0);for(let i=0;i<n.length;i++)n[i]=e;const r=this._context.createBufferSource();return r.channelCount=1,r.channelCountMode="explicit",r.buffer=t,r.loop=!0,r.start(0),this._constants.set(e,r),r}}dispose(){return super.dispose(),this._ticker.dispose(),this._timeouts.dispose(),Object.keys(this._constants).map((e=>this._constants[e].disconnect())),this.close(),this}_timeoutLoop(){const e=this.now();this._timeouts.forEachBefore(e,(e=>{e.callback(),this._timeouts.remove(e)}))}setTimeout(e,t){this._timeoutIds++;const n=this.now();return this._timeouts.add({callback:e,id:this._timeoutIds,time:n+t}),this._timeoutIds}clearTimeout(e){return this._timeouts.forEach((t=>{t.id===e&&this._timeouts.remove(t)})),this}clearInterval(e){return this.clearTimeout(e)}setInterval(e,t){const n=++this._timeoutIds,r=()=>{const i=this.now();this._timeouts.add({callback:()=>{e(),r()},id:n,time:i+t})};return r(),n}}function ts(e,t){ma(t)?t.forEach((t=>ts(e,t))):Object.defineProperty(e,t,{enumerable:!0,writable:!1})}function ns(e,t){ma(t)?t.forEach((t=>ns(e,t))):Object.defineProperty(e,t,{writable:!0})}const rs=()=>{};class is extends za{constructor(){super(),this.name="ToneAudioBuffer",this.onload=rs;const e=ja(is.getDefaults(),arguments,["url","onload","onerror"]);this.reverse=e.reverse,this.onload=e.onload,ga(e.url)?this.load(e.url).catch(e.onerror):e.url&&this.set(e.url)}static getDefaults(){return{onerror:rs,onload:rs,reverse:!1}}get sampleRate(){return this._buffer?this._buffer.sampleRate:ls().sampleRate}set(e){return e instanceof is?e.loaded?this._buffer=e.get():e.onload=()=>{this.set(e),this.onload(this)}:this._buffer=e,this._reversed&&this._reverse(),this}get(){return this._buffer}load(e){return Oa(this,void 0,void 0,(function*(){const t=is.load(e).then((e=>{this.set(e),this.onload(this)}));is.downloads.push(t);try{yield t}finally{const e=is.downloads.indexOf(t);is.downloads.splice(e,1)}return this}))}dispose(){return super.dispose(),this._buffer=void 0,this}fromArray(e){const t=ma(e)&&e[0].length>0,n=t?e.length:1,r=t?e[0].length:e.length,i=ls(),o=i.createBuffer(n,r,i.sampleRate),a=t||1!==n?e:[e];for(let s=0;s<n;s++)o.copyToChannel(a[s],s);return this._buffer=o,this}toMono(e){if(da(e))this.fromArray(this.toArray(e));else{let e=new Float32Array(this.length);const t=this.numberOfChannels;for(let n=0;n<t;n++){const t=this.toArray(n);for(let n=0;n<t.length;n++)e[n]+=t[n]}e=e.map((e=>e/t)),this.fromArray(e)}return this}toArray(e){if(da(e))return this.getChannelData(e);if(1===this.numberOfChannels)return this.toArray(0);{const e=[];for(let t=0;t<this.numberOfChannels;t++)e[t]=this.getChannelData(t);return e}}getChannelData(e){return this._buffer?this._buffer.getChannelData(e):new Float32Array(0)}slice(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.duration;ya(this.loaded,"Buffer is not loaded");const n=Math.floor(e*this.sampleRate),r=Math.floor(t*this.sampleRate);ya(n<r,"The start time must be less than the end time");const i=r-n,o=ls().createBuffer(this.numberOfChannels,i,this.sampleRate);for(let a=0;a<this.numberOfChannels;a++)o.copyToChannel(this.getChannelData(a).subarray(n,r),a);return new is(o)}_reverse(){if(this.loaded)for(let e=0;e<this.numberOfChannels;e++)this.getChannelData(e).reverse();return this}get loaded(){return this.length>0}get duration(){return this._buffer?this._buffer.duration:0}get length(){return this._buffer?this._buffer.length:0}get numberOfChannels(){return this._buffer?this._buffer.numberOfChannels:0}get reverse(){return this._reversed}set reverse(e){this._reversed!==e&&(this._reversed=e,this._reverse())}static fromArray(e){return(new is).fromArray(e)}static fromUrl(e){return Oa(this,void 0,void 0,(function*(){const t=new is;return yield t.load(e)}))}static load(e){return Oa(this,void 0,void 0,(function*(){const t=""===is.baseUrl||is.baseUrl.endsWith("/")?is.baseUrl:is.baseUrl+"/",n=yield fetch(t+e);if(!n.ok)throw new Error("could not load url: ".concat(e));const r=yield n.arrayBuffer();return yield ls().decodeAudioData(r)}))}static supportsType(e){const t=e.split("."),n=t[t.length-1];return""!==document.createElement("audio").canPlayType("audio/"+n)}static loaded(){return Oa(this,void 0,void 0,(function*(){for(yield Promise.resolve();is.downloads.length;)yield is.downloads[0]}))}}is.baseUrl="",is.downloads=[];class os extends es{constructor(){var e,t,n;super({clockSource:"offline",context:Ia(arguments[0])?arguments[0]:(e=arguments[0],t=arguments[1]*arguments[2],n=arguments[2],new oa(e,t,n)),lookAhead:0,updateInterval:Ia(arguments[0])?128/arguments[0].sampleRate:128/arguments[2]}),this.name="OfflineContext",this._currentTime=0,this.isOffline=!0,this._duration=Ia(arguments[0])?arguments[0].length/arguments[0].sampleRate:arguments[1]}now(){return this._currentTime}get currentTime(){return this._currentTime}_renderClock(e){return Oa(this,void 0,void 0,(function*(){let t=0;for(;this._duration-this._currentTime>=0;){this.emit("tick"),this._currentTime+=128/this.sampleRate,t++;const n=Math.floor(this.sampleRate/128);e&&t%n===0&&(yield new Promise((e=>setTimeout(e,1))))}}))}render(){return Oa(this,arguments,void 0,(function(){var e=this;let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return function*(){yield e.workletsAreReady(),yield e._renderClock(t);const n=yield e._context.startRendering();return new is(n)}()}))}close(){return Promise.resolve()}}const as=new class extends Ja{constructor(){super(...arguments),this.lookAhead=0,this.latencyHint=0,this.isOffline=!1}createAnalyser(){return{}}createOscillator(){return{}}createBufferSource(){return{}}createBiquadFilter(){return{}}createBuffer(e,t,n){return{}}createChannelMerger(e){return{}}createChannelSplitter(e){return{}}createConstantSource(){return{}}createConvolver(){return{}}createDelay(e){return{}}createDynamicsCompressor(){return{}}createGain(){return{}}createIIRFilter(e,t){return{}}createPanner(){return{}}createPeriodicWave(e,t,n){return{}}createStereoPanner(){return{}}createWaveShaper(){return{}}createMediaStreamSource(e){return{}}createMediaElementSource(e){return{}}createMediaStreamDestination(){return{}}decodeAudioData(e){return Promise.resolve({})}createAudioWorkletNode(e,t){return{}}get rawContext(){return{}}addAudioWorkletModule(e){return Oa(this,void 0,void 0,(function*(){return Promise.resolve()}))}resume(){return Promise.resolve()}setTimeout(e,t){return 0}clearTimeout(e){return this}setInterval(e,t){return 0}clearInterval(e){return this}getConstant(e){return{}}get currentTime(){return 0}get state(){return{}}get sampleRate(){return 0}get listener(){return{}}get transport(){return{}}get draw(){return{}}set draw(e){}get destination(){return{}}set destination(e){}now(){return 0}immediate(){return 0}};let ss=as;function ls(){return ss===as&&Ea&&function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t&&ss.dispose();ss=Ra(e)?new es(e):Ia(e)?new os(e):e}(new es),ss}function cs(){return ss.resume()}if(Ta&&!Ta.TONE_SILENCE_LOGGING){let e="v";0;const t=" * Tone.js ".concat(e).concat(Et," * ");console.log("%c".concat(t),"background: #000; color: #fff")}function us(e){return Math.pow(10,e/20)}function hs(e){return Math.log(e)/Math.LN10*20}function ds(e){return Math.pow(2,e/12)}let ps=440;function fs(e){return Math.round(ms(e))}function ms(e){return 69+12*Math.log2(e/ps)}function gs(e){return ps*Math.pow(2,(e-69)/12)}class vs extends za{constructor(e,t,n){super(),this.defaultUnits="s",this._val=t,this._units=n,this.context=e,this._expressions=this._getExpressions()}_getExpressions(){return{hz:{method:e=>this._frequencyToUnits(parseFloat(e)),regexp:/^(\d+(?:\.\d+)?)hz$/i},i:{method:e=>this._ticksToUnits(parseInt(e,10)),regexp:/^(\d+)i$/i},m:{method:e=>this._beatsToUnits(parseInt(e,10)*this._getTimeSignature()),regexp:/^(\d+)m$/i},n:{method:(e,t)=>{const n=parseInt(e,10),r="."===t?1.5:1;return 1===n?this._beatsToUnits(this._getTimeSignature())*r:this._beatsToUnits(4/n)*r},regexp:/^(\d+)n(\.?)$/i},number:{method:e=>this._expressions[this.defaultUnits].method.call(this,e),regexp:/^(\d+(?:\.\d+)?)$/},s:{method:e=>this._secondsToUnits(parseFloat(e)),regexp:/^(\d+(?:\.\d+)?)s$/},samples:{method:e=>parseInt(e,10)/this.context.sampleRate,regexp:/^(\d+)samples$/},t:{method:e=>{const t=parseInt(e,10);return this._beatsToUnits(8/(3*Math.floor(t)))},regexp:/^(\d+)t$/i},tr:{method:(e,t,n)=>{let r=0;return e&&"0"!==e&&(r+=this._beatsToUnits(this._getTimeSignature()*parseFloat(e))),t&&"0"!==t&&(r+=this._beatsToUnits(parseFloat(t))),n&&"0"!==n&&(r+=this._beatsToUnits(parseFloat(n)/4)),r},regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?$/}}}valueOf(){if(this._val instanceof vs&&this.fromType(this._val),ua(this._val))return this._noArg();if(ga(this._val)&&ua(this._units)){for(const e in this._expressions)if(this._expressions[e].regexp.test(this._val.trim())){this._units=e;break}}else if(pa(this._val)){let e=0;for(const t in this._val)if(ha(this._val[t])){const n=this._val[t];e+=new this.constructor(this.context,t).valueOf()*n}return e}if(ha(this._units)){const e=this._expressions[this._units],t=this._val.toString().trim().match(e.regexp);return t?e.method.apply(this,t.slice(1)):e.method.call(this,this._val)}return ga(this._val)?parseFloat(this._val):this._val}_frequencyToUnits(e){return 1/e}_beatsToUnits(e){return 60/this._getBpm()*e}_secondsToUnits(e){return e}_ticksToUnits(e){return e*this._beatsToUnits(1)/this._getPPQ()}_noArg(){return this._now()}_getBpm(){return this.context.transport.bpm.value}_getTimeSignature(){return this.context.transport.timeSignature}_getPPQ(){return this.context.transport.PPQ}fromType(e){switch(this._units=void 0,this.defaultUnits){case"s":this._val=e.toSeconds();break;case"i":this._val=e.toTicks();break;case"hz":this._val=e.toFrequency();break;case"midi":this._val=e.toMidi()}return this}toFrequency(){return 1/this.toSeconds()}toSamples(){return this.toSeconds()*this.context.sampleRate}toMilliseconds(){return 1e3*this.toSeconds()}}class ys extends vs{constructor(){super(...arguments),this.name="TimeClass"}_getExpressions(){return Object.assign(super._getExpressions(),{now:{method:e=>this._now()+new this.constructor(this.context,e).valueOf(),regexp:/^\+(.+)/},quantize:{method:e=>{const t=new ys(this.context,e).valueOf();return this._secondsToUnits(this.context.transport.nextSubdivision(t))},regexp:/^@(.+)/}})}quantize(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;const n=new this.constructor(this.context,e).valueOf(),r=this.valueOf();return r+(Math.round(r/n)*n-r)*t}toNotation(){const e=this.toSeconds(),t=["1m"];for(let i=1;i<9;i++){const e=Math.pow(2,i);t.push(e+"n."),t.push(e+"n"),t.push(e+"t")}t.push("0");let n=t[0],r=new ys(this.context,t[0]).toSeconds();return t.forEach((t=>{const i=new ys(this.context,t).toSeconds();Math.abs(i-e)<Math.abs(r-e)&&(n=t,r=i)})),n}toBarsBeatsSixteenths(){const e=this._beatsToUnits(1);let t=this.valueOf()/e;t=parseFloat(t.toFixed(4));const n=Math.floor(t/this._getTimeSignature());let r=t%1*4;t=Math.floor(t)%this._getTimeSignature();const i=r.toString();i.length>3&&(r=parseFloat(parseFloat(i).toFixed(3)));return[n,t,r].join(":")}toTicks(){const e=this._beatsToUnits(1);return this.valueOf()/e*this._getPPQ()}toSeconds(){return this.valueOf()}toMidi(){return fs(this.toFrequency())}_now(){return this.context.now()}}class _s extends ys{constructor(){super(...arguments),this.name="Frequency",this.defaultUnits="hz"}static get A4(){return ps}static set A4(e){!function(e){ps=e}(e)}_getExpressions(){return Object.assign({},super._getExpressions(),{midi:{regexp:/^(\d+(?:\.\d+)?midi)/,method(e){return"midi"===this.defaultUnits?e:_s.mtof(e)}},note:{regexp:/^([a-g]{1}(?:b|#|##|x|bb|###|#x|x#|bbb)?)(-?[0-9]+)/i,method(e,t){const n=bs[e.toLowerCase()]+12*(parseInt(t,10)+1);return"midi"===this.defaultUnits?n:_s.mtof(n)}},tr:{regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?/,method(e,t,n){let r=1;return e&&"0"!==e&&(r*=this._beatsToUnits(this._getTimeSignature()*parseFloat(e))),t&&"0"!==t&&(r*=this._beatsToUnits(parseFloat(t))),n&&"0"!==n&&(r*=this._beatsToUnits(parseFloat(n)/4)),r}}})}transpose(e){return new _s(this.context,this.valueOf()*ds(e))}harmonize(e){return e.map((e=>this.transpose(e)))}toMidi(){return fs(this.valueOf())}toNote(){const e=this.toFrequency(),t=Math.log2(e/_s.A4);let n=Math.round(12*t)+57;const r=Math.floor(n/12);r<0&&(n+=-12*r);return ws[n%12]+r.toString()}toSeconds(){return 1/super.toSeconds()}toTicks(){const e=this._beatsToUnits(1),t=this.valueOf()/e;return Math.floor(t*this._getPPQ())}_noArg(){return 0}_frequencyToUnits(e){return e}_ticksToUnits(e){return 1/(60*e/(this._getBpm()*this._getPPQ()))}_beatsToUnits(e){return 1/super._beatsToUnits(e)}_secondsToUnits(e){return 1/e}static mtof(e){return gs(e)}static ftom(e){return fs(e)}}const bs={cbbb:-3,cbb:-2,cb:-1,c:0,"c#":1,cx:2,"c##":2,"c###":3,"cx#":3,"c#x":3,dbbb:-1,dbb:0,db:1,d:2,"d#":3,dx:4,"d##":4,"d###":5,"dx#":5,"d#x":5,ebbb:1,ebb:2,eb:3,e:4,"e#":5,ex:6,"e##":6,"e###":7,"ex#":7,"e#x":7,fbbb:2,fbb:3,fb:4,f:5,"f#":6,fx:7,"f##":7,"f###":8,"fx#":8,"f#x":8,gbbb:4,gbb:5,gb:6,g:7,"g#":8,gx:9,"g##":9,"g###":10,"gx#":10,"g#x":10,abbb:6,abb:7,ab:8,a:9,"a#":10,ax:11,"a##":11,"a###":12,"ax#":12,"a#x":12,bbbb:8,bbb:9,bb:10,b:11,"b#":12,bx:13,"b##":13,"b###":14,"bx#":14,"b#x":14},ws=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"];class ks extends ys{constructor(){super(...arguments),this.name="TransportTime"}_now(){return this.context.transport.seconds}}class Ss extends za{constructor(){super();const e=ja(Ss.getDefaults(),arguments,["context"]);this.defaultContext?this.context=this.defaultContext:this.context=e.context}static getDefaults(){return{context:ls()}}now(){return this.context.currentTime+this.context.lookAhead}immediate(){return this.context.currentTime}get sampleTime(){return 1/this.context.sampleRate}get blockTime(){return 128/this.context.sampleRate}toSeconds(e){return function(e){ua(e)&&wa&&!ka&&(ka=!0,Ca("Events scheduled inside of scheduled callbacks should use the passed in scheduling time. See https://github.com/Tonejs/Tone.js/wiki/Accurate-Timing"))}(e),new ys(this.context,e).toSeconds()}toFrequency(e){return new _s(this.context,e).toFrequency()}toTicks(e){return new ks(this.context,e).toTicks()}_getPartialProperties(e){const t=this.get();return Object.keys(t).forEach((n=>{ua(e[n])&&delete t[n]})),t}get(){const e=function(e){return e.constructor.getDefaults()}(this);return Object.keys(e).forEach((t=>{if(Reflect.has(this,t)){const n=this[t];ha(n)&&ha(n.value)&&ha(n.setValueAtTime)?e[t]=n.value:n instanceof Ss?e[t]=n._getPartialProperties(e[t]):ma(n)||da(n)||ga(n)||fa(n)?e[t]=n:delete e[t]}})),e}set(e){return Object.keys(e).forEach((t=>{Reflect.has(this,t)&&ha(this[t])&&(this[t]&&ha(this[t].value)&&ha(this[t].setValueAtTime)?this[t].value!==e[t]&&(this[t].value=e[t]):this[t]instanceof Ss?this[t].set(e[t]):this[t]=e[t])})),this}}class xs extends Ga{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"stopped";super(),this.name="StateTimeline",this._initial=e,this.setStateAtTime(this._initial,0)}getValueAtTime(e){const t=this.get(e);return null!==t?t.state:this._initial}setStateAtTime(e,t,n){return _a(t,0),this.add(Object.assign({},n,{state:e,time:t})),this}getLastState(e,t){for(let n=this._search(t);n>=0;n--){const t=this._timeline[n];if(t.state===e)return t}}getNextState(e,t){const n=this._search(t);if(-1!==n)for(let r=n;r<this._timeline.length;r++){const t=this._timeline[r];if(t.state===e)return t}}}class Cs extends Ss{constructor(){const e=ja(Cs.getDefaults(),arguments,["param","units","convert"]);for(super(e),this.name="Param",this.overridden=!1,this._minOutput=1e-7,ya(ha(e.param)&&(Pa(e.param)||e.param instanceof Cs),"param must be an AudioParam");!Pa(e.param);)e.param=e.param._param;this._swappable=!!ha(e.swappable)&&e.swappable,this._swappable?(this.input=this.context.createGain(),this._param=e.param,this.input.connect(this._param)):this._param=this.input=e.param,this._events=new Ga(1e3),this._initialValue=this._param.defaultValue,this.units=e.units,this.convert=e.convert,this._minValue=e.minValue,this._maxValue=e.maxValue,ha(e.value)&&e.value!==this._toType(this._initialValue)&&this.setValueAtTime(e.value,0)}static getDefaults(){return Object.assign(Ss.getDefaults(),{convert:!0,units:"number"})}get value(){const e=this.now();return this.getValueAtTime(e)}set value(e){this.cancelScheduledValues(this.now()),this.setValueAtTime(e,this.now())}get minValue(){return ha(this._minValue)?this._minValue:"time"===this.units||"frequency"===this.units||"normalRange"===this.units||"positive"===this.units||"transportTime"===this.units||"ticks"===this.units||"bpm"===this.units||"hertz"===this.units||"samples"===this.units?0:"audioRange"===this.units?-1:"decibels"===this.units?-1/0:this._param.minValue}get maxValue(){return ha(this._maxValue)?this._maxValue:"normalRange"===this.units||"audioRange"===this.units?1:this._param.maxValue}_is(e,t){return this.units===t}_assertRange(e){return ha(this.maxValue)&&ha(this.minValue)&&_a(e,this._fromType(this.minValue),this._fromType(this.maxValue)),e}_fromType(e){return this.convert&&!this.overridden?this._is(e,"time")?this.toSeconds(e):this._is(e,"decibels")?us(e):this._is(e,"frequency")?this.toFrequency(e):e:this.overridden?0:e}_toType(e){return this.convert&&"decibels"===this.units?hs(e):e}setValueAtTime(e,t){const n=this.toSeconds(t),r=this._fromType(e);return ya(isFinite(r)&&isFinite(n),"Invalid argument(s) to setValueAtTime: ".concat(JSON.stringify(e),", ").concat(JSON.stringify(t))),this._assertRange(r),this.log(this.units,"setValueAtTime",e,n),this._events.add({time:n,type:"setValueAtTime",value:r}),this._param.setValueAtTime(r,n),this}getValueAtTime(e){const t=Math.max(this.toSeconds(e),0),n=this._events.getAfter(t),r=this._events.get(t);let i=this._initialValue;if(null===r)i=this._initialValue;else if("setTargetAtTime"!==r.type||null!==n&&"setValueAtTime"!==n.type)if(null===n)i=r.value;else if("linearRampToValueAtTime"===n.type||"exponentialRampToValueAtTime"===n.type){let e=r.value;if("setTargetAtTime"===r.type){const t=this._events.getBefore(r.time);e=null===t?this._initialValue:t.value}i="linearRampToValueAtTime"===n.type?this._linearInterpolate(r.time,e,n.time,n.value,t):this._exponentialInterpolate(r.time,e,n.time,n.value,t)}else i=r.value;else{const e=this._events.getBefore(r.time);let n;n=null===e?this._initialValue:e.value,"setTargetAtTime"===r.type&&(i=this._exponentialApproach(r.time,n,r.value,r.constant,t))}return this._toType(i)}setRampPoint(e){e=this.toSeconds(e);let t=this.getValueAtTime(e);return this.cancelAndHoldAtTime(e),0===this._fromType(t)&&(t=this._toType(this._minOutput)),this.setValueAtTime(t,e),this}linearRampToValueAtTime(e,t){const n=this._fromType(e),r=this.toSeconds(t);return ya(isFinite(n)&&isFinite(r),"Invalid argument(s) to linearRampToValueAtTime: ".concat(JSON.stringify(e),", ").concat(JSON.stringify(t))),this._assertRange(n),this._events.add({time:r,type:"linearRampToValueAtTime",value:n}),this.log(this.units,"linearRampToValueAtTime",e,r),this._param.linearRampToValueAtTime(n,r),this}exponentialRampToValueAtTime(e,t){let n=this._fromType(e);n=Ha(n,0)?this._minOutput:n,this._assertRange(n);const r=this.toSeconds(t);return ya(isFinite(n)&&isFinite(r),"Invalid argument(s) to exponentialRampToValueAtTime: ".concat(JSON.stringify(e),", ").concat(JSON.stringify(t))),this._events.add({time:r,type:"exponentialRampToValueAtTime",value:n}),this.log(this.units,"exponentialRampToValueAtTime",e,r),this._param.exponentialRampToValueAtTime(n,r),this}exponentialRampTo(e,t,n){return n=this.toSeconds(n),this.setRampPoint(n),this.exponentialRampToValueAtTime(e,n+this.toSeconds(t)),this}linearRampTo(e,t,n){return n=this.toSeconds(n),this.setRampPoint(n),this.linearRampToValueAtTime(e,n+this.toSeconds(t)),this}targetRampTo(e,t,n){return n=this.toSeconds(n),this.setRampPoint(n),this.exponentialApproachValueAtTime(e,n,t),this}exponentialApproachValueAtTime(e,t,n){t=this.toSeconds(t),n=this.toSeconds(n);const r=Math.log(n+1)/Math.log(200);return this.setTargetAtTime(e,t,r),this.cancelAndHoldAtTime(t+.9*n),this.linearRampToValueAtTime(e,t+n),this}setTargetAtTime(e,t,n){const r=this._fromType(e);ya(isFinite(n)&&n>0,"timeConstant must be a number greater than 0");const i=this.toSeconds(t);return this._assertRange(r),ya(isFinite(r)&&isFinite(i),"Invalid argument(s) to setTargetAtTime: ".concat(JSON.stringify(e),", ").concat(JSON.stringify(t))),this._events.add({constant:n,time:i,type:"setTargetAtTime",value:r}),this.log(this.units,"setTargetAtTime",e,i,n),this._param.setTargetAtTime(r,i,n),this}setValueCurveAtTime(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;n=this.toSeconds(n),t=this.toSeconds(t);const i=this._fromType(e[0])*r;this.setValueAtTime(this._toType(i),t);const o=n/(e.length-1);for(let a=1;a<e.length;a++){const n=this._fromType(e[a])*r;this.linearRampToValueAtTime(this._toType(n),t+a*o)}return this}cancelScheduledValues(e){const t=this.toSeconds(e);return ya(isFinite(t),"Invalid argument to cancelScheduledValues: ".concat(JSON.stringify(e))),this._events.cancel(t),this._param.cancelScheduledValues(t),this.log(this.units,"cancelScheduledValues",t),this}cancelAndHoldAtTime(e){const t=this.toSeconds(e),n=this._fromType(this.getValueAtTime(t));ya(isFinite(t),"Invalid argument to cancelAndHoldAtTime: ".concat(JSON.stringify(e))),this.log(this.units,"cancelAndHoldAtTime",t,"value="+n);const r=this._events.get(t),i=this._events.getAfter(t);return r&&Ha(r.time,t)?i?(this._param.cancelScheduledValues(i.time),this._events.cancel(i.time)):(this._param.cancelAndHoldAtTime(t),this._events.cancel(t+this.sampleTime)):i&&(this._param.cancelScheduledValues(i.time),this._events.cancel(i.time),"linearRampToValueAtTime"===i.type?this.linearRampToValueAtTime(this._toType(n),t):"exponentialRampToValueAtTime"===i.type&&this.exponentialRampToValueAtTime(this._toType(n),t)),this._events.add({time:t,type:"setValueAtTime",value:n}),this._param.setValueAtTime(n,t),this}rampTo(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.1,n=arguments.length>2?arguments[2]:void 0;return"frequency"===this.units||"bpm"===this.units||"decibels"===this.units?this.exponentialRampTo(e,t,n):this.linearRampTo(e,t,n),this}apply(e){const t=this.context.currentTime;e.setValueAtTime(this.getValueAtTime(t),t);const n=this._events.get(t);if(n&&"setTargetAtTime"===n.type){const r=this._events.getAfter(n.time),i=r?r.time:t+2,o=(i-t)/10;for(let n=t;n<i;n+=o)e.linearRampToValueAtTime(this.getValueAtTime(n),n)}return this._events.forEachAfter(this.context.currentTime,(t=>{"cancelScheduledValues"===t.type?e.cancelScheduledValues(t.time):"setTargetAtTime"===t.type?e.setTargetAtTime(t.value,t.time,t.constant):e[t.type](t.value,t.time)})),this}setParam(e){ya(this._swappable,"The Param must be assigned as 'swappable' in the constructor");const t=this.input;return t.disconnect(this._param),this.apply(e),this._param=e,t.connect(this._param),this}dispose(){return super.dispose(),this._events.dispose(),this}get defaultValue(){return this._toType(this._param.defaultValue)}_exponentialApproach(e,t,n,r,i){return n+(t-n)*Math.exp(-(i-e)/r)}_linearInterpolate(e,t,n,r,i){return t+(i-e)/(n-e)*(r-t)}_exponentialInterpolate(e,t,n,r,i){return t*Math.pow(r/t,(i-e)/(n-e))}}class Ts extends Ss{constructor(){super(...arguments),this._internalChannels=[]}get numberOfInputs(){return ha(this.input)?Pa(this.input)||this.input instanceof Cs?1:this.input.numberOfInputs:0}get numberOfOutputs(){return ha(this.output)?this.output.numberOfOutputs:0}_isAudioNode(e){return ha(e)&&(e instanceof Ts||Na(e))}_getInternalNodes(){const e=this._internalChannels.slice(0);return this._isAudioNode(this.input)&&e.push(this.input),this._isAudioNode(this.output)&&this.input!==this.output&&e.push(this.output),e}_setChannelProperties(e){this._getInternalNodes().forEach((t=>{t.channelCount=e.channelCount,t.channelCountMode=e.channelCountMode,t.channelInterpretation=e.channelInterpretation}))}_getChannelProperties(){const e=this._getInternalNodes();ya(e.length>0,"ToneAudioNode does not have any internal nodes");const t=e[0];return{channelCount:t.channelCount,channelCountMode:t.channelCountMode,channelInterpretation:t.channelInterpretation}}get channelCount(){return this._getChannelProperties().channelCount}set channelCount(e){const t=this._getChannelProperties();this._setChannelProperties(Object.assign(t,{channelCount:e}))}get channelCountMode(){return this._getChannelProperties().channelCountMode}set channelCountMode(e){const t=this._getChannelProperties();this._setChannelProperties(Object.assign(t,{channelCountMode:e}))}get channelInterpretation(){return this._getChannelProperties().channelInterpretation}set channelInterpretation(e){const t=this._getChannelProperties();this._setChannelProperties(Object.assign(t,{channelInterpretation:e}))}connect(e){return As(this,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,arguments.length>2&&void 0!==arguments[2]?arguments[2]:0),this}toDestination(){return this.connect(this.context.destination),this}toMaster(){return Ca("toMaster() has been renamed toDestination()"),this.toDestination()}disconnect(e){return Os(this,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,arguments.length>2&&void 0!==arguments[2]?arguments[2]:0),this}chain(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Es(this,...t),this}fan(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.forEach((e=>this.connect(e))),this}dispose(){return super.dispose(),ha(this.input)&&(this.input instanceof Ts?this.input.dispose():Na(this.input)&&this.input.disconnect()),ha(this.output)&&(this.output instanceof Ts?this.output.dispose():Na(this.output)&&this.output.disconnect()),this._internalChannels=[],this}}function Es(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=t.shift();t.reduce(((e,t)=>(e instanceof Ts?e.connect(t):Na(e)&&As(e,t),t)),r)}function As(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;for(ya(ha(e),"Cannot connect from undefined node"),ya(ha(t),"Cannot connect to undefined node"),(t instanceof Ts||Na(t))&&ya(t.numberOfInputs>0,"Cannot connect to node with no inputs"),ya(e.numberOfOutputs>0,"Cannot connect from node with no outputs");t instanceof Ts||t instanceof Cs;)ha(t.input)&&(t=t.input);for(;e instanceof Ts;)ha(e.output)&&(e=e.output);Pa(t)?e.connect(t,n):e.connect(t,n,r)}function Os(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;if(ha(t))for(;t instanceof Ts;)t=t.input;for(;!Na(e);)ha(e.output)&&(e=e.output);Pa(t)?e.disconnect(t,n):Na(t)?e.disconnect(t,n,r):e.disconnect()}class Ms extends Ts{constructor(){const e=ja(Ms.getDefaults(),arguments,["gain","units"]);super(e),this.name="Gain",this._gainNode=this.context.createGain(),this.input=this._gainNode,this.output=this._gainNode,this.gain=new Cs({context:this.context,convert:e.convert,param:this._gainNode.gain,units:e.units,value:e.gain,minValue:e.minValue,maxValue:e.maxValue}),ts(this,"gain")}static getDefaults(){return Object.assign(Ts.getDefaults(),{convert:!0,gain:1,units:"gain"})}dispose(){return super.dispose(),this._gainNode.disconnect(),this.gain.dispose(),this}}class Ps extends Ts{constructor(e){super(e),this.onended=rs,this._startTime=-1,this._stopTime=-1,this._timeout=-1,this.output=new Ms({context:this.context,gain:0}),this._gainNode=this.output,this.getStateAtTime=function(e){const t=this.toSeconds(e);return-1!==this._startTime&&t>=this._startTime&&(-1===this._stopTime||t<=this._stopTime)?"started":"stopped"},this._fadeIn=e.fadeIn,this._fadeOut=e.fadeOut,this._curve=e.curve,this.onended=e.onended}static getDefaults(){return Object.assign(Ts.getDefaults(),{curve:"linear",fadeIn:0,fadeOut:0,onended:rs})}_startGain(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;ya(-1===this._startTime,"Source cannot be started more than once");const n=this.toSeconds(this._fadeIn);return this._startTime=e+n,this._startTime=Math.max(this._startTime,this.context.currentTime),n>0?(this._gainNode.gain.setValueAtTime(0,e),"linear"===this._curve?this._gainNode.gain.linearRampToValueAtTime(t,e+n):this._gainNode.gain.exponentialApproachValueAtTime(t,e,n)):this._gainNode.gain.setValueAtTime(t,e),this}stop(e){return this.log("stop",e),this._stopGain(this.toSeconds(e)),this}_stopGain(e){ya(-1!==this._startTime,"'start' must be called before 'stop'"),this.cancelStop();const t=this.toSeconds(this._fadeOut);return this._stopTime=this.toSeconds(e)+t,this._stopTime=Math.max(this._stopTime,this.now()),t>0?"linear"===this._curve?this._gainNode.gain.linearRampTo(0,t,e):this._gainNode.gain.targetRampTo(0,t,e):(this._gainNode.gain.cancelAndHoldAtTime(e),this._gainNode.gain.setValueAtTime(0,e)),this.context.clearTimeout(this._timeout),this._timeout=this.context.setTimeout((()=>{const e="exponential"===this._curve?2*t:0;this._stopSource(this.now()+e),this._onended()}),this._stopTime-this.context.currentTime),this}_onended(){if(this.onended!==rs&&(this.onended(this),this.onended=rs,!this.context.isOffline)){const e=()=>this.dispose();"undefined"!==typeof requestIdleCallback?requestIdleCallback(e):setTimeout(e,10)}}get state(){return this.getStateAtTime(this.now())}cancelStop(){return this.log("cancelStop"),ya(-1!==this._startTime,"Source is not started"),this._gainNode.gain.cancelScheduledValues(this._startTime+this.sampleTime),this.context.clearTimeout(this._timeout),this._stopTime=-1,this}dispose(){return super.dispose(),this._gainNode.dispose(),this.onended=rs,this}}class Ns extends Ps{constructor(){const e=ja(Ns.getDefaults(),arguments,["offset"]);super(e),this.name="ToneConstantSource",this._source=this.context.createConstantSource(),As(this._source,this._gainNode),this.offset=new Cs({context:this.context,convert:e.convert,param:this._source.offset,units:e.units,value:e.offset,minValue:e.minValue,maxValue:e.maxValue})}static getDefaults(){return Object.assign(Ps.getDefaults(),{convert:!0,offset:1,units:"number"})}start(e){const t=this.toSeconds(e);return this.log("start",t),this._startGain(t),this._source.start(t),this}_stopSource(e){this._source.stop(e)}dispose(){return super.dispose(),"started"===this.state&&this.stop(),this._source.disconnect(),this.offset.dispose(),this}}class Is extends Ts{constructor(){const e=ja(Is.getDefaults(),arguments,["value","units"]);super(e),this.name="Signal",this.override=!0,this.output=this._constantSource=new Ns({context:this.context,convert:e.convert,offset:e.value,units:e.units,minValue:e.minValue,maxValue:e.maxValue}),this._constantSource.start(0),this.input=this._param=this._constantSource.offset}static getDefaults(){return Object.assign(Ts.getDefaults(),{convert:!0,units:"number",value:0})}connect(e){return Rs(this,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,arguments.length>2&&void 0!==arguments[2]?arguments[2]:0),this}dispose(){return super.dispose(),this._param.dispose(),this._constantSource.dispose(),this}setValueAtTime(e,t){return this._param.setValueAtTime(e,t),this}getValueAtTime(e){return this._param.getValueAtTime(e)}setRampPoint(e){return this._param.setRampPoint(e),this}linearRampToValueAtTime(e,t){return this._param.linearRampToValueAtTime(e,t),this}exponentialRampToValueAtTime(e,t){return this._param.exponentialRampToValueAtTime(e,t),this}exponentialRampTo(e,t,n){return this._param.exponentialRampTo(e,t,n),this}linearRampTo(e,t,n){return this._param.linearRampTo(e,t,n),this}targetRampTo(e,t,n){return this._param.targetRampTo(e,t,n),this}exponentialApproachValueAtTime(e,t,n){return this._param.exponentialApproachValueAtTime(e,t,n),this}setTargetAtTime(e,t,n){return this._param.setTargetAtTime(e,t,n),this}setValueCurveAtTime(e,t,n,r){return this._param.setValueCurveAtTime(e,t,n,r),this}cancelScheduledValues(e){return this._param.cancelScheduledValues(e),this}cancelAndHoldAtTime(e){return this._param.cancelAndHoldAtTime(e),this}rampTo(e,t,n){return this._param.rampTo(e,t,n),this}get value(){return this._param.value}set value(e){this._param.value=e}get convert(){return this._param.convert}set convert(e){this._param.convert=e}get units(){return this._param.units}get overridden(){return this._param.overridden}set overridden(e){this._param.overridden=e}get maxValue(){return this._param.maxValue}get minValue(){return this._param.minValue}apply(e){return this._param.apply(e),this}}function Rs(e,t,n,r){(t instanceof Cs||Pa(t)||t instanceof Is&&t.override)&&(t.cancelScheduledValues(0),t.setValueAtTime(0,0),t instanceof Is&&(t.overridden=!0)),As(e,t,n,r)}class Ds extends Cs{constructor(){const e=ja(Ds.getDefaults(),arguments,["value"]);super(e),this.name="TickParam",this._events=new Ga(1/0),this._multiplier=1,this._multiplier=e.multiplier,this._events.cancel(0),this._events.add({ticks:0,time:0,type:"setValueAtTime",value:this._fromType(e.value)}),this.setValueAtTime(e.value,0)}static getDefaults(){return Object.assign(Cs.getDefaults(),{multiplier:1,units:"hertz",value:1})}setTargetAtTime(e,t,n){t=this.toSeconds(t),this.setRampPoint(t);const r=this._fromType(e),i=this._events.get(t),o=Math.round(Math.max(1/n,1));for(let a=0;a<=o;a++){const e=n*a+t,o=this._exponentialApproach(i.time,i.value,r,n,e);this.linearRampToValueAtTime(this._toType(o),e)}return this}setValueAtTime(e,t){const n=this.toSeconds(t);super.setValueAtTime(e,t);const r=this._events.get(n),i=this._events.previousEvent(r),o=this._getTicksUntilEvent(i,n);return r.ticks=Math.max(o,0),this}linearRampToValueAtTime(e,t){const n=this.toSeconds(t);super.linearRampToValueAtTime(e,t);const r=this._events.get(n),i=this._events.previousEvent(r),o=this._getTicksUntilEvent(i,n);return r.ticks=Math.max(o,0),this}exponentialRampToValueAtTime(e,t){t=this.toSeconds(t);const n=this._fromType(e),r=this._events.get(t),i=Math.round(Math.max(10*(t-r.time),1)),o=(t-r.time)/i;for(let a=0;a<=i;a++){const e=o*a+r.time,i=this._exponentialInterpolate(r.time,r.value,t,n,e);this.linearRampToValueAtTime(this._toType(i),e)}return this}_getTicksUntilEvent(e,t){if(null===e)e={ticks:0,time:0,type:"setValueAtTime",value:0};else if(ua(e.ticks)){const t=this._events.previousEvent(e);e.ticks=this._getTicksUntilEvent(t,e.time)}const n=this._fromType(this.getValueAtTime(e.time));let r=this._fromType(this.getValueAtTime(t));const i=this._events.get(t);return i&&i.time===t&&"setValueAtTime"===i.type&&(r=this._fromType(this.getValueAtTime(t-this.sampleTime))),.5*(t-e.time)*(n+r)+e.ticks}getTicksAtTime(e){const t=this.toSeconds(e),n=this._events.get(t);return Math.max(this._getTicksUntilEvent(n,t),0)}getDurationOfTicks(e,t){const n=this.toSeconds(t),r=this.getTicksAtTime(t);return this.getTimeOfTick(r+e)-n}getTimeOfTick(e){const t=this._events.get(e,"ticks"),n=this._events.getAfter(e,"ticks");if(t&&t.ticks===e)return t.time;if(t&&n&&"linearRampToValueAtTime"===n.type&&t.value!==n.value){const r=this._fromType(this.getValueAtTime(t.time)),i=(this._fromType(this.getValueAtTime(n.time))-r)/(n.time-t.time),o=Math.sqrt(Math.pow(r,2)-2*i*(t.ticks-e)),a=(-r+o)/i;return(a>0?a:(-r-o)/i)+t.time}return t?0===t.value?1/0:t.time+(e-t.ticks)/t.value:e/this._initialValue}ticksToTime(e,t){return this.getDurationOfTicks(e,t)}timeToTicks(e,t){const n=this.toSeconds(t),r=this.toSeconds(e),i=this.getTicksAtTime(n);return this.getTicksAtTime(n+r)-i}_fromType(e){return"bpm"===this.units&&this.multiplier?1/(60/e/this.multiplier):super._fromType(e)}_toType(e){return"bpm"===this.units&&this.multiplier?e/this.multiplier*60:super._toType(e)}get multiplier(){return this._multiplier}set multiplier(e){const t=this.value;this._multiplier=e,this.cancelScheduledValues(0),this.setValueAtTime(t,0)}}class Ls extends Is{constructor(){const e=ja(Ls.getDefaults(),arguments,["value"]);super(e),this.name="TickSignal",this.input=this._param=new Ds({context:this.context,convert:e.convert,multiplier:e.multiplier,param:this._constantSource.offset,units:e.units,value:e.value})}static getDefaults(){return Object.assign(Is.getDefaults(),{multiplier:1,units:"hertz",value:1})}ticksToTime(e,t){return this._param.ticksToTime(e,t)}timeToTicks(e,t){return this._param.timeToTicks(e,t)}getTimeOfTick(e){return this._param.getTimeOfTick(e)}getDurationOfTicks(e,t){return this._param.getDurationOfTicks(e,t)}getTicksAtTime(e){return this._param.getTicksAtTime(e)}get multiplier(){return this._param.multiplier}set multiplier(e){this._param.multiplier=e}dispose(){return super.dispose(),this._param.dispose(),this}}class js extends Ss{constructor(){const e=ja(js.getDefaults(),arguments,["frequency"]);super(e),this.name="TickSource",this._state=new xs,this._tickOffset=new Ga,this._ticksAtTime=new Ga,this._secondsAtTime=new Ga,this.frequency=new Ls({context:this.context,units:e.units,value:e.frequency}),ts(this,"frequency"),this._state.setStateAtTime("stopped",0),this.setTicksAtTime(0,0)}static getDefaults(){return Object.assign({frequency:1,units:"hertz"},Ss.getDefaults())}get state(){return this.getStateAtTime(this.now())}start(e,t){const n=this.toSeconds(e);return"started"!==this._state.getValueAtTime(n)&&(this._state.setStateAtTime("started",n),ha(t)&&this.setTicksAtTime(t,n),this._ticksAtTime.cancel(n),this._secondsAtTime.cancel(n)),this}stop(e){const t=this.toSeconds(e);if("stopped"===this._state.getValueAtTime(t)){const e=this._state.get(t);e&&e.time>0&&(this._tickOffset.cancel(e.time),this._state.cancel(e.time))}return this._state.cancel(t),this._state.setStateAtTime("stopped",t),this.setTicksAtTime(0,t),this._ticksAtTime.cancel(t),this._secondsAtTime.cancel(t),this}pause(e){const t=this.toSeconds(e);return"started"===this._state.getValueAtTime(t)&&(this._state.setStateAtTime("paused",t),this._ticksAtTime.cancel(t),this._secondsAtTime.cancel(t)),this}cancel(e){return e=this.toSeconds(e),this._state.cancel(e),this._tickOffset.cancel(e),this._ticksAtTime.cancel(e),this._secondsAtTime.cancel(e),this}getTicksAtTime(e){const t=this.toSeconds(e),n=this._state.getLastState("stopped",t),r=this._ticksAtTime.get(t),i={state:"paused",time:t};this._state.add(i);let o=r||n,a=r?r.ticks:0,s=null;return this._state.forEachBetween(o.time,t+this.sampleTime,(e=>{let t=o.time;const n=this._tickOffset.get(e.time);n&&n.time>=o.time&&(a=n.ticks,t=n.time),"started"===o.state&&"started"!==e.state&&(a+=this.frequency.getTicksAtTime(e.time)-this.frequency.getTicksAtTime(t),e.time!==i.time&&(s={state:e.state,time:e.time,ticks:a})),o=e})),this._state.remove(i),s&&this._ticksAtTime.add(s),a}get ticks(){return this.getTicksAtTime(this.now())}set ticks(e){this.setTicksAtTime(e,this.now())}get seconds(){return this.getSecondsAtTime(this.now())}set seconds(e){const t=this.now(),n=this.frequency.timeToTicks(e,t);this.setTicksAtTime(n,t)}getSecondsAtTime(e){e=this.toSeconds(e);const t=this._state.getLastState("stopped",e),n={state:"paused",time:e};this._state.add(n);const r=this._secondsAtTime.get(e);let i=r||t,o=r?r.seconds:0,a=null;return this._state.forEachBetween(i.time,e+this.sampleTime,(e=>{let t=i.time;const r=this._tickOffset.get(e.time);r&&r.time>=i.time&&(o=r.seconds,t=r.time),"started"===i.state&&"started"!==e.state&&(o+=e.time-t,e.time!==n.time&&(a={state:e.state,time:e.time,seconds:o})),i=e})),this._state.remove(n),a&&this._secondsAtTime.add(a),o}setTicksAtTime(e,t){return t=this.toSeconds(t),this._tickOffset.cancel(t),this._tickOffset.add({seconds:this.frequency.getDurationOfTicks(e,t),ticks:e,time:t}),this._ticksAtTime.cancel(t),this._secondsAtTime.cancel(t),this}getStateAtTime(e){return e=this.toSeconds(e),this._state.getValueAtTime(e)}getTimeOfTick(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.now();const n=this._tickOffset.get(t),r=this._state.get(t),i=Math.max(n.time,r.time),o=this.frequency.getTicksAtTime(i)+e-n.ticks;return this.frequency.getTimeOfTick(o)}forEachTickBetween(e,t,n){let r=this._state.get(e);this._state.forEachBetween(e,t,(t=>{r&&"started"===r.state&&"started"!==t.state&&this.forEachTickBetween(Math.max(r.time,e),t.time-this.sampleTime,n),r=t}));let i=null;if(r&&"started"===r.state){const o=Math.max(r.time,e),a=this.frequency.getTicksAtTime(o),s=a-this.frequency.getTicksAtTime(r.time);let l=Math.ceil(s)-s;l=Ha(l,1)?0:l;let c=this.frequency.getTimeOfTick(a+l);for(;c<t;){try{n(c,Math.round(this.getTicksAtTime(c)))}catch(Yb){i=Yb;break}c+=this.frequency.getDurationOfTicks(1,c)}}if(i)throw i;return this}dispose(){return super.dispose(),this._state.dispose(),this._tickOffset.dispose(),this._ticksAtTime.dispose(),this._secondsAtTime.dispose(),this.frequency.dispose(),this}}class Fs extends Ss{constructor(){const e=ja(Fs.getDefaults(),arguments,["callback","frequency"]);super(e),this.name="Clock",this.callback=rs,this._lastUpdate=0,this._state=new xs("stopped"),this._boundLoop=this._loop.bind(this),this.callback=e.callback,this._tickSource=new js({context:this.context,frequency:e.frequency,units:e.units}),this._lastUpdate=0,this.frequency=this._tickSource.frequency,ts(this,"frequency"),this._state.setStateAtTime("stopped",0),this.context.on("tick",this._boundLoop)}static getDefaults(){return Object.assign(Ss.getDefaults(),{callback:rs,frequency:1,units:"hertz"})}get state(){return this._state.getValueAtTime(this.now())}start(e,t){ba(this.context);const n=this.toSeconds(e);return this.log("start",n),"started"!==this._state.getValueAtTime(n)&&(this._state.setStateAtTime("started",n),this._tickSource.start(n,t),n<this._lastUpdate&&this.emit("start",n,t)),this}stop(e){const t=this.toSeconds(e);return this.log("stop",t),this._state.cancel(t),this._state.setStateAtTime("stopped",t),this._tickSource.stop(t),t<this._lastUpdate&&this.emit("stop",t),this}pause(e){const t=this.toSeconds(e);return"started"===this._state.getValueAtTime(t)&&(this._state.setStateAtTime("paused",t),this._tickSource.pause(t),t<this._lastUpdate&&this.emit("pause",t)),this}get ticks(){return Math.ceil(this.getTicksAtTime(this.now()))}set ticks(e){this._tickSource.ticks=e}get seconds(){return this._tickSource.seconds}set seconds(e){this._tickSource.seconds=e}getSecondsAtTime(e){return this._tickSource.getSecondsAtTime(e)}setTicksAtTime(e,t){return this._tickSource.setTicksAtTime(e,t),this}getTimeOfTick(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.now();return this._tickSource.getTimeOfTick(e,t)}getTicksAtTime(e){return this._tickSource.getTicksAtTime(e)}nextTickTime(e,t){const n=this.toSeconds(t),r=this.getTicksAtTime(n);return this._tickSource.getTimeOfTick(r+e,n)}_loop(){const e=this._lastUpdate,t=this.now();this._lastUpdate=t,this.log("loop",e,t),e!==t&&(this._state.forEachBetween(e,t,(e=>{switch(e.state){case"started":const t=this._tickSource.getTicksAtTime(e.time);this.emit("start",e.time,t);break;case"stopped":0!==e.time&&this.emit("stop",e.time);break;case"paused":this.emit("pause",e.time)}})),this._tickSource.forEachTickBetween(e,t,((e,t)=>{this.callback(e,t)})))}getStateAtTime(e){const t=this.toSeconds(e);return this._state.getValueAtTime(t)}dispose(){return super.dispose(),this.context.off("tick",this._boundLoop),this._tickSource.dispose(),this._state.dispose(),this}}Ka.mixin(Fs);class Vs extends Ts{constructor(){const e=ja(Vs.getDefaults(),arguments,["volume"]);super(e),this.name="Volume",this.input=this.output=new Ms({context:this.context,gain:e.volume,units:"decibels"}),this.volume=this.output.gain,ts(this,"volume"),this._unmutedVolume=e.volume,this.mute=e.mute}static getDefaults(){return Object.assign(Ts.getDefaults(),{mute:!1,volume:0})}get mute(){return this.volume.value===-1/0}set mute(e){!this.mute&&e?(this._unmutedVolume=this.volume.value,this.volume.value=-1/0):this.mute&&!e&&(this.volume.value=this._unmutedVolume)}dispose(){return super.dispose(),this.input.dispose(),this.volume.dispose(),this}}class zs extends Ts{constructor(){const e=ja(zs.getDefaults(),arguments);super(e),this.name="Destination",this.input=new Vs({context:this.context}),this.output=new Ms({context:this.context}),this.volume=this.input.volume,Es(this.input,this.output,this.context.rawContext.destination),this.mute=e.mute,this._internalChannels=[this.input,this.context.rawContext.destination,this.output]}static getDefaults(){return Object.assign(Ts.getDefaults(),{mute:!1,volume:0})}get mute(){return this.input.mute}set mute(e){this.input.mute=e}chain(){this.input.disconnect();for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.unshift(this.input),t.push(this.output),Es(...t),this}get maxChannelCount(){return this.context.rawContext.destination.maxChannelCount}dispose(){return super.dispose(),this.volume.dispose(),this}}Qa((e=>{e.destination=new zs({context:e})})),Za((e=>{e.destination.dispose()}));class qs extends Ts{constructor(){super(...arguments),this.name="Listener",this.positionX=new Cs({context:this.context,param:this.context.rawContext.listener.positionX}),this.positionY=new Cs({context:this.context,param:this.context.rawContext.listener.positionY}),this.positionZ=new Cs({context:this.context,param:this.context.rawContext.listener.positionZ}),this.forwardX=new Cs({context:this.context,param:this.context.rawContext.listener.forwardX}),this.forwardY=new Cs({context:this.context,param:this.context.rawContext.listener.forwardY}),this.forwardZ=new Cs({context:this.context,param:this.context.rawContext.listener.forwardZ}),this.upX=new Cs({context:this.context,param:this.context.rawContext.listener.upX}),this.upY=new Cs({context:this.context,param:this.context.rawContext.listener.upY}),this.upZ=new Cs({context:this.context,param:this.context.rawContext.listener.upZ})}static getDefaults(){return Object.assign(Ts.getDefaults(),{positionX:0,positionY:0,positionZ:0,forwardX:0,forwardY:0,forwardZ:-1,upX:0,upY:1,upZ:0})}dispose(){return super.dispose(),this.positionX.dispose(),this.positionY.dispose(),this.positionZ.dispose(),this.forwardX.dispose(),this.forwardY.dispose(),this.forwardZ.dispose(),this.upX.dispose(),this.upY.dispose(),this.upZ.dispose(),this}}Qa((e=>{e.listener=new qs({context:e})})),Za((e=>{e.listener.dispose()}));class Bs extends za{constructor(){super(),this.name="ToneAudioBuffers",this._buffers=new Map,this._loadingCount=0;const e=ja(Bs.getDefaults(),arguments,["urls","onload","baseUrl"],"urls");this.baseUrl=e.baseUrl,Object.keys(e.urls).forEach((t=>{this._loadingCount++;const n=e.urls[t];this.add(t,n,this._bufferLoaded.bind(this,e.onload),e.onerror)}))}static getDefaults(){return{baseUrl:"",onerror:rs,onload:rs,urls:{}}}has(e){return this._buffers.has(e.toString())}get(e){return ya(this.has(e),"ToneAudioBuffers has no buffer named: ".concat(e)),this._buffers.get(e.toString())}_bufferLoaded(e){this._loadingCount--,0===this._loadingCount&&e&&e()}get loaded(){return Array.from(this._buffers).every((e=>{let[t,n]=e;return n.loaded}))}add(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:rs,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:rs;return ga(t)?(this.baseUrl&&"data:audio/"===t.trim().substring(0,11).toLowerCase()&&(this.baseUrl=""),this._buffers.set(e.toString(),new is(this.baseUrl+t,n,r))):this._buffers.set(e.toString(),new is(t,n,r)),this}dispose(){return super.dispose(),this._buffers.forEach((e=>e.dispose())),this._buffers.clear(),this}}class Us extends ks{constructor(){super(...arguments),this.name="Ticks",this.defaultUnits="i"}_now(){return this.context.transport.ticks}_beatsToUnits(e){return this._getPPQ()*e}_secondsToUnits(e){return Math.floor(e/(60/this._getBpm())*this._getPPQ())}_ticksToUnits(e){return e}toTicks(){return this.valueOf()}toSeconds(){return this.valueOf()/this._getPPQ()*(60/this._getBpm())}}class Ws extends Ss{constructor(){super(...arguments),this.name="Draw",this.expiration=.25,this.anticipation=.008,this._events=new Ga,this._boundDrawLoop=this._drawLoop.bind(this),this._animationFrame=-1}schedule(e,t){return this._events.add({callback:e,time:this.toSeconds(t)}),1===this._events.length&&(this._animationFrame=requestAnimationFrame(this._boundDrawLoop)),this}cancel(e){return this._events.cancel(this.toSeconds(e)),this}_drawLoop(){const e=this.context.currentTime;this._events.forEachBefore(e+this.anticipation,(t=>{e-t.time<=this.expiration&&t.callback(),this._events.remove(t)})),this._events.length>0&&(this._animationFrame=requestAnimationFrame(this._boundDrawLoop))}dispose(){return super.dispose(),this._events.dispose(),cancelAnimationFrame(this._animationFrame),this}}Qa((e=>{e.draw=new Ws({context:e})})),Za((e=>{e.draw.dispose()}));class Hs extends za{constructor(){super(...arguments),this.name="IntervalTimeline",this._root=null,this._length=0}add(e){ya(ha(e.time),"Events must have a time property"),ya(ha(e.duration),"Events must have a duration parameter"),e.time=e.time.valueOf();let t=new $s(e.time,e.time+e.duration,e);for(null===this._root?this._root=t:this._root.insert(t),this._length++;null!==t;)t.updateHeight(),t.updateMax(),this._rebalance(t),t=t.parent;return this}remove(e){if(null!==this._root){const t=[];this._root.search(e.time,t);for(const n of t)if(n.event===e){this._removeNode(n),this._length--;break}}return this}get length(){return this._length}cancel(e){return this.forEachFrom(e,(e=>this.remove(e))),this}_setRoot(e){this._root=e,null!==this._root&&(this._root.parent=null)}_replaceNodeInParent(e,t){null!==e.parent?(e.isLeftChild()?e.parent.left=t:e.parent.right=t,this._rebalance(e.parent)):this._setRoot(t)}_removeNode(e){if(null===e.left&&null===e.right)this._replaceNodeInParent(e,null);else if(null===e.right)this._replaceNodeInParent(e,e.left);else if(null===e.left)this._replaceNodeInParent(e,e.right);else{let t,n=null;if(e.getBalance()>0)if(null===e.left.right)t=e.left,t.right=e.right,n=t;else{for(t=e.left.right;null!==t.right;)t=t.right;t.parent&&(t.parent.right=t.left,n=t.parent,t.left=e.left,t.right=e.right)}else if(null===e.right.left)t=e.right,t.left=e.left,n=t;else{for(t=e.right.left;null!==t.left;)t=t.left;t.parent&&(t.parent.left=t.right,n=t.parent,t.left=e.left,t.right=e.right)}null!==e.parent?e.isLeftChild()?e.parent.left=t:e.parent.right=t:this._setRoot(t),n&&this._rebalance(n)}e.dispose()}_rotateLeft(e){const t=e.parent,n=e.isLeftChild(),r=e.right;r&&(e.right=r.left,r.left=e),null!==t?n?t.left=r:t.right=r:this._setRoot(r)}_rotateRight(e){const t=e.parent,n=e.isLeftChild(),r=e.left;r&&(e.left=r.right,r.right=e),null!==t?n?t.left=r:t.right=r:this._setRoot(r)}_rebalance(e){const t=e.getBalance();t>1&&e.left?e.left.getBalance()<0?this._rotateLeft(e.left):this._rotateRight(e):t<-1&&e.right&&(e.right.getBalance()>0?this._rotateRight(e.right):this._rotateLeft(e))}get(e){if(null!==this._root){const t=[];if(this._root.search(e,t),t.length>0){let e=t[0];for(let n=1;n<t.length;n++)t[n].low>e.low&&(e=t[n]);return e.event}}return null}forEach(e){if(null!==this._root){const t=[];this._root.traverse((e=>t.push(e))),t.forEach((t=>{t.event&&e(t.event)}))}return this}forEachAtTime(e,t){if(null!==this._root){const n=[];this._root.search(e,n),n.forEach((e=>{e.event&&t(e.event)}))}return this}forEachFrom(e,t){if(null!==this._root){const n=[];this._root.searchAfter(e,n),n.forEach((e=>{e.event&&t(e.event)}))}return this}dispose(){return super.dispose(),null!==this._root&&this._root.traverse((e=>e.dispose())),this._root=null,this}}class $s{constructor(e,t,n){this._left=null,this._right=null,this.parent=null,this.height=0,this.event=n,this.low=e,this.high=t,this.max=this.high}insert(e){e.low<=this.low?null===this.left?this.left=e:this.left.insert(e):null===this.right?this.right=e:this.right.insert(e)}search(e,t){e>this.max||(null!==this.left&&this.left.search(e,t),this.low<=e&&this.high>e&&t.push(this),this.low>e||null!==this.right&&this.right.search(e,t))}searchAfter(e,t){this.low>=e&&(t.push(this),null!==this.left&&this.left.searchAfter(e,t)),null!==this.right&&this.right.searchAfter(e,t)}traverse(e){e(this),null!==this.left&&this.left.traverse(e),null!==this.right&&this.right.traverse(e)}updateHeight(){null!==this.left&&null!==this.right?this.height=Math.max(this.left.height,this.right.height)+1:null!==this.right?this.height=this.right.height+1:null!==this.left?this.height=this.left.height+1:this.height=0}updateMax(){this.max=this.high,null!==this.left&&(this.max=Math.max(this.max,this.left.max)),null!==this.right&&(this.max=Math.max(this.max,this.right.max))}getBalance(){let e=0;return null!==this.left&&null!==this.right?e=this.left.height-this.right.height:null!==this.left?e=this.left.height+1:null!==this.right&&(e=-(this.right.height+1)),e}isLeftChild(){return null!==this.parent&&this.parent.left===this}get left(){return this._left}set left(e){this._left=e,null!==e&&(e.parent=this),this.updateHeight(),this.updateMax()}get right(){return this._right}set right(e){this._right=e,null!==e&&(e.parent=this),this.updateHeight(),this.updateMax()}dispose(){this.parent=null,this._left=null,this._right=null,this.event=null}}class Gs extends za{constructor(e){super(),this.name="TimelineValue",this._timeline=new Ga({memory:10}),this._initialValue=e}set(e,t){return this._timeline.add({value:e,time:t}),this}get(e){const t=this._timeline.get(e);return t?t.value:this._initialValue}}class Ys extends Ts{constructor(){super(ja(Ys.getDefaults(),arguments,["context"]))}connect(e){return Rs(this,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,arguments.length>2&&void 0!==arguments[2]?arguments[2]:0),this}}class Qs extends Ys{constructor(){const e=ja(Qs.getDefaults(),arguments,["mapping","length"]);super(e),this.name="WaveShaper",this._shaper=this.context.createWaveShaper(),this.input=this._shaper,this.output=this._shaper,ma(e.mapping)||e.mapping instanceof Float32Array?this.curve=Float32Array.from(e.mapping):"function"===typeof e.mapping&&this.setMap(e.mapping,e.length)}static getDefaults(){return Object.assign(Is.getDefaults(),{length:1024})}setMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=new Float32Array(t);for(let r=0,i=t;r<i;r++){const t=r/(i-1)*2-1;n[r]=e(t,r)}return this.curve=n,this}get curve(){return this._shaper.curve}set curve(e){this._shaper.curve=e}get oversample(){return this._shaper.oversample}set oversample(e){ya(["none","2x","4x"].some((t=>t.includes(e))),"oversampling must be either 'none', '2x', or '4x'"),this._shaper.oversample=e}dispose(){return super.dispose(),this._shaper.disconnect(),this}}class Xs extends Ys{constructor(){const e=ja(Xs.getDefaults(),arguments,["value"]);super(e),this.name="Pow",this._exponentScaler=this.input=this.output=new Qs({context:this.context,mapping:this._expFunc(e.value),length:8192}),this._exponent=e.value}static getDefaults(){return Object.assign(Ys.getDefaults(),{value:1})}_expFunc(e){return t=>Math.pow(Math.abs(t),e)}get value(){return this._exponent}set value(e){this._exponent=e,this._exponentScaler.setMap(this._expFunc(this._exponent))}dispose(){return super.dispose(),this._exponentScaler.dispose(),this}}class Zs{constructor(e,t){this.id=Zs._eventId++,this._remainderTime=0;const n=Object.assign(Zs.getDefaults(),t);this.transport=e,this.callback=n.callback,this._once=n.once,this.time=Math.floor(n.time),this._remainderTime=n.time-this.time}static getDefaults(){return{callback:rs,once:!1,time:0}}get floatTime(){return this.time+this._remainderTime}invoke(e){if(this.callback){const t=this.transport.bpm.getDurationOfTicks(1,e);this.callback(e+this._remainderTime*t),this._once&&this.transport.clear(this.id)}}dispose(){return this.callback=void 0,this}}Zs._eventId=0;class Ks extends Zs{constructor(e,t){super(e,t),this._currentId=-1,this._nextId=-1,this._nextTick=this.time,this._boundRestart=this._restart.bind(this);const n=Object.assign(Ks.getDefaults(),t);this.duration=n.duration,this._interval=n.interval,this._nextTick=n.time,this.transport.on("start",this._boundRestart),this.transport.on("loopStart",this._boundRestart),this.transport.on("ticks",this._boundRestart),this.context=this.transport.context,this._restart()}static getDefaults(){return Object.assign({},Zs.getDefaults(),{duration:1/0,interval:1,once:!1})}invoke(e){this._createEvents(e),super.invoke(e)}_createEvent(){return Wa(this._nextTick,this.floatTime+this.duration)?this.transport.scheduleOnce(this.invoke.bind(this),new Us(this.context,this._nextTick).toSeconds()):-1}_createEvents(e){Wa(this._nextTick+this._interval,this.floatTime+this.duration)&&(this._nextTick+=this._interval,this._currentId=this._nextId,this._nextId=this.transport.scheduleOnce(this.invoke.bind(this),new Us(this.context,this._nextTick).toSeconds()))}_restart(e){this.transport.clear(this._currentId),this.transport.clear(this._nextId),this._nextTick=this.floatTime;const t=this.transport.getTicksAtTime(e);Ba(t,this.time)&&(this._nextTick=this.floatTime+Math.ceil((t-this.floatTime)/this._interval)*this._interval),this._currentId=this._createEvent(),this._nextTick+=this._interval,this._nextId=this._createEvent()}dispose(){return super.dispose(),this.transport.clear(this._currentId),this.transport.clear(this._nextId),this.transport.off("start",this._boundRestart),this.transport.off("loopStart",this._boundRestart),this.transport.off("ticks",this._boundRestart),this}}class Js extends Ss{constructor(){const e=ja(Js.getDefaults(),arguments);super(e),this.name="Transport",this._loop=new Gs(!1),this._loopStart=0,this._loopEnd=0,this._scheduledEvents={},this._timeline=new Ga,this._repeatedEvents=new Hs,this._syncedSignals=[],this._swingAmount=0,this._ppq=e.ppq,this._clock=new Fs({callback:this._processTick.bind(this),context:this.context,frequency:0,units:"bpm"}),this._bindClockEvents(),this.bpm=this._clock.frequency,this._clock.frequency.multiplier=e.ppq,this.bpm.setValueAtTime(e.bpm,0),ts(this,"bpm"),this._timeSignature=e.timeSignature,this._swingTicks=e.ppq/2}static getDefaults(){return Object.assign(Ss.getDefaults(),{bpm:120,loopEnd:"4m",loopStart:0,ppq:192,swing:0,swingSubdivision:"8n",timeSignature:4})}_processTick(e,t){if(this._loop.get(e)&&t>=this._loopEnd&&(this.emit("loopEnd",e),this._clock.setTicksAtTime(this._loopStart,e),t=this._loopStart,this.emit("loopStart",e,this._clock.getSecondsAtTime(e)),this.emit("loop",e)),this._swingAmount>0&&t%this._ppq!==0&&t%(2*this._swingTicks)!==0){const n=t%(2*this._swingTicks)/(2*this._swingTicks),r=Math.sin(n*Math.PI)*this._swingAmount;e+=new Us(this.context,2*this._swingTicks/3).toSeconds()*r}Sa(!0),this._timeline.forEachAtTime(t,(t=>t.invoke(e))),Sa(!1)}schedule(e,t){const n=new Zs(this,{callback:e,time:new ks(this.context,t).toTicks()});return this._addEvent(n,this._timeline)}scheduleRepeat(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1/0;const i=new Ks(this,{callback:e,duration:new ys(this.context,r).toTicks(),interval:new ys(this.context,t).toTicks(),time:new ks(this.context,n).toTicks()});return this._addEvent(i,this._repeatedEvents)}scheduleOnce(e,t){const n=new Zs(this,{callback:e,once:!0,time:new ks(this.context,t).toTicks()});return this._addEvent(n,this._timeline)}clear(e){if(this._scheduledEvents.hasOwnProperty(e)){const t=this._scheduledEvents[e.toString()];t.timeline.remove(t.event),t.event.dispose(),delete this._scheduledEvents[e.toString()]}return this}_addEvent(e,t){return this._scheduledEvents[e.id.toString()]={event:e,timeline:t},t.add(e),e.id}cancel(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;const t=this.toTicks(e);return this._timeline.forEachFrom(t,(e=>this.clear(e.id))),this._repeatedEvents.forEachFrom(t,(e=>this.clear(e.id))),this}_bindClockEvents(){this._clock.on("start",((e,t)=>{t=new Us(this.context,t).toSeconds(),this.emit("start",e,t)})),this._clock.on("stop",(e=>{this.emit("stop",e)})),this._clock.on("pause",(e=>{this.emit("pause",e)}))}get state(){return this._clock.getStateAtTime(this.now())}start(e,t){let n;return this.context.resume(),ha(t)&&(n=this.toTicks(t)),this._clock.start(e,n),this}stop(e){return this._clock.stop(e),this}pause(e){return this._clock.pause(e),this}toggle(e){return e=this.toSeconds(e),"started"!==this._clock.getStateAtTime(e)?this.start(e):this.stop(e),this}get timeSignature(){return this._timeSignature}set timeSignature(e){ma(e)&&(e=e[0]/e[1]*4),this._timeSignature=e}get loopStart(){return new ys(this.context,this._loopStart,"i").toSeconds()}set loopStart(e){this._loopStart=this.toTicks(e)}get loopEnd(){return new ys(this.context,this._loopEnd,"i").toSeconds()}set loopEnd(e){this._loopEnd=this.toTicks(e)}get loop(){return this._loop.get(this.now())}set loop(e){this._loop.set(e,this.now())}setLoopPoints(e,t){return this.loopStart=e,this.loopEnd=t,this}get swing(){return this._swingAmount}set swing(e){this._swingAmount=e}get swingSubdivision(){return new Us(this.context,this._swingTicks).toNotation()}set swingSubdivision(e){this._swingTicks=this.toTicks(e)}get position(){const e=this.now(),t=this._clock.getTicksAtTime(e);return new Us(this.context,t).toBarsBeatsSixteenths()}set position(e){const t=this.toTicks(e);this.ticks=t}get seconds(){return this._clock.seconds}set seconds(e){const t=this.now(),n=this._clock.frequency.timeToTicks(e,t);this.ticks=n}get progress(){if(this.loop){const e=this.now();return(this._clock.getTicksAtTime(e)-this._loopStart)/(this._loopEnd-this._loopStart)}return 0}get ticks(){return this._clock.ticks}set ticks(e){if(this._clock.ticks!==e){const t=this.now();if("started"===this.state){const n=this._clock.getTicksAtTime(t),r=t+this._clock.frequency.getDurationOfTicks(Math.ceil(n)-n,t);this.emit("stop",r),this._clock.setTicksAtTime(e,r),this.emit("start",r,this._clock.getSecondsAtTime(r))}else this.emit("ticks",t),this._clock.setTicksAtTime(e,t)}}getTicksAtTime(e){return this._clock.getTicksAtTime(e)}getSecondsAtTime(e){return this._clock.getSecondsAtTime(e)}get PPQ(){return this._clock.frequency.multiplier}set PPQ(e){this._clock.frequency.multiplier=e}nextSubdivision(e){if(e=this.toTicks(e),"started"!==this.state)return 0;{const t=this.now(),n=e-this.getTicksAtTime(t)%e;return this._clock.nextTickTime(n,t)}}syncSignal(e,t){const n=this.now();let r=this.bpm,i=1/(60/r.getValueAtTime(n)/this.PPQ),o=[];if("time"===e.units){const e=1/64/i,t=new Ms(e),n=new Xs(-1),a=new Ms(e);r.chain(t,n,a),r=a,i=1/i,o=[t,n,a]}t||(t=0!==e.getValueAtTime(n)?e.getValueAtTime(n)/i:0);const a=new Ms(t);return r.connect(a),a.connect(e._param),o.push(a),this._syncedSignals.push({initial:e.value,nodes:o,signal:e}),e.value=0,this}unsyncSignal(e){for(let t=this._syncedSignals.length-1;t>=0;t--){const n=this._syncedSignals[t];n.signal===e&&(n.nodes.forEach((e=>e.dispose())),n.signal.value=n.initial,this._syncedSignals.splice(t,1))}return this}dispose(){return super.dispose(),this._clock.dispose(),ns(this,"bpm"),this._timeline.dispose(),this._repeatedEvents.dispose(),this}}Ka.mixin(Js),Qa((e=>{e.transport=new Js({context:e})})),Za((e=>{e.transport.dispose()}));class el extends Ts{constructor(e){super(e),this.input=void 0,this._state=new xs("stopped"),this._synced=!1,this._scheduled=[],this._syncedStart=rs,this._syncedStop=rs,this._state.memory=100,this._state.increasing=!0,this._volume=this.output=new Vs({context:this.context,mute:e.mute,volume:e.volume}),this.volume=this._volume.volume,ts(this,"volume"),this.onstop=e.onstop}static getDefaults(){return Object.assign(Ts.getDefaults(),{mute:!1,onstop:rs,volume:0})}get state(){return this._synced?"started"===this.context.transport.state?this._state.getValueAtTime(this.context.transport.seconds):"stopped":this._state.getValueAtTime(this.now())}get mute(){return this._volume.mute}set mute(e){this._volume.mute=e}_clampToCurrentTime(e){return this._synced?e:Math.max(e,this.context.currentTime)}start(e,t,n){let r=ua(e)&&this._synced?this.context.transport.seconds:this.toSeconds(e);if(r=this._clampToCurrentTime(r),this._synced||"started"!==this._state.getValueAtTime(r))if(this.log("start",r),this._state.setStateAtTime("started",r),this._synced){const e=this._state.get(r);e&&(e.offset=this.toSeconds(Fa(t,0)),e.duration=n?this.toSeconds(n):void 0);const i=this.context.transport.schedule((e=>{this._start(e,t,n)}),r);this._scheduled.push(i),"started"===this.context.transport.state&&this.context.transport.getSecondsAtTime(this.immediate())>r&&this._syncedStart(this.now(),this.context.transport.seconds)}else ba(this.context),this._start(r,t,n);else ya(Ba(r,this._state.get(r).time),"Start time must be strictly greater than previous start time"),this._state.cancel(r),this._state.setStateAtTime("started",r),this.log("restart",r),this.restart(r,t,n);return this}stop(e){let t=ua(e)&&this._synced?this.context.transport.seconds:this.toSeconds(e);if(t=this._clampToCurrentTime(t),"started"===this._state.getValueAtTime(t)||ha(this._state.getNextState("started",t))){if(this.log("stop",t),this._synced){const e=this.context.transport.schedule(this._stop.bind(this),t);this._scheduled.push(e)}else this._stop(t);this._state.cancel(t),this._state.setStateAtTime("stopped",t)}return this}restart(e,t,n){return e=this.toSeconds(e),"started"===this._state.getValueAtTime(e)&&(this._state.cancel(e),this._restart(e,t,n)),this}sync(){return this._synced||(this._synced=!0,this._syncedStart=(e,t)=>{if(Ba(t,0)){const n=this._state.get(t);if(n&&"started"===n.state&&n.time!==t){const r=t-this.toSeconds(n.time);let i;n.duration&&(i=this.toSeconds(n.duration)-r),this._start(e,this.toSeconds(n.offset)+r,i)}}},this._syncedStop=e=>{const t=this.context.transport.getSecondsAtTime(Math.max(e-this.sampleTime,0));"started"===this._state.getValueAtTime(t)&&this._stop(e)},this.context.transport.on("start",this._syncedStart),this.context.transport.on("loopStart",this._syncedStart),this.context.transport.on("stop",this._syncedStop),this.context.transport.on("pause",this._syncedStop),this.context.transport.on("loopEnd",this._syncedStop)),this}unsync(){return this._synced&&(this.context.transport.off("stop",this._syncedStop),this.context.transport.off("pause",this._syncedStop),this.context.transport.off("loopEnd",this._syncedStop),this.context.transport.off("start",this._syncedStart),this.context.transport.off("loopStart",this._syncedStart)),this._synced=!1,this._scheduled.forEach((e=>this.context.transport.clear(e))),this._scheduled=[],this._state.cancel(0),this._stop(0),this}dispose(){return super.dispose(),this.onstop=rs,this.unsync(),this._volume.dispose(),this._state.dispose(),this}}class tl extends Ps{constructor(){const e=ja(tl.getDefaults(),arguments,["url","onload"]);super(e),this.name="ToneBufferSource",this._source=this.context.createBufferSource(),this._internalChannels=[this._source],this._sourceStarted=!1,this._sourceStopped=!1,As(this._source,this._gainNode),this._source.onended=()=>this._stopSource(),this.playbackRate=new Cs({context:this.context,param:this._source.playbackRate,units:"positive",value:e.playbackRate}),this.loop=e.loop,this.loopStart=e.loopStart,this.loopEnd=e.loopEnd,this._buffer=new is(e.url,e.onload,e.onerror),this._internalChannels.push(this._source)}static getDefaults(){return Object.assign(Ps.getDefaults(),{url:new is,loop:!1,loopEnd:0,loopStart:0,onload:rs,onerror:rs,playbackRate:1})}get fadeIn(){return this._fadeIn}set fadeIn(e){this._fadeIn=e}get fadeOut(){return this._fadeOut}set fadeOut(e){this._fadeOut=e}get curve(){return this._curve}set curve(e){this._curve=e}start(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;ya(this.buffer.loaded,"buffer is either not set or not loaded");const i=this.toSeconds(e);this._startGain(i,r),t=this.loop?Fa(t,this.loopStart):Fa(t,0);let o=Math.max(this.toSeconds(t),0);if(this.loop){const e=this.toSeconds(this.loopEnd)||this.buffer.duration,t=this.toSeconds(this.loopStart),n=e-t;Ua(o,e)&&(o=(o-t)%n+t),Ha(o,this.buffer.duration)&&(o=0)}if(this._source.buffer=this.buffer.get(),this._source.loopEnd=this.toSeconds(this.loopEnd)||this.buffer.duration,Wa(o,this.buffer.duration)&&(this._sourceStarted=!0,this._source.start(i,o)),ha(n)){let e=this.toSeconds(n);e=Math.max(e,0),this.stop(i+e)}return this}_stopSource(e){!this._sourceStopped&&this._sourceStarted&&(this._sourceStopped=!0,this._source.stop(this.toSeconds(e)),this._onended())}get loopStart(){return this._source.loopStart}set loopStart(e){this._source.loopStart=this.toSeconds(e)}get loopEnd(){return this._source.loopEnd}set loopEnd(e){this._source.loopEnd=this.toSeconds(e)}get buffer(){return this._buffer}set buffer(e){this._buffer.set(e)}get loop(){return this._source.loop}set loop(e){this._source.loop=e,this._sourceStarted&&this.cancelStop()}dispose(){return super.dispose(),this._source.onended=null,this._source.disconnect(),this._buffer.dispose(),this.playbackRate.dispose(),this}}function nl(e,t){return Oa(this,void 0,void 0,(function*(){const n=t/e.context.sampleRate,r=new os(1,n,e.context.sampleRate);new e.constructor(Object.assign(e.get(),{frequency:2/n,detune:0,context:r})).toDestination().start(0);return(yield r.render()).getChannelData(0)}))}class rl extends Ps{constructor(){const e=ja(rl.getDefaults(),arguments,["frequency","type"]);super(e),this.name="ToneOscillatorNode",this._oscillator=this.context.createOscillator(),this._internalChannels=[this._oscillator],As(this._oscillator,this._gainNode),this.type=e.type,this.frequency=new Cs({context:this.context,param:this._oscillator.frequency,units:"frequency",value:e.frequency}),this.detune=new Cs({context:this.context,param:this._oscillator.detune,units:"cents",value:e.detune}),ts(this,["frequency","detune"])}static getDefaults(){return Object.assign(Ps.getDefaults(),{detune:0,frequency:440,type:"sine"})}start(e){const t=this.toSeconds(e);return this.log("start",t),this._startGain(t),this._oscillator.start(t),this}_stopSource(e){this._oscillator.stop(e)}setPeriodicWave(e){return this._oscillator.setPeriodicWave(e),this}get type(){return this._oscillator.type}set type(e){this._oscillator.type=e}dispose(){return super.dispose(),"started"===this.state&&this.stop(),this._oscillator.disconnect(),this.frequency.dispose(),this.detune.dispose(),this}}class il extends el{constructor(){const e=ja(il.getDefaults(),arguments,["frequency","type"]);super(e),this.name="Oscillator",this._oscillator=null,this.frequency=new Is({context:this.context,units:"frequency",value:e.frequency}),ts(this,"frequency"),this.detune=new Is({context:this.context,units:"cents",value:e.detune}),ts(this,"detune"),this._partials=e.partials,this._partialCount=e.partialCount,this._type=e.type,e.partialCount&&"custom"!==e.type&&(this._type=this.baseType+e.partialCount.toString()),this.phase=e.phase}static getDefaults(){return Object.assign(el.getDefaults(),{detune:0,frequency:440,partialCount:0,partials:[],phase:0,type:"sine"})}_start(e){const t=this.toSeconds(e),n=new rl({context:this.context,onended:()=>this.onstop(this)});this._oscillator=n,this._wave?this._oscillator.setPeriodicWave(this._wave):this._oscillator.type=this._type,this._oscillator.connect(this.output),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.start(t)}_stop(e){const t=this.toSeconds(e);this._oscillator&&this._oscillator.stop(t)}_restart(e){const t=this.toSeconds(e);return this.log("restart",t),this._oscillator&&this._oscillator.cancelStop(),this._state.cancel(t),this}syncFrequency(){return this.context.transport.syncSignal(this.frequency),this}unsyncFrequency(){return this.context.transport.unsyncSignal(this.frequency),this}_getCachedPeriodicWave(){if("custom"===this._type){const e=il._periodicWaveCache.find((e=>{return e.phase===this._phase&&(t=e.partials,n=this._partials,t.length===n.length&&t.every(((e,t)=>n[t]===e)));var t,n}));return e}{const e=il._periodicWaveCache.find((e=>e.type===this._type&&e.phase===this._phase));return this._partialCount=e?e.partialCount:this._partialCount,e}}get type(){return this._type}set type(e){this._type=e;const t=-1!==["sine","square","sawtooth","triangle"].indexOf(e);if(0===this._phase&&t)this._wave=void 0,this._partialCount=0,null!==this._oscillator&&(this._oscillator.type=e);else{const t=this._getCachedPeriodicWave();if(ha(t)){const{partials:e,wave:n}=t;this._wave=n,this._partials=e,null!==this._oscillator&&this._oscillator.setPeriodicWave(this._wave)}else{const[t,n]=this._getRealImaginary(e,this._phase),r=this.context.createPeriodicWave(t,n);this._wave=r,null!==this._oscillator&&this._oscillator.setPeriodicWave(this._wave),il._periodicWaveCache.push({imag:n,partialCount:this._partialCount,partials:this._partials,phase:this._phase,real:t,type:this._type,wave:this._wave}),il._periodicWaveCache.length>100&&il._periodicWaveCache.shift()}}}get baseType(){return this._type.replace(this.partialCount.toString(),"")}set baseType(e){this.partialCount&&"custom"!==this._type&&"custom"!==e?this.type=e+this.partialCount:this.type=e}get partialCount(){return this._partialCount}set partialCount(e){_a(e,0);let t=this._type;const n=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(this._type);if(n&&(t=n[1]),"custom"!==this._type)this.type=0===e?t:t+e.toString();else{const t=new Float32Array(e);this._partials.forEach(((e,n)=>t[n]=e)),this._partials=Array.from(t),this.type=this._type}}_getRealImaginary(e,t){let n=2048;const r=new Float32Array(n),i=new Float32Array(n);let o=1;if("custom"===e){if(o=this._partials.length+1,this._partialCount=this._partials.length,n=o,0===this._partials.length)return[r,i]}else{const t=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(e);t?(o=parseInt(t[2],10)+1,this._partialCount=parseInt(t[2],10),e=t[1],o=Math.max(o,2),n=o):this._partialCount=0,this._partials=[]}for(let a=1;a<n;++a){const n=2/(a*Math.PI);let s;switch(e){case"sine":s=a<=o?1:0,this._partials[a-1]=s;break;case"square":s=1&a?2*n:0,this._partials[a-1]=s;break;case"sawtooth":s=n*(1&a?1:-1),this._partials[a-1]=s;break;case"triangle":s=1&a?n*n*2*(a-1>>1&1?-1:1):0,this._partials[a-1]=s;break;case"custom":s=this._partials[a-1];break;default:throw new TypeError("Oscillator: invalid type: "+e)}0!==s?(r[a]=-s*Math.sin(t*a),i[a]=s*Math.cos(t*a)):(r[a]=0,i[a]=0)}return[r,i]}_inverseFFT(e,t,n){let r=0;const i=e.length;for(let o=0;o<i;o++)r+=e[o]*Math.cos(o*n)+t[o]*Math.sin(o*n);return r}getInitialValue(){const[e,t]=this._getRealImaginary(this._type,0);let n=0;const r=2*Math.PI;for(let i=0;i<32;i++)n=Math.max(this._inverseFFT(e,t,i/32*r),n);return $a(-this._inverseFFT(e,t,this._phase)/n,-1,1)}get partials(){return this._partials.slice(0,this.partialCount)}set partials(e){this._partials=e,this._partialCount=this._partials.length,e.length&&(this.type="custom")}get phase(){return this._phase*(180/Math.PI)}set phase(e){this._phase=e*Math.PI/180,this.type=this._type}asArray(){return Oa(this,arguments,void 0,(function(){var e=this;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1024;return function*(){return nl(e,t)}()}))}dispose(){return super.dispose(),null!==this._oscillator&&this._oscillator.dispose(),this._wave=void 0,this.frequency.dispose(),this.detune.dispose(),this}}il._periodicWaveCache=[];class ol extends Ys{constructor(){super(...arguments),this.name="AudioToGain",this._norm=new Qs({context:this.context,mapping:e=>(e+1)/2}),this.input=this._norm,this.output=this._norm}dispose(){return super.dispose(),this._norm.dispose(),this}}class al extends Is{constructor(){const e=ja(al.getDefaults(),arguments,["value"]);super(e),this.name="Multiply",this.override=!1,this._mult=this.input=this.output=new Ms({context:this.context,minValue:e.minValue,maxValue:e.maxValue}),this.factor=this._param=this._mult.gain,this.factor.setValueAtTime(e.value,0)}static getDefaults(){return Object.assign(Is.getDefaults(),{value:0})}dispose(){return super.dispose(),this._mult.dispose(),this}}class sl extends el{constructor(){const e=ja(sl.getDefaults(),arguments,["frequency","type","modulationType"]);super(e),this.name="AMOscillator",this._modulationScale=new ol({context:this.context}),this._modulationNode=new Ms({context:this.context}),this._carrier=new il({context:this.context,detune:e.detune,frequency:e.frequency,onstop:()=>this.onstop(this),phase:e.phase,type:e.type}),this.frequency=this._carrier.frequency,this.detune=this._carrier.detune,this._modulator=new il({context:this.context,phase:e.phase,type:e.modulationType}),this.harmonicity=new al({context:this.context,units:"positive",value:e.harmonicity}),this.frequency.chain(this.harmonicity,this._modulator.frequency),this._modulator.chain(this._modulationScale,this._modulationNode.gain),this._carrier.chain(this._modulationNode,this.output),ts(this,["frequency","detune","harmonicity"])}static getDefaults(){return Object.assign(il.getDefaults(),{harmonicity:1,modulationType:"square"})}_start(e){this._modulator.start(e),this._carrier.start(e)}_stop(e){this._modulator.stop(e),this._carrier.stop(e)}_restart(e){this._modulator.restart(e),this._carrier.restart(e)}get type(){return this._carrier.type}set type(e){this._carrier.type=e}get baseType(){return this._carrier.baseType}set baseType(e){this._carrier.baseType=e}get partialCount(){return this._carrier.partialCount}set partialCount(e){this._carrier.partialCount=e}get modulationType(){return this._modulator.type}set modulationType(e){this._modulator.type=e}get phase(){return this._carrier.phase}set phase(e){this._carrier.phase=e,this._modulator.phase=e}get partials(){return this._carrier.partials}set partials(e){this._carrier.partials=e}asArray(){return Oa(this,arguments,void 0,(function(){var e=this;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1024;return function*(){return nl(e,t)}()}))}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this._modulationScale.dispose(),this}}class ll extends el{constructor(){const e=ja(ll.getDefaults(),arguments,["frequency","type","modulationType"]);super(e),this.name="FMOscillator",this._modulationNode=new Ms({context:this.context,gain:0}),this._carrier=new il({context:this.context,detune:e.detune,frequency:0,onstop:()=>this.onstop(this),phase:e.phase,type:e.type}),this.detune=this._carrier.detune,this.frequency=new Is({context:this.context,units:"frequency",value:e.frequency}),this._modulator=new il({context:this.context,phase:e.phase,type:e.modulationType}),this.harmonicity=new al({context:this.context,units:"positive",value:e.harmonicity}),this.modulationIndex=new al({context:this.context,units:"positive",value:e.modulationIndex}),this.frequency.connect(this._carrier.frequency),this.frequency.chain(this.harmonicity,this._modulator.frequency),this.frequency.chain(this.modulationIndex,this._modulationNode),this._modulator.connect(this._modulationNode.gain),this._modulationNode.connect(this._carrier.frequency),this._carrier.connect(this.output),this.detune.connect(this._modulator.detune),ts(this,["modulationIndex","frequency","detune","harmonicity"])}static getDefaults(){return Object.assign(il.getDefaults(),{harmonicity:1,modulationIndex:2,modulationType:"square"})}_start(e){this._modulator.start(e),this._carrier.start(e)}_stop(e){this._modulator.stop(e),this._carrier.stop(e)}_restart(e){return this._modulator.restart(e),this._carrier.restart(e),this}get type(){return this._carrier.type}set type(e){this._carrier.type=e}get baseType(){return this._carrier.baseType}set baseType(e){this._carrier.baseType=e}get partialCount(){return this._carrier.partialCount}set partialCount(e){this._carrier.partialCount=e}get modulationType(){return this._modulator.type}set modulationType(e){this._modulator.type=e}get phase(){return this._carrier.phase}set phase(e){this._carrier.phase=e,this._modulator.phase=e}get partials(){return this._carrier.partials}set partials(e){this._carrier.partials=e}asArray(){return Oa(this,arguments,void 0,(function(){var e=this;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1024;return function*(){return nl(e,t)}()}))}dispose(){return super.dispose(),this.frequency.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this.modulationIndex.dispose(),this}}class cl extends el{constructor(){const e=ja(cl.getDefaults(),arguments,["frequency","width"]);super(e),this.name="PulseOscillator",this._widthGate=new Ms({context:this.context,gain:0}),this._thresh=new Qs({context:this.context,mapping:e=>e<=0?-1:1}),this.width=new Is({context:this.context,units:"audioRange",value:e.width}),this._triangle=new il({context:this.context,detune:e.detune,frequency:e.frequency,onstop:()=>this.onstop(this),phase:e.phase,type:"triangle"}),this.frequency=this._triangle.frequency,this.detune=this._triangle.detune,this._triangle.chain(this._thresh,this.output),this.width.chain(this._widthGate,this._thresh),ts(this,["width","frequency","detune"])}static getDefaults(){return Object.assign(el.getDefaults(),{detune:0,frequency:440,phase:0,type:"pulse",width:.2})}_start(e){e=this.toSeconds(e),this._triangle.start(e),this._widthGate.gain.setValueAtTime(1,e)}_stop(e){e=this.toSeconds(e),this._triangle.stop(e),this._widthGate.gain.cancelScheduledValues(e),this._widthGate.gain.setValueAtTime(0,e)}_restart(e){this._triangle.restart(e),this._widthGate.gain.cancelScheduledValues(e),this._widthGate.gain.setValueAtTime(1,e)}get phase(){return this._triangle.phase}set phase(e){this._triangle.phase=e}get type(){return"pulse"}get baseType(){return"pulse"}get partials(){return[]}get partialCount(){return 0}set carrierType(e){this._triangle.type=e}asArray(){return Oa(this,arguments,void 0,(function(){var e=this;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1024;return function*(){return nl(e,t)}()}))}dispose(){return super.dispose(),this._triangle.dispose(),this.width.dispose(),this._widthGate.dispose(),this._thresh.dispose(),this}}class ul extends el{constructor(){const e=ja(ul.getDefaults(),arguments,["frequency","type","spread"]);super(e),this.name="FatOscillator",this._oscillators=[],this.frequency=new Is({context:this.context,units:"frequency",value:e.frequency}),this.detune=new Is({context:this.context,units:"cents",value:e.detune}),this._spread=e.spread,this._type=e.type,this._phase=e.phase,this._partials=e.partials,this._partialCount=e.partialCount,this.count=e.count,ts(this,["frequency","detune"])}static getDefaults(){return Object.assign(il.getDefaults(),{count:3,spread:20,type:"sawtooth"})}_start(e){e=this.toSeconds(e),this._forEach((t=>t.start(e)))}_stop(e){e=this.toSeconds(e),this._forEach((t=>t.stop(e)))}_restart(e){this._forEach((t=>t.restart(e)))}_forEach(e){for(let t=0;t<this._oscillators.length;t++)e(this._oscillators[t],t)}get type(){return this._type}set type(e){this._type=e,this._forEach((t=>t.type=e))}get spread(){return this._spread}set spread(e){if(this._spread=e,this._oscillators.length>1){const t=-e/2,n=e/(this._oscillators.length-1);this._forEach(((e,r)=>e.detune.value=t+n*r))}}get count(){return this._oscillators.length}set count(e){if(_a(e,1),this._oscillators.length!==e){this._forEach((e=>e.dispose())),this._oscillators=[];for(let t=0;t<e;t++){const n=new il({context:this.context,volume:-6-1.1*e,type:this._type,phase:this._phase+t/e*360,partialCount:this._partialCount,onstop:0===t?()=>this.onstop(this):rs});"custom"===this.type&&(n.partials=this._partials),this.frequency.connect(n.frequency),this.detune.connect(n.detune),n.detune.overridden=!1,n.connect(this.output),this._oscillators[t]=n}this.spread=this._spread,"started"===this.state&&this._forEach((e=>e.start()))}}get phase(){return this._phase}set phase(e){this._phase=e,this._forEach(((e,t)=>e.phase=this._phase+t/this.count*360))}get baseType(){return this._oscillators[0].baseType}set baseType(e){this._forEach((t=>t.baseType=e)),this._type=this._oscillators[0].type}get partials(){return this._oscillators[0].partials}set partials(e){this._partials=e,this._partialCount=this._partials.length,e.length&&(this._type="custom",this._forEach((t=>t.partials=e)))}get partialCount(){return this._oscillators[0].partialCount}set partialCount(e){this._partialCount=e,this._forEach((t=>t.partialCount=e)),this._type=this._oscillators[0].type}asArray(){return Oa(this,arguments,void 0,(function(){var e=this;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1024;return function*(){return nl(e,t)}()}))}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this._forEach((e=>e.dispose())),this}}class hl extends el{constructor(){const e=ja(hl.getDefaults(),arguments,["frequency","modulationFrequency"]);super(e),this.name="PWMOscillator",this.sourceType="pwm",this._scale=new al({context:this.context,value:2}),this._pulse=new cl({context:this.context,frequency:e.modulationFrequency}),this._pulse.carrierType="sine",this.modulationFrequency=this._pulse.frequency,this._modulator=new il({context:this.context,detune:e.detune,frequency:e.frequency,onstop:()=>this.onstop(this),phase:e.phase}),this.frequency=this._modulator.frequency,this.detune=this._modulator.detune,this._modulator.chain(this._scale,this._pulse.width),this._pulse.connect(this.output),ts(this,["modulationFrequency","frequency","detune"])}static getDefaults(){return Object.assign(el.getDefaults(),{detune:0,frequency:440,modulationFrequency:.4,phase:0,type:"pwm"})}_start(e){e=this.toSeconds(e),this._modulator.start(e),this._pulse.start(e)}_stop(e){e=this.toSeconds(e),this._modulator.stop(e),this._pulse.stop(e)}_restart(e){this._modulator.restart(e),this._pulse.restart(e)}get type(){return"pwm"}get baseType(){return"pwm"}get partials(){return[]}get partialCount(){return 0}get phase(){return this._modulator.phase}set phase(e){this._modulator.phase=e}asArray(){return Oa(this,arguments,void 0,(function(){var e=this;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1024;return function*(){return nl(e,t)}()}))}dispose(){return super.dispose(),this._pulse.dispose(),this._scale.dispose(),this._modulator.dispose(),this}}const dl={am:sl,fat:ul,fm:ll,oscillator:il,pulse:cl,pwm:hl};class pl extends el{constructor(){const e=ja(pl.getDefaults(),arguments,["frequency","type"]);super(e),this.name="OmniOscillator",this.frequency=new Is({context:this.context,units:"frequency",value:e.frequency}),this.detune=new Is({context:this.context,units:"cents",value:e.detune}),ts(this,["frequency","detune"]),this.set(e)}static getDefaults(){return Object.assign(il.getDefaults(),ll.getDefaults(),sl.getDefaults(),ul.getDefaults(),cl.getDefaults(),hl.getDefaults())}_start(e){this._oscillator.start(e)}_stop(e){this._oscillator.stop(e)}_restart(e){return this._oscillator.restart(e),this}get type(){let e="";return["am","fm","fat"].some((e=>this._sourceType===e))&&(e=this._sourceType),e+this._oscillator.type}set type(e){"fm"===e.substr(0,2)?(this._createNewOscillator("fm"),this._oscillator=this._oscillator,this._oscillator.type=e.substr(2)):"am"===e.substr(0,2)?(this._createNewOscillator("am"),this._oscillator=this._oscillator,this._oscillator.type=e.substr(2)):"fat"===e.substr(0,3)?(this._createNewOscillator("fat"),this._oscillator=this._oscillator,this._oscillator.type=e.substr(3)):"pwm"===e?(this._createNewOscillator("pwm"),this._oscillator=this._oscillator):"pulse"===e?this._createNewOscillator("pulse"):(this._createNewOscillator("oscillator"),this._oscillator=this._oscillator,this._oscillator.type=e)}get partials(){return this._oscillator.partials}set partials(e){this._getOscType(this._oscillator,"pulse")||this._getOscType(this._oscillator,"pwm")||(this._oscillator.partials=e)}get partialCount(){return this._oscillator.partialCount}set partialCount(e){this._getOscType(this._oscillator,"pulse")||this._getOscType(this._oscillator,"pwm")||(this._oscillator.partialCount=e)}set(e){return Reflect.has(e,"type")&&e.type&&(this.type=e.type),super.set(e),this}_createNewOscillator(e){if(e!==this._sourceType){this._sourceType=e;const t=dl[e],n=this.now();if(this._oscillator){const e=this._oscillator;e.stop(n),this.context.setTimeout((()=>e.dispose()),this.blockTime)}this._oscillator=new t({context:this.context}),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.connect(this.output),this._oscillator.onstop=()=>this.onstop(this),"started"===this.state&&this._oscillator.start(n)}}get phase(){return this._oscillator.phase}set phase(e){this._oscillator.phase=e}get sourceType(){return this._sourceType}set sourceType(e){let t="sine";"pwm"!==this._oscillator.type&&"pulse"!==this._oscillator.type&&(t=this._oscillator.type),"fm"===e?this.type="fm"+t:"am"===e?this.type="am"+t:"fat"===e?this.type="fat"+t:"oscillator"===e?this.type=t:"pulse"===e?this.type="pulse":"pwm"===e&&(this.type="pwm")}_getOscType(e,t){return e instanceof dl[t]}get baseType(){return this._oscillator.baseType}set baseType(e){this._getOscType(this._oscillator,"pulse")||this._getOscType(this._oscillator,"pwm")||"pulse"===e||"pwm"===e||(this._oscillator.baseType=e)}get width(){return this._getOscType(this._oscillator,"pulse")?this._oscillator.width:void 0}get count(){return this._getOscType(this._oscillator,"fat")?this._oscillator.count:void 0}set count(e){this._getOscType(this._oscillator,"fat")&&da(e)&&(this._oscillator.count=e)}get spread(){return this._getOscType(this._oscillator,"fat")?this._oscillator.spread:void 0}set spread(e){this._getOscType(this._oscillator,"fat")&&da(e)&&(this._oscillator.spread=e)}get modulationType(){return this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am")?this._oscillator.modulationType:void 0}set modulationType(e){(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))&&ga(e)&&(this._oscillator.modulationType=e)}get modulationIndex(){return this._getOscType(this._oscillator,"fm")?this._oscillator.modulationIndex:void 0}get harmonicity(){return this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am")?this._oscillator.harmonicity:void 0}get modulationFrequency(){return this._getOscType(this._oscillator,"pwm")?this._oscillator.modulationFrequency:void 0}asArray(){return Oa(this,arguments,void 0,(function(){var e=this;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1024;return function*(){return nl(e,t)}()}))}dispose(){return super.dispose(),this.detune.dispose(),this.frequency.dispose(),this._oscillator.dispose(),this}}function fl(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1/0;const n=new WeakMap;return function(r,i){Reflect.defineProperty(r,i,{configurable:!0,enumerable:!0,get:function(){return n.get(this)},set:function(r){_a(r,e,t),n.set(this,r)}})}}function ml(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1/0;const n=new WeakMap;return function(r,i){Reflect.defineProperty(r,i,{configurable:!0,enumerable:!0,get:function(){return n.get(this)},set:function(r){_a(this.toSeconds(r),e,t),n.set(this,r)}})}}class gl extends el{constructor(){const e=ja(gl.getDefaults(),arguments,["url","onload"]);super(e),this.name="Player",this._activeSources=new Set,this._buffer=new is({onload:this._onload.bind(this,e.onload),onerror:e.onerror,reverse:e.reverse,url:e.url}),this.autostart=e.autostart,this._loop=e.loop,this._loopStart=e.loopStart,this._loopEnd=e.loopEnd,this._playbackRate=e.playbackRate,this.fadeIn=e.fadeIn,this.fadeOut=e.fadeOut}static getDefaults(){return Object.assign(el.getDefaults(),{autostart:!1,fadeIn:0,fadeOut:0,loop:!1,loopEnd:0,loopStart:0,onload:rs,onerror:rs,playbackRate:1,reverse:!1})}load(e){return Oa(this,void 0,void 0,(function*(){return yield this._buffer.load(e),this._onload(),this}))}_onload(){(arguments.length>0&&void 0!==arguments[0]?arguments[0]:rs)(),this.autostart&&this.start()}_onSourceEnd(e){this.onstop(this),this._activeSources.delete(e),0!==this._activeSources.size||this._synced||"started"!==this._state.getValueAtTime(this.now())||(this._state.cancel(this.now()),this._state.setStateAtTime("stopped",this.now()))}start(e,t,n){return super.start(e,t,n),this}_start(e,t,n){t=this._loop?Fa(t,this._loopStart):Fa(t,0);const r=this.toSeconds(t),i=n;n=Fa(n,Math.max(this._buffer.duration-r,0));let o=this.toSeconds(n);o/=this._playbackRate,e=this.toSeconds(e);const a=new tl({url:this._buffer,context:this.context,fadeIn:this.fadeIn,fadeOut:this.fadeOut,loop:this._loop,loopEnd:this._loopEnd,loopStart:this._loopStart,onended:this._onSourceEnd.bind(this),playbackRate:this._playbackRate}).connect(this.output);this._loop||this._synced||(this._state.cancel(e+o),this._state.setStateAtTime("stopped",e+o,{implicitEnd:!0})),this._activeSources.add(a),this._loop&&ua(i)?a.start(e,r):a.start(e,r,o-this.toSeconds(this.fadeOut))}_stop(e){const t=this.toSeconds(e);this._activeSources.forEach((e=>e.stop(t)))}restart(e,t,n){return super.restart(e,t,n),this}_restart(e,t,n){var r;null===(r=[...this._activeSources].pop())||void 0===r||r.stop(e),this._start(e,t,n)}seek(e,t){const n=this.toSeconds(t);if("started"===this._state.getValueAtTime(n)){const t=this.toSeconds(e);this._stop(n),this._start(n,t)}return this}setLoopPoints(e,t){return this.loopStart=e,this.loopEnd=t,this}get loopStart(){return this._loopStart}set loopStart(e){this._loopStart=e,this.buffer.loaded&&_a(this.toSeconds(e),0,this.buffer.duration),this._activeSources.forEach((t=>{t.loopStart=e}))}get loopEnd(){return this._loopEnd}set loopEnd(e){this._loopEnd=e,this.buffer.loaded&&_a(this.toSeconds(e),0,this.buffer.duration),this._activeSources.forEach((t=>{t.loopEnd=e}))}get buffer(){return this._buffer}set buffer(e){this._buffer.set(e)}get loop(){return this._loop}set loop(e){if(this._loop!==e&&(this._loop=e,this._activeSources.forEach((t=>{t.loop=e})),e)){const e=this._state.getNextState("stopped",this.now());e&&this._state.cancel(e.time)}}get playbackRate(){return this._playbackRate}set playbackRate(e){this._playbackRate=e;const t=this.now(),n=this._state.getNextState("stopped",t);n&&n.implicitEnd&&(this._state.cancel(n.time),this._activeSources.forEach((e=>e.cancelStop()))),this._activeSources.forEach((n=>{n.playbackRate.setValueAtTime(e,t)}))}get reverse(){return this._buffer.reverse}set reverse(e){this._buffer.reverse=e}get loaded(){return this._buffer.loaded}dispose(){return super.dispose(),this._activeSources.forEach((e=>e.dispose())),this._activeSources.clear(),this._buffer.dispose(),this}}Aa([ml(0)],gl.prototype,"fadeIn",void 0),Aa([ml(0)],gl.prototype,"fadeOut",void 0);class vl extends Ts{constructor(){const e=ja(vl.getDefaults(),arguments,["attack","decay","sustain","release"]);super(e),this.name="Envelope",this._sig=new Is({context:this.context,value:0}),this.output=this._sig,this.input=void 0,this.attack=e.attack,this.decay=e.decay,this.sustain=e.sustain,this.release=e.release,this.attackCurve=e.attackCurve,this.releaseCurve=e.releaseCurve,this.decayCurve=e.decayCurve}static getDefaults(){return Object.assign(Ts.getDefaults(),{attack:.01,attackCurve:"linear",decay:.1,decayCurve:"exponential",release:1,releaseCurve:"exponential",sustain:.5})}get value(){return this.getValueAtTime(this.now())}_getCurve(e,t){if(ga(e))return e;{let n;for(n in yl)if(yl[n][t]===e)return n;return e}}_setCurve(e,t,n){if(ga(n)&&Reflect.has(yl,n)){const r=yl[n];pa(r)?"_decayCurve"!==e&&(this[e]=r[t]):this[e]=r}else{if(!ma(n)||"_decayCurve"===e)throw new Error("Envelope: invalid curve: "+n);this[e]=n}}get attackCurve(){return this._getCurve(this._attackCurve,"In")}set attackCurve(e){this._setCurve("_attackCurve","In",e)}get releaseCurve(){return this._getCurve(this._releaseCurve,"Out")}set releaseCurve(e){this._setCurve("_releaseCurve","Out",e)}get decayCurve(){return this._getCurve(this._decayCurve,"Out")}set decayCurve(e){this._setCurve("_decayCurve","Out",e)}triggerAttack(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.log("triggerAttack",e,t),e=this.toSeconds(e);let n=this.toSeconds(this.attack);const r=this.toSeconds(this.decay),i=this.getValueAtTime(e);if(i>0){n=(1-i)/(1/n)}if(n<this.sampleTime)this._sig.cancelScheduledValues(e),this._sig.setValueAtTime(t,e);else if("linear"===this._attackCurve)this._sig.linearRampTo(t,n,e);else if("exponential"===this._attackCurve)this._sig.targetRampTo(t,n,e);else{this._sig.cancelAndHoldAtTime(e);let r=this._attackCurve;for(let e=1;e<r.length;e++)if(r[e-1]<=i&&i<=r[e]){r=this._attackCurve.slice(e),r[0]=i;break}this._sig.setValueCurveAtTime(r,e,n,t)}if(r&&this.sustain<1){const i=t*this.sustain,o=e+n;this.log("decay",o),"linear"===this._decayCurve?this._sig.linearRampToValueAtTime(i,r+o):this._sig.exponentialApproachValueAtTime(i,o,r)}return this}triggerRelease(e){this.log("triggerRelease",e),e=this.toSeconds(e);const t=this.getValueAtTime(e);if(t>0){const n=this.toSeconds(this.release);n<this.sampleTime?this._sig.setValueAtTime(0,e):"linear"===this._releaseCurve?this._sig.linearRampTo(0,n,e):"exponential"===this._releaseCurve?this._sig.targetRampTo(0,n,e):(ya(ma(this._releaseCurve),"releaseCurve must be either 'linear', 'exponential' or an array"),this._sig.cancelAndHoldAtTime(e),this._sig.setValueCurveAtTime(this._releaseCurve,e,n,t))}return this}getValueAtTime(e){return this._sig.getValueAtTime(e)}triggerAttackRelease(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return t=this.toSeconds(t),this.triggerAttack(t,n),this.triggerRelease(t+this.toSeconds(e)),this}cancel(e){return this._sig.cancelScheduledValues(this.toSeconds(e)),this}connect(e){return Rs(this,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,arguments.length>2&&void 0!==arguments[2]?arguments[2]:0),this}asArray(){return Oa(this,arguments,void 0,(function(){var e=this;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1024;return function*(){const n=t/e.context.sampleRate,r=new os(1,n,e.context.sampleRate),i=e.toSeconds(e.attack)+e.toSeconds(e.decay),o=i+e.toSeconds(e.release),a=.1*o,s=o+a,l=new e.constructor(Object.assign(e.get(),{attack:n*e.toSeconds(e.attack)/s,decay:n*e.toSeconds(e.decay)/s,release:n*e.toSeconds(e.release)/s,context:r}));l._sig.toDestination(),l.triggerAttackRelease(n*(i+a)/s,0);return(yield r.render()).getChannelData(0)}()}))}dispose(){return super.dispose(),this._sig.dispose(),this}}Aa([ml(0)],vl.prototype,"attack",void 0),Aa([ml(0)],vl.prototype,"decay",void 0),Aa([fl(0,1)],vl.prototype,"sustain",void 0),Aa([ml(0)],vl.prototype,"release",void 0);const yl=(()=>{const e=128;let t,n;const r=[];for(t=0;t<e;t++)r[t]=Math.sin(t/127*(Math.PI/2));const i=[];for(t=0;t<127;t++){n=t/127;const e=Math.sin(n*(2*Math.PI)*6.4-Math.PI/2)+1;i[t]=e/10+.83*n}i[127]=1;const o=[];for(t=0;t<e;t++)o[t]=Math.ceil(t/127*5)/5;const a=[];for(t=0;t<e;t++)n=t/127,a[t]=.5*(1-Math.cos(Math.PI*n));const s=[];for(t=0;t<e;t++){n=t/127;const e=4*Math.pow(n,3)+.2,r=Math.cos(e*Math.PI*2*n);s[t]=Math.abs(r*(1-n))}function l(e){const t=new Array(e.length);for(let n=0;n<e.length;n++)t[n]=1-e[n];return t}return{bounce:{In:l(s),Out:s},cosine:{In:r,Out:(c=r,c.slice(0).reverse())},exponential:"exponential",linear:"linear",ripple:{In:i,Out:l(i)},sine:{In:a,Out:l(a)},step:{In:o,Out:l(o)}};var c})();class _l extends Ts{constructor(){const e=ja(_l.getDefaults(),arguments);super(e),this._scheduledEvents=[],this._synced=!1,this._original_triggerAttack=this.triggerAttack,this._original_triggerRelease=this.triggerRelease,this._syncedRelease=e=>this._original_triggerRelease(e),this._volume=this.output=new Vs({context:this.context,volume:e.volume}),this.volume=this._volume.volume,ts(this,"volume")}static getDefaults(){return Object.assign(Ts.getDefaults(),{volume:0})}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",0),this.context.transport.on("stop",this._syncedRelease),this.context.transport.on("pause",this._syncedRelease),this.context.transport.on("loopEnd",this._syncedRelease)),this}_syncState(){let e=!1;return this._synced||(this._synced=!0,e=!0),e}_syncMethod(e,t){var n=this;const r=this["_original_"+e]=this[e];this[e]=function(){for(var e=arguments.length,i=new Array(e),o=0;o<e;o++)i[o]=arguments[o];const a=i[t],s=n.context.transport.schedule((e=>{i[t]=e,r.apply(n,i)}),a);n._scheduledEvents.push(s)}}unsync(){return this._scheduledEvents.forEach((e=>this.context.transport.clear(e))),this._scheduledEvents=[],this._synced&&(this._synced=!1,this.triggerAttack=this._original_triggerAttack,this.triggerRelease=this._original_triggerRelease,this.context.transport.off("stop",this._syncedRelease),this.context.transport.off("pause",this._syncedRelease),this.context.transport.off("loopEnd",this._syncedRelease)),this}triggerAttackRelease(e,t,n,r){const i=this.toSeconds(n),o=this.toSeconds(t);return this.triggerAttack(e,i,r),this.triggerRelease(i+o),this}dispose(){return super.dispose(),this._volume.dispose(),this.unsync(),this._scheduledEvents=[],this}}class bl extends _l{constructor(){const e=ja(bl.getDefaults(),arguments);super(e),this.portamento=e.portamento,this.onsilence=e.onsilence}static getDefaults(){return Object.assign(_l.getDefaults(),{detune:0,onsilence:rs,portamento:0})}triggerAttack(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;this.log("triggerAttack",e,t,n);const r=this.toSeconds(t);return this._triggerEnvelopeAttack(r,n),this.setNote(e,r),this}triggerRelease(e){this.log("triggerRelease",e);const t=this.toSeconds(e);return this._triggerEnvelopeRelease(t),this}setNote(e,t){const n=this.toSeconds(t),r=e instanceof _s?e.toFrequency():e;if(this.portamento>0&&this.getLevelAtTime(n)>.05){const e=this.toSeconds(this.portamento);this.frequency.exponentialRampTo(r,e,n)}else this.frequency.setValueAtTime(r,n);return this}}Aa([ml(0)],bl.prototype,"portamento",void 0);class wl extends vl{constructor(){super(ja(wl.getDefaults(),arguments,["attack","decay","sustain","release"])),this.name="AmplitudeEnvelope",this._gainNode=new Ms({context:this.context,gain:0}),this.output=this._gainNode,this.input=this._gainNode,this._sig.connect(this._gainNode.gain),this.output=this._gainNode,this.input=this._gainNode}dispose(){return super.dispose(),this._gainNode.dispose(),this}}class kl extends bl{constructor(){const e=ja(kl.getDefaults(),arguments);super(e),this.name="Synth",this.oscillator=new pl(Object.assign({context:this.context,detune:e.detune,onstop:()=>this.onsilence(this)},e.oscillator)),this.frequency=this.oscillator.frequency,this.detune=this.oscillator.detune,this.envelope=new wl(Object.assign({context:this.context},e.envelope)),this.oscillator.chain(this.envelope,this.output),ts(this,["oscillator","frequency","detune","envelope"])}static getDefaults(){return Object.assign(bl.getDefaults(),{envelope:Object.assign(Va(vl.getDefaults(),Object.keys(Ts.getDefaults())),{attack:.005,decay:.1,release:1,sustain:.3}),oscillator:Object.assign(Va(pl.getDefaults(),[...Object.keys(el.getDefaults()),"frequency","detune"]),{type:"triangle"})})}_triggerEnvelopeAttack(e,t){if(this.envelope.triggerAttack(e,t),this.oscillator.start(e),0===this.envelope.sustain){const t=this.toSeconds(this.envelope.attack),n=this.toSeconds(this.envelope.decay);this.oscillator.stop(e+t+n)}}_triggerEnvelopeRelease(e){this.envelope.triggerRelease(e),this.oscillator.stop(e+this.toSeconds(this.envelope.release))}getLevelAtTime(e){return e=this.toSeconds(e),this.envelope.getValueAtTime(e)}dispose(){return super.dispose(),this.oscillator.dispose(),this.envelope.dispose(),this}}class Sl extends kl{constructor(){const e=ja(Sl.getDefaults(),arguments);super(e),this.name="MembraneSynth",this.portamento=0,this.pitchDecay=e.pitchDecay,this.octaves=e.octaves,ts(this,["oscillator","envelope"])}static getDefaults(){return La(bl.getDefaults(),kl.getDefaults(),{envelope:{attack:.001,attackCurve:"exponential",decay:.4,release:1.4,sustain:.01},octaves:10,oscillator:{type:"sine"},pitchDecay:.05})}setNote(e,t){const n=this.toSeconds(t),r=this.toFrequency(e instanceof _s?e.toFrequency():e),i=r*this.octaves;return this.oscillator.frequency.setValueAtTime(i,n),this.oscillator.frequency.exponentialRampToValueAtTime(r,n+this.toSeconds(this.pitchDecay)),this}dispose(){return super.dispose(),this}}Aa([fl(0)],Sl.prototype,"octaves",void 0),Aa([ml(0)],Sl.prototype,"pitchDecay",void 0);const xl=new Set;function Cl(e){xl.add(e)}function Tl(e,t){const n='registerProcessor("'.concat(e,'", ').concat(t,")");xl.add(n)}Cl('\n\t/**\n\t * The base AudioWorkletProcessor for use in Tone.js. Works with the {@link ToneAudioWorklet}. \n\t */\n\tclass ToneAudioWorkletProcessor extends AudioWorkletProcessor {\n\n\t\tconstructor(options) {\n\t\t\t\n\t\t\tsuper(options);\n\t\t\t/**\n\t\t\t * If the processor was disposed or not. Keep alive until it\'s disposed.\n\t\t\t */\n\t\t\tthis.disposed = false;\n\t\t   \t/** \n\t\t\t * The number of samples in the processing block\n\t\t\t */\n\t\t\tthis.blockSize = 128;\n\t\t\t/**\n\t\t\t * the sample rate\n\t\t\t */\n\t\t\tthis.sampleRate = sampleRate;\n\n\t\t\tthis.port.onmessage = (event) => {\n\t\t\t\t// when it receives a dispose \n\t\t\t\tif (event.data === "dispose") {\n\t\t\t\t\tthis.disposed = true;\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\t}\n');Cl("\n\t/**\n\t * Abstract class for a single input/output processor. \n\t * has a 'generate' function which processes one sample at a time\n\t */\n\tclass SingleIOProcessor extends ToneAudioWorkletProcessor {\n\n\t\tconstructor(options) {\n\t\t\tsuper(Object.assign(options, {\n\t\t\t\tnumberOfInputs: 1,\n\t\t\t\tnumberOfOutputs: 1\n\t\t\t}));\n\t\t\t/**\n\t\t\t * Holds the name of the parameter and a single value of that\n\t\t\t * parameter at the current sample\n\t\t\t * @type { [name: string]: number }\n\t\t\t */\n\t\t\tthis.params = {}\n\t\t}\n\n\t\t/**\n\t\t * Generate an output sample from the input sample and parameters\n\t\t * @abstract\n\t\t * @param input number\n\t\t * @param channel number\n\t\t * @param parameters { [name: string]: number }\n\t\t * @returns number\n\t\t */\n\t\tgenerate(){}\n\n\t\t/**\n\t\t * Update the private params object with the \n\t\t * values of the parameters at the given index\n\t\t * @param parameters { [name: string]: Float32Array },\n\t\t * @param index number\n\t\t */\n\t\tupdateParams(parameters, index) {\n\t\t\tfor (const paramName in parameters) {\n\t\t\t\tconst param = parameters[paramName];\n\t\t\t\tif (param.length > 1) {\n\t\t\t\t\tthis.params[paramName] = parameters[paramName][index];\n\t\t\t\t} else {\n\t\t\t\t\tthis.params[paramName] = parameters[paramName][0];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t/**\n\t\t * Process a single frame of the audio\n\t\t * @param inputs Float32Array[][]\n\t\t * @param outputs Float32Array[][]\n\t\t */\n\t\tprocess(inputs, outputs, parameters) {\n\t\t\tconst input = inputs[0];\n\t\t\tconst output = outputs[0];\n\t\t\t// get the parameter values\n\t\t\tconst channelCount = Math.max(input && input.length || 0, output.length);\n\t\t\tfor (let sample = 0; sample < this.blockSize; sample++) {\n\t\t\t\tthis.updateParams(parameters, sample);\n\t\t\t\tfor (let channel = 0; channel < channelCount; channel++) {\n\t\t\t\t\tconst inputSample = input && input.length ? input[channel][sample] : 0;\n\t\t\t\t\toutput[channel][sample] = this.generate(inputSample, channel, this.params);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn !this.disposed;\n\t\t}\n\t};\n");Cl("\n\t/**\n\t * A multichannel buffer for use within an AudioWorkletProcessor as a delay line\n\t */\n\tclass DelayLine {\n\t\t\n\t\tconstructor(size, channels) {\n\t\t\tthis.buffer = [];\n\t\t\tthis.writeHead = []\n\t\t\tthis.size = size;\n\n\t\t\t// create the empty channels\n\t\t\tfor (let i = 0; i < channels; i++) {\n\t\t\t\tthis.buffer[i] = new Float32Array(this.size);\n\t\t\t\tthis.writeHead[i] = 0;\n\t\t\t}\n\t\t}\n\n\t\t/**\n\t\t * Push a value onto the end\n\t\t * @param channel number\n\t\t * @param value number\n\t\t */\n\t\tpush(channel, value) {\n\t\t\tthis.writeHead[channel] += 1;\n\t\t\tif (this.writeHead[channel] > this.size) {\n\t\t\t\tthis.writeHead[channel] = 0;\n\t\t\t}\n\t\t\tthis.buffer[channel][this.writeHead[channel]] = value;\n\t\t}\n\n\t\t/**\n\t\t * Get the recorded value of the channel given the delay\n\t\t * @param channel number\n\t\t * @param delay number delay samples\n\t\t */\n\t\tget(channel, delay) {\n\t\t\tlet readHead = this.writeHead[channel] - Math.floor(delay);\n\t\t\tif (readHead < 0) {\n\t\t\t\treadHead += this.size;\n\t\t\t}\n\t\t\treturn this.buffer[channel][readHead];\n\t\t}\n\t}\n");const El="feedback-comb-filter";Tl(El,'\n\tclass FeedbackCombFilterWorklet extends SingleIOProcessor {\n\n\t\tconstructor(options) {\n\t\t\tsuper(options);\n\t\t\tthis.delayLine = new DelayLine(this.sampleRate, options.channelCount || 2);\n\t\t}\n\n\t\tstatic get parameterDescriptors() {\n\t\t\treturn [{\n\t\t\t\tname: "delayTime",\n\t\t\t\tdefaultValue: 0.1,\n\t\t\t\tminValue: 0,\n\t\t\t\tmaxValue: 1,\n\t\t\t\tautomationRate: "k-rate"\n\t\t\t}, {\n\t\t\t\tname: "feedback",\n\t\t\t\tdefaultValue: 0.5,\n\t\t\t\tminValue: 0,\n\t\t\t\tmaxValue: 0.9999,\n\t\t\t\tautomationRate: "k-rate"\n\t\t\t}];\n\t\t}\n\n\t\tgenerate(input, channel, parameters) {\n\t\t\tconst delayedSample = this.delayLine.get(channel, parameters.delayTime * this.sampleRate);\n\t\t\tthis.delayLine.push(channel, input + delayedSample * parameters.feedback);\n\t\t\treturn delayedSample;\n\t\t}\n\t}\n');class Al extends _l{constructor(){const e=ja(Al.getDefaults(),arguments,["urls","onload","baseUrl"],"urls");super(e),this.name="Sampler",this._activeSources=new Map;const t={};Object.keys(e.urls).forEach((n=>{const r=parseInt(n,10);if(ya(va(n)||da(r)&&isFinite(r),"url key is neither a note or midi pitch: ".concat(n)),va(n)){const r=new _s(this.context,n).toMidi();t[r]=e.urls[n]}else da(r)&&isFinite(r)&&(t[r]=e.urls[r])})),this._buffers=new Bs({urls:t,onload:e.onload,baseUrl:e.baseUrl,onerror:e.onerror}),this.attack=e.attack,this.release=e.release,this.curve=e.curve,this._buffers.loaded&&Promise.resolve().then(e.onload)}static getDefaults(){return Object.assign(_l.getDefaults(),{attack:0,baseUrl:"",curve:"exponential",onload:rs,onerror:rs,release:.1,urls:{}})}_findClosest(e){let t=0;for(;t<96;){if(this._buffers.has(e+t))return-t;if(this._buffers.has(e-t))return t;t++}throw new Error("No available buffers for note: ".concat(e))}triggerAttack(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return this.log("triggerAttack",e,t,n),Array.isArray(e)||(e=[e]),e.forEach((e=>{const r=ms(new _s(this.context,e).toFrequency()),i=Math.round(r),o=r-i,a=this._findClosest(i),s=i-a,l=this._buffers.get(s),c=ds(a+o),u=new tl({url:l,context:this.context,curve:this.curve,fadeIn:this.attack,fadeOut:this.release,playbackRate:c}).connect(this.output);u.start(t,0,l.duration/c,n),ma(this._activeSources.get(i))||this._activeSources.set(i,[]),this._activeSources.get(i).push(u),u.onended=()=>{if(this._activeSources&&this._activeSources.has(i)){const e=this._activeSources.get(i),t=e.indexOf(u);-1!==t&&e.splice(t,1)}}})),this}triggerRelease(e,t){return this.log("triggerRelease",e,t),Array.isArray(e)||(e=[e]),e.forEach((e=>{const n=new _s(this.context,e).toMidi();if(this._activeSources.has(n)&&this._activeSources.get(n).length){const e=this._activeSources.get(n);t=this.toSeconds(t),e.forEach((e=>{e.stop(t)})),this._activeSources.set(n,[])}})),this}releaseAll(e){const t=this.toSeconds(e);return this._activeSources.forEach((e=>{for(;e.length;){e.shift().stop(t)}})),this}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",1)),this}triggerAttackRelease(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;const i=this.toSeconds(n);return this.triggerAttack(e,i,r),ma(t)?(ya(ma(e),"notes must be an array when duration is array"),e.forEach(((e,n)=>{const r=t[Math.min(n,t.length-1)];this.triggerRelease(e,i+this.toSeconds(r))}))):this.triggerRelease(e,i+this.toSeconds(t)),this}add(e,t,n){if(ya(va(e)||isFinite(e),"note must be a pitch or midi: ".concat(e)),va(e)){const r=new _s(this.context,e).toMidi();this._buffers.add(r,t,n)}else this._buffers.add(e,t,n);return this}get loaded(){return this._buffers.loaded}dispose(){return super.dispose(),this._buffers.dispose(),this._activeSources.forEach((e=>{e.forEach((e=>e.dispose()))})),this._activeSources.clear(),this}}Aa([ml(0)],Al.prototype,"attack",void 0),Aa([ml(0)],Al.prototype,"release",void 0);class Ol extends Ts{constructor(){const e=ja(Ol.getDefaults(),arguments,["pan"]);super(e),this.name="Panner",this._panner=this.context.createStereoPanner(),this.input=this._panner,this.output=this._panner,this.pan=new Cs({context:this.context,param:this._panner.pan,value:e.pan,minValue:-1,maxValue:1}),this._panner.channelCount=e.channelCount,this._panner.channelCountMode="explicit",ts(this,"pan")}static getDefaults(){return Object.assign(Ts.getDefaults(),{pan:0,channelCount:1})}dispose(){return super.dispose(),this._panner.disconnect(),this.pan.dispose(),this}}const Ml="bit-crusher";Tl(Ml,"\n\tclass BitCrusherWorklet extends SingleIOProcessor {\n\n\t\tstatic get parameterDescriptors() {\n\t\t\treturn [{\n\t\t\t\tname: \"bits\",\n\t\t\t\tdefaultValue: 12,\n\t\t\t\tminValue: 1,\n\t\t\t\tmaxValue: 16,\n\t\t\t\tautomationRate: 'k-rate'\n\t\t\t}];\n\t\t}\n\n\t\tgenerate(input, _channel, parameters) {\n\t\t\tconst step = Math.pow(0.5, parameters.bits - 1);\n\t\t\tconst val = step * Math.floor(input / step + 0.5);\n\t\t\treturn val;\n\t\t}\n\t}\n");class Pl extends Ts{constructor(){const e=ja(Pl.getDefaults(),arguments,["solo"]);super(e),this.name="Solo",this.input=this.output=new Ms({context:this.context}),Pl._allSolos.has(this.context)||Pl._allSolos.set(this.context,new Set),Pl._allSolos.get(this.context).add(this),this.solo=e.solo}static getDefaults(){return Object.assign(Ts.getDefaults(),{solo:!1})}get solo(){return this._isSoloed()}set solo(e){e?this._addSolo():this._removeSolo(),Pl._allSolos.get(this.context).forEach((e=>e._updateSolo()))}get muted(){return 0===this.input.gain.value}_addSolo(){Pl._soloed.has(this.context)||Pl._soloed.set(this.context,new Set),Pl._soloed.get(this.context).add(this)}_removeSolo(){Pl._soloed.has(this.context)&&Pl._soloed.get(this.context).delete(this)}_isSoloed(){return Pl._soloed.has(this.context)&&Pl._soloed.get(this.context).has(this)}_noSolos(){return!Pl._soloed.has(this.context)||Pl._soloed.has(this.context)&&0===Pl._soloed.get(this.context).size}_updateSolo(){this._isSoloed()||this._noSolos()?this.input.gain.value=1:this.input.gain.value=0}dispose(){return super.dispose(),Pl._allSolos.get(this.context).delete(this),this._removeSolo(),this}}Pl._allSolos=new Map,Pl._soloed=new Map;class Nl extends Ts{constructor(){const e=ja(Nl.getDefaults(),arguments,["pan","volume"]);super(e),this.name="PanVol",this._panner=this.input=new Ol({context:this.context,pan:e.pan,channelCount:e.channelCount}),this.pan=this._panner.pan,this._volume=this.output=new Vs({context:this.context,volume:e.volume}),this.volume=this._volume.volume,this._panner.connect(this._volume),this.mute=e.mute,ts(this,["pan","volume"])}static getDefaults(){return Object.assign(Ts.getDefaults(),{mute:!1,pan:0,volume:0,channelCount:1})}get mute(){return this._volume.mute}set mute(e){this._volume.mute=e}dispose(){return super.dispose(),this._panner.dispose(),this.pan.dispose(),this._volume.dispose(),this.volume.dispose(),this}}class Il extends Ts{constructor(){const e=ja(Il.getDefaults(),arguments,["volume","pan"]);super(e),this.name="Channel",this._solo=this.input=new Pl({solo:e.solo,context:this.context}),this._panVol=this.output=new Nl({context:this.context,pan:e.pan,volume:e.volume,mute:e.mute,channelCount:e.channelCount}),this.pan=this._panVol.pan,this.volume=this._panVol.volume,this._solo.connect(this._panVol),ts(this,["pan","volume"])}static getDefaults(){return Object.assign(Ts.getDefaults(),{pan:0,volume:0,mute:!1,solo:!1,channelCount:1})}get solo(){return this._solo.solo}set solo(e){this._solo.solo=e}get muted(){return this._solo.muted||this.mute}get mute(){return this._panVol.mute}set mute(e){this._panVol.mute=e}_getBus(e){return Il.buses.has(e)||Il.buses.set(e,new Ms({context:this.context})),Il.buses.get(e)}send(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=this._getBus(e),r=new Ms({context:this.context,units:"decibels",gain:t});return this.connect(r),r.connect(n),r}receive(e){return this._getBus(e).connect(this),this}dispose(){return super.dispose(),this._panVol.dispose(),this.pan.dispose(),this.volume.dispose(),this._solo.dispose(),this}}Il.buses=new Map;const Rl=ls().transport;ls().destination,ls().destination;ls().listener;const Dl=ls().draw;ls();const Ll=new class{constructor(){this.isPlaying=!1,this.bpm=120,this.transport=Rl,this.sequences=[],this.instruments={},this.initialized=!1,this.playbackPosition={blockIndex:0,stepIndex:0},this.totalDuration=0,this.onPositionChange=null,this.onPrerollStart=null,this.onPrerollBeat=null,this.onPrerollCancel=null,this.loopedOriginalIndices=[],this.mutedTracks=new Set,this.isMetronomeEnabled=!1,this.metronomeSynth=null,this.accentMetronomeSynth=null,this.prerollSynths=null,this.prerollTimeouts=[],this.isPrerollActive=!1,this.currentSequencerStructure=null,this.currentTrackNames=null,this.currentCellsState=null,this.currentBarBlockMapping=null,this.effectiveSequencerStructure=[],this.originalIndexMapping=[],this.transport.bpm.value=this.bpm}async initialize(){if(this.initialized)return!0;const e=Object.entries(wt).map((e=>{let[t,n]=e;return new Promise((e=>{const r=n.urls||{C4:"default.mp3"},i=n.baseUrl||"./samples/",o=new Al({urls:r,baseUrl:i,onload:()=>{"number"===typeof n.volume&&(o.volume.value=n.volume),this.instruments[t]=o,e()}}).toDestination()}))}));return await Promise.all(e),this.initialized=!0,!0}getInstrument(e){return this.instruments[e]||null}setBPM(e){this.bpm=e,this.transport.bpm.value=e}setLoopedBlocks(e){this.loopedOriginalIndices=Array.isArray(e)?[...e]:[],console.log("AudioEngine: Looped blocks set to indices:",this.loopedOriginalIndices)}clearLoopedBlocks(){this.loopedOriginalIndices=[],console.log("AudioEngine: Looped blocks cleared.")}setMutedTracks(e){this.mutedTracks=new Set(e),console.log("AudioEngine: Muted tracks updated:",Array.from(this.mutedTracks))}setPositionCallback(e){this.onPositionChange=e}setPrerollStartCallback(e){this.onPrerollStart=e}setPrerollBeatCallback(e){this.onPrerollBeat=e}setPrerollCancelCallback(e){this.onPrerollCancel=e}setMetronomeEnabled(e){if(this.isMetronomeEnabled!==e)if(this.isMetronomeEnabled=e,console.log("[AudioEngine] Metronome ".concat(e?"enabled":"disabled",".")),e?(this.metronomeSynth||(this.metronomeSynth=new Sl({pitchDecay:.01,octaves:1,oscillator:{type:"sine"},envelope:{attack:.001,decay:.1,sustain:0,release:.05}}).toDestination(),this.metronomeSynth.volume.value=-20),this.accentMetronomeSynth||(this.accentMetronomeSynth=new Sl({pitchDecay:.01,octaves:2,oscillator:{type:"sine"},envelope:{attack:.001,decay:.15,sustain:0,release:.05}}).toDestination(),this.accentMetronomeSynth.volume.value=-14)):(this.metronomeSynth&&(this.metronomeSynth.dispose(),this.metronomeSynth=null),this.accentMetronomeSynth&&(this.accentMetronomeSynth.dispose(),this.accentMetronomeSynth=null)),this.initialized&&this.currentSequencerStructure&&this.currentTrackNames&&this.currentCellsState&&this.currentBarBlockMapping){console.log("[AudioEngine] Re-preparing sequencer due to metronome state change.");let e=0;this.isPlaying&&(e=this.getCurrentTransportTime()),this.prepareSequencer(this.currentSequencerStructure,this.currentTrackNames,this.currentCellsState,this.currentBarBlockMapping)}else console.log("[AudioEngine] Skipping re-prepare for metronome (missing data or not initialized).")}prepareSequencer(e,t,n,r){if(this.currentSequencerStructure=e,this.currentTrackNames=t,this.currentCellsState=n,this.currentBarBlockMapping=r,this.transport.cancel(),this.bpm<=0)return console.warn("AudioEngine: BPM is not positive. Timing calculations might be incorrect."),!1;const i=function(e,t){return new ys(ls(),e,t)}("4n").toSeconds();if(i<=0||!isFinite(i))return console.warn("AudioEngine: Calculated quarterNoteSecs is invalid. BPM:",this.bpm),!1;this.effectiveSequencerStructure=[],this.originalIndexMapping=[];const o=e.length;if(this.loopedOriginalIndices.length>0&&o>0?(console.log("AudioEngine: Building effective structure from looped indices: [".concat(this.loopedOriginalIndices.join(", "),"]")),this.loopedOriginalIndices.forEach((t=>{t>=0&&t<o?(this.effectiveSequencerStructure.push(e[t]),this.originalIndexMapping.push(t)):console.warn("AudioEngine: Invalid index ".concat(t," found in loopedOriginalIndices. Skipping."))})),this.effectiveSequencerStructure.length>0?console.log("AudioEngine: Effective loop structure created. Original indices in order: [".concat(this.originalIndexMapping.join(", "),"]. Total effective blocks: ").concat(this.effectiveSequencerStructure.length)):console.warn("AudioEngine: Effective loop structure is empty after processing looped indices.")):(this.effectiveSequencerStructure=[...e],this.originalIndexMapping=e.map(((e,t)=>t)),o>0&&console.log("AudioEngine: Full sequence mode. Total effective blocks: ",this.effectiveSequencerStructure.length)),0===this.effectiveSequencerStructure.length)return console.warn("AudioEngine: Effective sequencer structure is empty. No events will be scheduled."),this.transport.loopEnd=0,!1;const a=new Set;r&&"object"===typeof r?Object.values(r).forEach((e=>{Array.isArray(e)&&e.length>0&&a.add(e[0])})):console.warn("[AudioEngine] barBlockMapping is missing or invalid. Metronome accentuation might be incorrect."),this.isMetronomeEnabled&&this.metronomeSynth&&this.accentMetronomeSynth?(console.log("[AudioEngine] Scheduling metronome clicks."),this.effectiveSequencerStructure.forEach(((e,t)=>{const n=this.originalIndexMapping[t],r=t*i,o=a.has(n);this.transport.schedule((e=>{(o?this.accentMetronomeSynth:this.metronomeSynth).triggerAttackRelease("C5","64n",e)}),r)}))):this.isMetronomeEnabled&&console.warn("[AudioEngine] Metronome is enabled, but synths are not ready. Skipping scheduling."),this.effectiveSequencerStructure.forEach(((e,r)=>{if(!e||!e.trackSteps)return;const o=this.originalIndexMapping[r];t.forEach((t=>{const a=e.trackSteps[t];if(!a||"number"!==typeof a||a<=0)return;if(this.mutedTracks.has(t))return;const s=1/a*i;for(let e=0;e<a;e++){const l="".concat(o,"-").concat(t,"-").concat(e),c=n[l];if(c&&c.instrumentId){const t=(r+e/a)*i;this.transport.schedule((e=>{const t=this.getInstrument(c.instrumentId);t&&t.triggerAttackRelease("C4",s,e)}),t)}}}));let a=0;Object.values(e.trackSteps).forEach((e=>{"number"===typeof e&&e>a&&(a=e)})),0===a&&Object.keys(e.trackSteps).length>0&&(a=1);for(let n=0;n<a;n++){const s=(r+n/a)*i;this.transport.schedule((r=>{let i=!1;t.forEach((t=>{!this.mutedTracks.has(t)&&e.trackSteps[t]>=a&&(i=!0)})),this.onPositionChange&&i&&(this.playbackPosition={blockIndex:o,stepIndex:n},this.onPositionChange(this.playbackPosition))}),s)}})),this.transport.loop=!0,this.transport.loopStart=0;const s=this.effectiveSequencerStructure.length*i;return this.transport.loopEnd=s,this.loopedOriginalIndices.length>0&&this.effectiveSequencerStructure.length>0?console.log("AudioEngine: Loop set from effective 0s to ".concat(s.toFixed(2),"s (orig. blocks in order: [").concat(this.originalIndexMapping.join(", "),"])")):console.log("AudioEngine: Full sequence loop from 0s to ".concat(s.toFixed(2),"s")),!0}async play(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.transport.loopStart;this.initialized||await this.initialize(),await cs();const t="number"===typeof e&&isFinite(e)?e:this.transport.loopStart;return this.loopedOriginalIndices.length>0&&this.effectiveSequencerStructure.length>0?console.log("AudioEngine: \u0417\u0430\u043f\u0443\u0441\u043a \u0432\u043e\u0441\u043f\u0440\u043e\u0438\u0437\u0432\u0435\u0434\u0435\u043d\u0438\u044f \u044d\u0444\u0444\u0435\u043a\u0442\u0438\u0432\u043d\u043e\u0439 \u043f\u043e\u0441\u043b\u0435\u0434\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u0438 (Originals: ".concat(this.originalIndexMapping.join(", "),"). Start time: ").concat(t.toFixed(2),"s")):console.log("AudioEngine: \u0417\u0430\u043f\u0443\u0441\u043a \u0432\u043e\u0441\u043f\u0440\u043e\u0438\u0437\u0432\u0435\u0434\u0435\u043d\u0438\u044f \u043f\u043e\u043b\u043d\u043e\u0439 \u0441\u0435\u043a\u0432\u0435\u043d\u0446\u0438\u0438. Start time: ".concat(t.toFixed(2),"s")),this.transport.start(void 0,t),this.isPlaying=!0,!0}stop(){return this.transport.stop(),this.isPlaying=!1,this.onPositionChange&&(this.playbackPosition=null,this.onPositionChange(null)),!0}async togglePlay(){return this.isPlaying?this.stop():await this.play(),this.isPlaying}getPlaybackPosition(){return this.playbackPosition}getCurrentTransportTime(){return this.transport.seconds}async startPreroll(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:4,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.initialized||await this.initialize(),await cs(),this.isPrerollActive=!0,this.prerollTimeouts.forEach((e=>clearTimeout(e))),this.prerollTimeouts=[],this.prerollSynths&&(this.prerollSynths.clickSynth&&this.prerollSynths.clickSynth.dispose(),this.prerollSynths.accentSynth&&this.prerollSynths.accentSynth.dispose());const n=new Sl({pitchDecay:.008,octaves:2,oscillator:{type:"sine"},envelope:{attack:.001,decay:.3,sustain:0,release:.1}}).toDestination();n.volume.value=-10;const r=new Sl({pitchDecay:.008,octaves:3,oscillator:{type:"sine"},envelope:{attack:.001,decay:.3,sustain:0,release:.1}}).toDestination();r.volume.value=-6,this.prerollSynths={clickSynth:n,accentSynth:r};const i=60/this.bpm;for(let a=0;a<e;a++){const t=ls().now()+a*i;0===a?r.triggerAttackRelease("C3","16n",t):n.triggerAttackRelease("C4","16n",t),this.onPrerollBeat&&Dl.schedule((()=>{this.onPrerollBeat(a,e)}),t)}const o=setTimeout((()=>{this.isPrerollActive=!1,this.prerollSynths&&(this.prerollSynths.clickSynth&&this.prerollSynths.clickSynth.dispose(),this.prerollSynths.accentSynth&&this.prerollSynths.accentSynth.dispose(),this.prerollSynths=null),this.onPositionChange&&this.onPositionChange(null),t&&t()}),e*i*1e3);return this.prerollTimeouts.push(o),this.onPrerollStart&&this.onPrerollStart(e),!0}cancelPreroll(){return!!this.isPrerollActive&&(console.log("AudioEngine: \u041e\u0442\u043c\u0435\u043d\u0430 \u043f\u0440\u0435\u0440\u043e\u043b\u043b\u0430"),this.prerollTimeouts.forEach((e=>clearTimeout(e))),this.prerollTimeouts=[],this.prerollSynths&&(this.prerollSynths.clickSynth&&this.prerollSynths.clickSynth.dispose(),this.prerollSynths.accentSynth&&this.prerollSynths.accentSynth.dispose(),this.prerollSynths=null),this.isPrerollActive=!1,this.onPrerollCancel&&this.onPrerollCancel(),!0)}},jl=Ll,Fl=t=>{let{blocks:n,trackNames:r,cellsState:i,currentPlaybackPosition:o,handleCellClick:a,loopedBlockIndices:s,mutedTracks:c,handleMuteToggle:u}=t;const h=(0,e.useRef)([]),[d,p]=(0,e.useState)(0),[f,m]=(0,e.useState)(null),[g,v]=(0,e.useState)(null),[y,_]=(0,e.useState)("top");(0,e.useEffect)((()=>{let e=[];s&&s.length>0?(console.log("VerticalView: Building sequence from looped indices:",s),s.forEach(((t,r)=>{n&&t>=0&&t<n.length?e.push(l(l({},n[t]),{},{originalIndex:t,sequenceIndex:r})):console.warn("VerticalView: Invalid originalIndex ".concat(t," from loop list."))})),console.log("VerticalView: Effective loop sequence:",e)):n&&n.length>0&&(console.log("VerticalView: Building full sequence."),e=n.map(((e,t)=>l(l({},e),{},{originalIndex:void 0!==e.originalIndex?e.originalIndex:t,sequenceIndex:t})))),h.current=e,e.length>0?(m(e[0]),v(e.length>1?e[1]:e[0]),p(0),_("top")):(m(null),v(null))}),[n,s]),(0,e.useEffect)((()=>{if(!o||!h.current.length)return;const e=h.current.findIndex((e=>e.originalIndex===o.blockIndex));if(-1!==e&&e!==d){p(e);const t=e%2===0?"top":"bottom";if(_(t),"top"===t){m(h.current[e]);const t=(e+1)%h.current.length;v(h.current[t])}else{v(h.current[e]);const t=(e+1)%h.current.length;m(h.current[t])}}}),[o,d]);const b=(e,t,n)=>{const r="".concat(e,"-").concat(t,"-").concat(n);return i[r]||{instrumentId:null}};if(!f||!g)return(0,_t.jsx)("div",{className:"vertical-view-loading",children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430..."});const w=e=>e===y,k=e=>{switch(e.toLowerCase()){case"lf":return"#3fc73f";case"rf":return"#f44336";case"l":return"#29b6f6";case"r":return"#ff9800";default:return"#9c27b0"}},S=e=>{const t={lf:0,rf:1,l:2,r:3};return[...e].sort(((e,n)=>(void 0!==t[e.toLowerCase()]?t[e.toLowerCase()]:999)-(void 0!==t[n.toLowerCase()]?t[n.toLowerCase()]:999)))};return(0,_t.jsxs)("div",{className:"vertical-view-container",children:[o&&(0,_t.jsx)("div",{className:"vertical-progress-bar",children:(0,_t.jsx)("div",{className:"vertical-progress-indicator",style:{width:"".concat((()=>{if(!o||!h.current||0===h.current.length)return 0;const e=h.current.findIndex((e=>e.originalIndex===o.blockIndex));if(-1===e)return 0;let t=0,n=0;return h.current.forEach(((r,i)=>{const a=(e=>Math.max(...Object.values(e.trackSteps||{}))||1)(r);t+=a,i<e?n+=a:i===e&&(n+=o.stepIndex)})),0===t?0:n/t*100})(),"%")}})}),(0,_t.jsx)("div",{className:"vertical-header",children:S(r).map((e=>(0,_t.jsx)("div",{className:"vertical-track-label ".concat(c instanceof Set&&c.has(e)?"muted":""),style:{backgroundColor:c instanceof Set&&c.has(e)?"transparent":k(e)},onClick:()=>{"function"===typeof u?u(e):console.error("VerticalView Error: handleMuteToggle is not a function when clicking label!",u)},children:e.toUpperCase()},"header-".concat(e))))}),(0,_t.jsxs)("div",{className:"vertical-blocks-container",children:[(0,_t.jsxs)("div",{className:"vertical-block ".concat(w("top")?"active-block":"inactive-block"),children:[(0,_t.jsx)("div",{className:"block-number",children:f.sequenceIndex+1}),(0,_t.jsx)("div",{className:"vertical-grid",children:S(r).map((e=>(0,_t.jsx)("div",{className:"vertical-track-column ".concat(c instanceof Set&&c.has(e)?"muted":""),children:Array.from({length:f.trackSteps[e]},((t,n)=>{const r=void 0!==f.originalIndex?f.originalIndex:f.sequenceIndex,i="".concat(r,"-").concat(e,"-").concat(n),s=!!b(r,e,n).instrumentId;let l="";return o&&w("top")&&o.stepIndex===n&&!(c instanceof Set&&c.has(e))&&(l=s?"playing-active":"playing-empty"),(0,_t.jsx)("div",{className:"vertical-grid-cell ".concat(s?"active":""," ").concat(l),onClick:()=>a(i),"data-cell-id":i,children:s&&(0,_t.jsx)("div",{className:"cell-instrument-marker",style:{backgroundColor:k(e)}})},"top-".concat(i))}))},"top-".concat(e))))})]}),(0,_t.jsxs)("div",{className:"vertical-block ".concat(w("bottom")?"active-block":"inactive-block"),children:[(0,_t.jsx)("div",{className:"block-number",children:g.sequenceIndex+1}),(0,_t.jsx)("div",{className:"vertical-grid",children:S(r).map((e=>(0,_t.jsx)("div",{className:"vertical-track-column ".concat(c instanceof Set&&c.has(e)?"muted":""),children:Array.from({length:g.trackSteps[e]},((t,n)=>{const r=void 0!==g.originalIndex?g.originalIndex:g.sequenceIndex,i="".concat(r,"-").concat(e,"-").concat(n),s=!!b(r,e,n).instrumentId;let l="";return o&&w("bottom")&&o.stepIndex===n&&!(c instanceof Set&&c.has(e))&&(l=s?"playing-active":"playing-empty"),(0,_t.jsx)("div",{className:"vertical-grid-cell ".concat(s?"active":""," ").concat(l),onClick:()=>a(i),"data-cell-id":i,children:s&&(0,_t.jsx)("div",{className:"cell-instrument-marker",style:{backgroundColor:k(e)}})},"bottom-".concat(i))}))},"bottom-".concat(e))))})]})]})]})},Vl=e=>{let{isActive:t,blocks:n,trackNames:r,cellsState:i,currentPlaybackPosition:o,handleCellClick:a,currentBar:s,totalBars:l,onBarChange:c,currentBarInfo:u,sequencerStructure:h,onVerticalModeChange:d,isPlaying:p,bpm:f,isInitialized:m,isPrerollEnabled:g,isTransitioning:v,onPlayToggle:y,onBpmChange:_,onPrerollToggle:b,loopedBlockIndices:w,mutedTracks:k,handleMuteToggle:S}=e;if(!t)return null;return(0,_t.jsxs)("div",{className:"vertical-view-overlay",children:[(0,_t.jsx)("div",{className:"vertical-mode-toggle",children:(0,_t.jsx)("button",{className:"vertical-mode-close-btn",onClick:()=>{d&&d("horizontal")},children:(0,_t.jsx)("span",{children:"\u2715"})})}),(0,_t.jsx)("div",{className:"vertical-view-content",children:(0,_t.jsx)(Fl,{blocks:n,trackNames:r,cellsState:i,currentPlaybackPosition:o,handleCellClick:a,loopedBlockIndices:w,mutedTracks:k,handleMuteToggle:S})}),(0,_t.jsx)("div",{className:"vertical-view-player-menu",children:(0,_t.jsx)(xt,{sequencerStructure:h,trackNames:r,cellsState:i,currentBar:s,totalBars:l,onBarChange:c,currentBarInfo:u,onVerticalModeChange:d,inVerticalMode:!0,isPlaying:p,bpm:f,isInitialized:m,isPrerollEnabled:g,isTransitioning:v,onPlayToggle:y,onBpmChange:_,onPrerollToggle:b,loopedBlockIndices:w,mutedTracks:k,handleMuteToggle:S})})]})},zl=()=>{const[t,n]=(0,e.useState)(!1),[r,i]=(0,e.useState)(!1),[o,a]=(0,e.useState)(0),[s,l]=(0,e.useState)(null);(0,e.useEffect)((()=>(jl.setPrerollStartCallback((e=>{a(e),l(null),n(!0)})),jl.setPrerollBeatCallback(((e,t)=>{l(e),e===t-1&&setTimeout((()=>{c()}),200)})),jl.setPrerollCancelCallback((()=>{c()})),()=>{jl.setPrerollStartCallback(null),jl.setPrerollBeatCallback(null),jl.setPrerollCancelCallback(null)})),[]);const c=()=>{i(!0),setTimeout((()=>{n(!1),i(!1)}),300)};if(!t)return null;const u=null!==s?s+1:"\u2022";return(0,_t.jsx)("div",{className:"preroll-overlay ".concat(r?"fading-out":""),onClick:()=>{jl.cancelPreroll(),c()},children:(0,_t.jsxs)("div",{className:"preroll-content",children:[(0,_t.jsx)("div",{className:"preroll-counter ".concat(null!==s?"animate":""),children:u}),(0,_t.jsx)("div",{className:"preroll-progress",children:Array.from({length:o}).map(((e,t)=>(0,_t.jsx)("div",{className:"progress-dot ".concat(t===s?"active":""," ").concat(t<s?"passed":"")},t)))})]})})},ql=t=>{let{selectedInstrument:n,onClearSequencer:r,onCellsStateChange:i,currentBarBlocks:o,allBlocks:a,barBlockMapping:s,currentBar:l,onBarChange:c,totalBars:u,playbackPosition:h,cellsState:d,onLoopButtonClick:p,loopedBlockIndices:f,mutedTracks:m,trackNames:g,isGridModeActive:v,onTrackStepsChange:y}=t;const[_,b]=(0,e.useState)(null),{handleCellClick:w,clearAllCells:k}=Tt(d,i),S=o||[];(0,e.useEffect)((()=>{}),[]),(0,e.useEffect)((()=>{r&&r(k)}),[r,k]),(0,e.useEffect)((()=>{if(!h||!s||!o)return void b(null);if(!(s[l]||[]).includes(h.blockIndex))return void b(null);const e=o.findIndex((e=>e.originalIndex===h.blockIndex));b(-1!==e?{blockIndex:e,stepIndex:h.stepIndex}:null)}),[h,s,l,o]);const x=e=>S[e]&&void 0!==S[e].originalIndex?S[e].originalIndex:e;return(0,_t.jsx)("div",{className:"sequencer-wrapper",children:(0,_t.jsx)(bt,{sequencerStructure:S,trackNames:g,getCellState:e=>{const[t,n,r]=e.split("-"),i=parseInt(t,10),o=x(i),a="".concat(o,"-").concat(n,"-").concat(r);return d[a]||{instrumentId:null}},handleCellClick:e=>{const[t,r,i]=e.split("-"),o=parseInt(t,10),a=x(o),s="".concat(a,"-").concat(r,"-").concat(i);w(s,n)},currentPlaybackPosition:_,onLoopButtonClick:p,loopedBlockIndices:f,mutedTracks:m,isGridModeActive:v,onTrackStepsChange:y})})},Bl=(0,e.forwardRef)(((t,n)=>{let{initialSessionData:r}=t;const[i,o]=(0,e.useState)(null),[a,s]=(0,e.useState)(0),[c,u]=(0,e.useState)(1),[h,d]=(0,e.useState)({}),[p,f]=(0,e.useState)(null),[m,g]=(0,e.useState)({}),[v,y]=(0,e.useState)("horizontal"),_=(0,e.useRef)(null),b=(0,e.useRef)(null),w=(0,e.useRef)(null),[k,S]=(0,e.useState)(!1),[x,C]=(0,e.useState)(Ct.bpm||120),[T,E]=(0,e.useState)(!1),[A,O]=(0,e.useState)(!0),[M,P]=(0,e.useState)(!1),[N,I]=(0,e.useState)([]),[R,D]=(0,e.useState)([]),[L,j]=(0,e.useState)(new Set),[F,V]=(0,e.useState)(!1),[z,q]=(0,e.useState)(!1),[B,U]=(0,e.useState)([]),[W,H]=(0,e.useState)([]);(0,e.useImperativeHandle)(n,(()=>({exportData:(e,t)=>{const n={version:"1.0",sessionName:e,folderName:t||null,bpm:x,trackNames:N,currentSequencerStructure:B,currentBars:W,cellsState:m,loopedBlockIndices:R,mutedTracks:Array.from(L),isMetronomeEnabled:F};fetch("https://rhythmcapsule.ru/api/sequencer/save",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}).then((e=>e.ok?e.json():e.json().then((t=>{throw new Error(t.message||"\u041e\u0448\u0438\u0431\u043a\u0430 \u0441\u0435\u0440\u0432\u0435\u0440\u0430: ".concat(e.status))})).catch((()=>{throw new Error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0441\u0435\u0440\u0432\u0435\u0440\u0430: ".concat(e.status," ").concat(e.statusText))})))).then((n=>{console.log("\u0414\u0430\u043d\u043d\u044b\u0435 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u044b \u043d\u0430 \u0441\u0435\u0440\u0432\u0435\u0440\u0435:",n),alert("\u0421\u0435\u0441\u0441\u0438\u044f '".concat(e,"' ").concat(t?"\u0432 \u043f\u0430\u043f\u043a\u0435 '"+t+"'":""," \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0430! ID: ").concat(n.sessionId||"N/A"))})).catch((t=>{console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u0438 \u0434\u0430\u043d\u043d\u044b\u0445 \u043d\u0430 \u0441\u0435\u0440\u0432\u0435\u0440:",t),alert("\u041e\u0448\u0438\u0431\u043a\u0430 \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u044f \u0441\u0435\u0441\u0441\u0438\u0438 '".concat(e,"' \u043d\u0430 \u0441\u0435\u0440\u0432\u0435\u0440: ").concat(t.message))}))}}))),(0,e.useEffect)((()=>{T&&(jl.setBPM(x),console.log("[BPM Effect] BPM set in audioEngine: ".concat(x)))}),[x,T]),(0,e.useEffect)((()=>{(async()=>{if(console.log("[Init Effect] Initializing audioEngine..."),await jl.initialize(),E(!0),console.log("[Init Effect] AudioEngine initialized."),r)console.log("[Init Effect] Initializing with provided session data:",r),C(r.bpm||120),I(r.trackNames||[]),U(r.currentSequencerStructure||[]),H(r.currentBars||[]),g(r.cellsState||{}),D(r.loopedBlockIndices||[]),j(new Set(r.mutedTracks||[])),V(r.isMetronomeEnabled||!1);else{console.log("[Init Effect] Initializing with default initialSequencerData.");const e=Ct.sequencerStructure||[],t=Ct.bars||[],n=Ct.trackNames||[];U(e),H(t),I(n);const r=$(e,t);d(r);const i=Object.keys(r).length;u(i>0?i:1);const o={};Array.isArray(e)&&e.forEach(((e,t)=>{e&&e.trackSteps&&Array.isArray(n)&&n.forEach((n=>{const r=e.trackSteps[n];if(r&&"number"===typeof r)for(let e=0;e<r;e++){const r="".concat(t,"-").concat(n,"-").concat(e);o[r]={instrumentId:null}}}))}));const a=Ct.initialInstruments||{};"object"===typeof a&&Object.entries(a).forEach((e=>{let[t,n]=e;n&&"object"===typeof n&&Object.entries(n).forEach((e=>{let[n,r]=e;const i="".concat(t,"-").concat(n);o[i]&&(o[i].instrumentId=r)}))})),g(o),C(Ct.bpm||120),D([]),j(new Set),V(!1)}console.log("Sequencer Module Initialized.")})()}),[r]),(0,e.useEffect)((()=>{if(B.length>0||W.length>0){console.log("[Effect] currentSequencerStructure or currentBars changed, recalculating barBlockMapping.");const e=$(B,W);d(e);const t=Object.keys(e).length;u(t>0?t:1)}}),[B,W]),(0,e.useEffect)((()=>{T&&B.length>0&&N.length>0&&Object.keys(m).length>0&&Object.keys(h).length>0&&(console.log("[Effect prepareSequencer] Dependencies met. Calling prepare."),jl.prepareSequencer(B,N,m,h))}),[T,B,N,m,h]);const $=(e,t)=>{const n={};let r=0;const i=t||[],o=e.length;i.forEach(((e,t)=>{n[t]=[];const i=e.timeSignature||4;for(let a=0;a<i;a++)r<o&&(n[t].push(r),r++)}));let a=i.length;for(;r<o;){n[a]=[];const e=o-r,t=Math.min(e,6);for(let i=0;i<t;i++)r<o&&(n[a].push(r),r++);a++}return n};(0,e.useEffect)((()=>{c>0&&B.length>0&&Object.keys(h).length>0&&console.log("[Log State] ".concat(c," \u0442\u0430\u043a\u0442\u043e\u0432, ").concat(B.length," \u0431\u043b\u043e\u043a\u043e\u0432."))}),[c,B,h]);const G=()=>{const e=W||[];return e[a]?e[a]:{id:a+1,name:"\u0422\u0430\u043a\u0442 ".concat(a+1),timeSignature:(h[a]||[]).length||4}};(0,e.useEffect)((()=>(jl.setPositionCallback((e=>{if(f(e),e&&h&&c>0)for(let t=0;t<c;t++){if((h[t]||[]).includes(e.blockIndex)){t!==a&&s(t);break}}})),()=>{jl.setPositionCallback(null)})),[h,a,c]);const Y=async()=>{if(T&&!M)if(P(!0),k)try{await jl.stop(),S(!1)}catch(e){console.error("Error during stop:",e)}finally{P(!1)}else{if(A){const t=()=>{P(!1)};return jl.setPrerollCancelCallback(t),void jl.startPreroll(G().timeSignature,(async()=>{try{await jl.play(),S(!0)}catch(e){console.error("Error during playback after preroll:",e),S(!1)}finally{P(!1),jl.setPrerollCancelCallback(null)}}))}try{await jl.play(),S(!0)}catch(e){console.error("Error during playback without preroll:",e),S(!1)}finally{P(!1)}}},Q=e=>{y(e)},X=e=>{let t=[...R];const n=t.indexOf(e);if(n>-1?t.splice(n,1):(t.push(e),t.sort(((e,t)=>e-t))),D(t),t.length>0?jl.setLoopedBlocks(t):jl.clearLoopedBlocks(),T&&B.length>0&&N.length>0&&Object.keys(m).length>0){const e=k;let t=0;e&&(t=jl.getCurrentTransportTime()),jl.prepareSequencer(B,N,m,h),e&&jl.play(t).catch((e=>S(!1)))}},Z=(0,e.useCallback)((e=>{j((t=>{const n=new Set(t);return n.has(e)?(n.delete(e),console.log("Track ".concat(e," unmuted."))):(n.add(e),console.log("Track ".concat(e," muted."))),n}))}),[]);(0,e.useEffect)((()=>{if(T&&(jl.setMutedTracks(L),B.length>0&&N.length>0&&Object.keys(m).length>0)){const e=k;let t=0;e&&(t=jl.getCurrentTransportTime(),jl.stop()),jl.prepareSequencer(B,N,m,h),e&&jl.play(t).catch((e=>console.error("Error restarting after mute:",e)))}}),[L,T,B,N,m,h,k]);const K=(0,e.useCallback)((()=>{const e=!F;V(e),T&&jl.setMetronomeEnabled(e)}),[F,T]);(0,e.useEffect)((()=>{T&&B&&N&&m&&h&&(console.log("[SequencerModule] Calling prepareSequencer due to cellsState/trackNames/structure/mapping change."),jl.prepareSequencer(B,N,m,h))}),[T,N,m,h]);return(0,_t.jsxs)("div",{className:"sequencer-module ".concat("vertical"===v?"vertical-mode":""),ref:w,onTouchStart:e=>{b.current=e.touches[0].clientX},onTouchEnd:e=>{if(!b.current)return;const t=e.changedTouches[0].clientX-b.current;t>75&&a>0?s(a-1):t<-75&&a<c-1&&s(a+1),b.current=null},children:["horizontal"===v&&(0,_t.jsxs)(_t.Fragment,{children:[(0,_t.jsx)(kt,{onInstrumentSelect:(e,t)=>{console.log("\u0412\u044b\u0431\u0440\u0430\u043d \u0438\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442:",e),console.log("\u041a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f:",t),o(t?{id:e,config:t}:null)},onClearAll:()=>{window.confirm("\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b, \u0447\u0442\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u043e\u0447\u0438\u0441\u0442\u0438\u0442\u044c \u0432\u0441\u0435 \u044f\u0447\u0435\u0439\u043a\u0438?")&&_.current&&_.current()},isGridModeActive:z,onToggleGridMode:()=>{q((e=>!e))},currentBarInfo:G(),onTimeSignatureChange:e=>{if(console.log("[Grid Mode] Block count change for bar ".concat(a," to: ").concat(e)),e<1||e>6)return void console.warn("Invalid block count: ".concat(e));const t=[...B],n=W?JSON.parse(JSON.stringify(W)):[],r=l({},m);let i=[...t],o=[...n];o[a]||(console.error("Current bar ".concat(a," not found!")),o[a]={id:(o.length>0?Math.max(...o.map((e=>e.id))):0)+1,name:"\u0422\u0430\u043a\u0442 ".concat(a+1),timeSignature:4});const s=o[a].timeSignature,c=e-s;if(0===c)return;let u=0;for(let l=0;l<a;l++){var h;u+=(null===(h=o[l])||void 0===h?void 0:h.timeSignature)||0}const d=u+s;o[a].timeSignature=e;if(c>0)for(let a=0;a<c;a++){const e={id:"block-"+Date.now()+Math.random().toString(36).substring(2,7),name:"\u0411\u043b\u043e\u043a ".concat(t.length+1+a),trackSteps:l({},N.reduce(((e,t)=>l(l({},e),{},{[t]:4})),{}))};i.splice(d+a,0,e)}else{const e=Math.abs(c);i.splice(d-e,e)}const p={},f={};t.forEach(((e,t)=>{e&&e.id&&(f[e.id]=t)})),i.forEach(((e,t)=>{N.forEach((n=>{const i=e.trackSteps[n]||0;for(let o=0;o<i;o++){const i="".concat(t,"-").concat(n,"-").concat(o);let a={instrumentId:null};if(e.id&&f.hasOwnProperty(e.id)){const t=f[e.id],i="".concat(t,"-").concat(n,"-").concat(o);r.hasOwnProperty(i)&&(a=r[i])}p[i]=a}}))})),U(i),H(o),g(p),console.log("[Grid Mode] States updated by handleTimeSignatureChange with cell remapping.")},onAddBar:()=>{console.log("[Grid Mode] Add BAR requested after current bar:",a);const e=[...B],t=W?JSON.parse(JSON.stringify(W)):[],n=l({},m);let r=[...e],i=[...t];const o=i[a];let c,u;if(o||0!==i.length){if(!o)return void console.error("[AddBar] Cannot add bar - current bar config not found and it's not the first bar.");{u=o.timeSignature,c=a+1;const e={id:(i.length>0?Math.max(...i.map((e=>e.id))):0)+1,name:"\u0422\u0430\u043a\u0442 ".concat(i.length+1),timeSignature:u};i.splice(c,0,e)}}else{console.log("[AddBar] Adding the very first bar."),u=4;const e={id:1,name:"\u0422\u0430\u043a\u0442 1",timeSignature:u};i.push(e),c=0}let h=0;for(let a=0;a<c;a++)h+=i[a].timeSignature;for(let a=0;a<u;a++){const t={id:"block-"+Date.now()+a+Math.random().toString(36).substring(2,7),name:"\u0411\u043b\u043e\u043a ".concat(e.length+1+a),trackSteps:l({},N.reduce(((e,t)=>l(l({},e),{},{[t]:4})),{}))};r.splice(h+a,0,t)}console.log("[AddBar] Added new bar at index ".concat(c," with ").concat(u," blocks."));const d={},p={};e.forEach(((e,t)=>{e&&e.id&&(p[e.id]=t)})),r.forEach(((e,t)=>{N.forEach((r=>{const i=e.trackSteps[r]||0;for(let o=0;o<i;o++){const i="".concat(t,"-").concat(r,"-").concat(o);let a={instrumentId:null};if(e.id&&p.hasOwnProperty(e.id)){const t=p[e.id],i="".concat(t,"-").concat(r,"-").concat(o);n.hasOwnProperty(i)&&(a=n[i])}d[i]=a}}))})),U(r),H(i),g(d),s(c)},onRemoveBar:()=>{if(console.log("[Grid Mode] Remove CURRENT bar requested:",a),W.length<=1)return void console.warn("[RemoveBar] Cannot remove the last bar.");const e=[...B],t=JSON.parse(JSON.stringify(W)),n=l({},m);let r=[...e],i=[...t];const o=i[a];if(!o)return void console.error("[RemoveBar] Config for bar to remove not found!");const c=o.timeSignature;let u=0;for(let s=0;s<a;s++){var h;u+=(null===(h=i[s])||void 0===h?void 0:h.timeSignature)||0}r.splice(u,c),i.splice(a,1),console.log("[RemoveBar] Removed bar ".concat(a," and its ").concat(c," blocks."));const d={},p={};e.forEach(((e,t)=>{e&&e.id&&(p[e.id]=t)})),r.forEach(((e,t)=>{N.forEach((r=>{const i=e.trackSteps[r]||0;for(let o=0;o<i;o++){const i="".concat(t,"-").concat(r,"-").concat(o);let a={instrumentId:null};if(e.id&&p.hasOwnProperty(e.id)){const t=p[e.id],i="".concat(t,"-").concat(r,"-").concat(o);n.hasOwnProperty(i)&&(a=n[i])}d[i]=a}}))})),U(r),H(i),g(d),a>=i.length&&i.length>0?s(i.length-1):0===i.length&&s(0)}}),(0,_t.jsx)(ql,{selectedInstrument:i,onClearSequencer:e=>{_.current=e},onCellsStateChange:g,currentBarBlocks:(()=>{if(!B||0===B.length||0===Object.keys(h).length)return[];return(h[a]||[]).map((e=>B[e]?l(l({},B[e]),{},{originalIndex:e}):null)).filter(Boolean)})(),allBlocks:B,barBlockMapping:h,currentBar:a,onBarChange:s,totalBars:c,playbackPosition:p,cellsState:m,onLoopButtonClick:X,loopedBlockIndices:R,mutedTracks:L,trackNames:N,isGridModeActive:z,onTrackStepsChange:(e,t,n)=>{console.log("[Grid Mode] Track steps change for block ".concat(e,", track ").concat(t," to: ").concat(n));const r=[...B],i=l({},m);let o=r.map((r=>{if(r.id===e){const e=l(l({},r.trackSteps),{},{[t]:n});return l(l({},r),{},{trackSteps:e})}return r}));const a={},s={};r.forEach(((e,t)=>{e&&e.id&&(s[e.id]=t)})),o.forEach(((e,t)=>{N.forEach((n=>{const o=e.trackSteps[n]||0;for(let l=0;l<o;l++){const o="".concat(t,"-").concat(n,"-").concat(l);let c={instrumentId:null};if(e.id&&s.hasOwnProperty(e.id)){const t=s[e.id],o=r.find((t=>t.id===e.id));if(l<(o&&o.trackSteps[n]||0)){const e="".concat(t,"-").concat(n,"-").concat(l);i.hasOwnProperty(e)&&(c=i[e])}}a[o]=c}}))})),U(o),g(a),console.log("[Grid Mode] States updated by handleTrackStepsChange with cell remapping.")}}),(0,_t.jsx)(xt,{sequencerStructure:B,trackNames:N,cellsState:m,currentBar:a,totalBars:c,onBarChange:s,currentBarInfo:G(),onVerticalModeChange:Q,inVerticalMode:!1,isPlaying:k,bpm:x,isInitialized:T,isPrerollEnabled:A,isTransitioning:M,onPlayToggle:Y,onBpmChange:C,onPrerollToggle:O,handleMuteToggle:Z,isMetronomeEnabled:F,onMetronomeToggle:K})]}),(0,_t.jsx)(Vl,{isActive:"vertical"===v,blocks:B,trackNames:N,cellsState:m,currentPlaybackPosition:p,handleCellClick:e=>{i?(g((t=>{const n=l({},t);return n[e]={instrumentId:i.id},n})),console.log("\u0423\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d \u0438\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442 ".concat(i.id," \u0432 \u044f\u0447\u0435\u0439\u043a\u0443 ").concat(e))):(g((t=>{const n=l({},t);return n[e]&&(n[e]={instrumentId:null}),n})),console.log("\u042f\u0447\u0435\u0439\u043a\u0430 ".concat(e," \u043e\u0447\u0438\u0449\u0435\u043d\u0430")))},currentBar:a,totalBars:c,onBarChange:s,currentBarInfo:G(),sequencerStructure:B,onVerticalModeChange:Q,isPlaying:k,bpm:x,isInitialized:T,isPrerollEnabled:A,isTransitioning:M,onPlayToggle:Y,onBpmChange:C,onPrerollToggle:O,onLoopButtonClick:X,loopedBlockIndices:R,mutedTracks:L,handleMuteToggle:Z,isMetronomeEnabled:F,onMetronomeToggle:K}),(0,_t.jsx)(zl,{})]})})),Ul=Bl,Wl=()=>{var t;const n=(0,e.useRef)(null),r=(null===(t=ce().state)||void 0===t?void 0:t.loadedSessionData)||null;return(0,_t.jsxs)("div",{className:"sequencer-page",children:[(0,_t.jsxs)("h1",{children:["\u0421\u0435\u043a\u0432\u0435\u043d\u0441\u043e\u0440 ",r?"(".concat(r.sessionName,")"):""]}),(0,_t.jsx)("button",{onClick:()=>{const e=window.prompt("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0438\u043c\u044f \u0434\u043b\u044f \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u044f \u0441\u0435\u0441\u0441\u0438\u0438:");if(e&&""!==e.trim()){let t=window.prompt("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0438\u043c\u044f \u043f\u0430\u043f\u043a\u0438 (\u043e\u0441\u0442\u0430\u0432\u044c\u0442\u0435 \u043f\u0443\u0441\u0442\u044b\u043c \u0438\u043b\u0438 \u043d\u0430\u0436\u043c\u0438\u0442\u0435 \u041e\u0442\u043c\u0435\u043d\u0430 \u0434\u043b\u044f \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u044f \u0432 \u043a\u043e\u0440\u0435\u043d\u044c):");const r=t?t.trim():"";n.current&&n.current.exportData(e.trim(),r)}else null!==e&&alert("\u0418\u043c\u044f \u0441\u0435\u0441\u0441\u0438\u0438 \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u043f\u0443\u0441\u0442\u044b\u043c.")},style:{backgroundColor:"#4CAF50",border:"none",color:"white",padding:"10px 20px",textAlign:"center",textDecoration:"none",display:"inline-block",fontSize:"16px",margin:"4px 2px",marginBottom:"10px",cursor:"pointer",borderRadius:"8px",boxShadow:"0 2px 4px 0 rgba(0,0,0,0.2)",transitionDuration:"0.4s"},children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u043d\u0430 \u0441\u0435\u0440\u0432\u0435\u0440"}),(0,_t.jsx)(Ul,{ref:n,initialSessionData:r})]})},Hl=()=>{const[t,n]=(0,e.useState)([]),[r,i]=(0,e.useState)(!0),[o,a]=(0,e.useState)(null),s=de(),[l,c]=(0,e.useState)(null),u="https://rhythmcapsule.ru/api/sequencer";(0,e.useEffect)((()=>{(async()=>{i(!0),a(null);try{const e=await fetch("".concat(u,"/sessions"));if(!e.ok){const t=await e.json().catch((()=>({message:"\u041e\u0448\u0438\u0431\u043a\u0430 \u0441\u0435\u0440\u0432\u0435\u0440\u0430: ".concat(e.status)})));throw new Error(t.message||"\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0441\u0435\u0441\u0441\u0438\u0438: ".concat(e.statusText))}const t=await e.json();n(t)}catch(e){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0435 \u0441\u043f\u0438\u0441\u043a\u0430 \u0441\u0435\u0441\u0441\u0438\u0439:",e),a(e.message)}finally{i(!1)}})()}),[u]);const{folders:h,sessionsToDisplay:d}=(0,e.useMemo)((()=>{const e=new Set;let n=[];return t.forEach((t=>{t.folderName&&""!==t.folderName.trim()&&e.add(t.folderName.trim())})),n=null===l?t.filter((e=>!e.folderName||""===e.folderName.trim())):t.filter((e=>e.folderName===l)),{folders:Array.from(e).sort(),sessionsToDisplay:n.sort(((e,t)=>new Date(t.createdAt)-new Date(e.createdAt)))}}),[t,l]);return r&&0===t.length?(0,_t.jsx)("div",{className:"sessions-loader",children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u043d\u044b\u0445 \u0441\u0435\u0441\u0441\u0438\u0439..."}):o?(0,_t.jsxs)("div",{className:"sessions-error",children:["\u041e\u0448\u0438\u0431\u043a\u0430: ",o,". \u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u043e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443."]}):(0,_t.jsxs)("div",{className:"saved-sessions-page",children:[(0,_t.jsx)("h1",{children:null===l?"\u0421\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u043d\u044b\u0435 \u0441\u0435\u0441\u0441\u0438\u0438":"\u041f\u0430\u043f\u043a\u0430: ".concat(l)}),null!==l&&(0,_t.jsx)("button",{onClick:()=>c(null),className:"button-back",children:"\u2190 \u041a \u0441\u043f\u0438\u0441\u043a\u0443 \u043f\u0430\u043f\u043e\u043a \u0438 \u043a\u043e\u0440\u043d\u0435\u0432\u044b\u043c \u0441\u0435\u0441\u0441\u0438\u044f\u043c"}),null===l&&h.length>0&&(0,_t.jsxs)("div",{className:"folder-section",children:[(0,_t.jsx)("h2",{children:"\u041f\u0430\u043f\u043a\u0438"}),(0,_t.jsx)("ul",{className:"folder-list",children:h.map((e=>(0,_t.jsxs)("li",{className:"folder-item",onClick:()=>c(e),children:[(0,_t.jsx)("span",{className:"folder-icon",children:"\ud83d\udcc1"})," ",e," "]},e)))})]}),(0,_t.jsxs)("div",{className:"session-section",children:[(0,_t.jsx)("h2",{children:null===l?"\u041a\u043e\u0440\u0435\u043d\u044c":"\u0421\u0435\u0441\u0441\u0438\u0438"}),0!==d.length||r?(0,_t.jsx)("ul",{className:"sessions-list",children:d.map((e=>(0,_t.jsxs)("li",{className:"session-item",children:[(0,_t.jsxs)("div",{className:"session-info",children:[(0,_t.jsx)("span",{className:"session-name",children:e.sessionName||"[\u0411\u0435\u0437 \u0438\u043c\u0435\u043d\u0438]"}),(0,_t.jsxs)("span",{className:"session-date",children:["\u0421\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u043e: ",new Date(e.createdAt).toLocaleString([],{dateStyle:"short",timeStyle:"short"})]})]}),(0,_t.jsxs)("div",{className:"session-actions",children:[(0,_t.jsx)("button",{onClick:()=>(async e=>{i(!0),a(null);try{const t=await fetch("".concat(u,"/sessions/").concat(e));if(!t.ok){const e=await t.json().catch((()=>({message:"\u041e\u0448\u0438\u0431\u043a\u0430 \u0441\u0435\u0440\u0432\u0435\u0440\u0430: ".concat(t.status)})));throw new Error(e.message||"\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0434\u0430\u043d\u043d\u044b\u0435 \u0441\u0435\u0441\u0441\u0438\u0438: ".concat(t.statusText))}const n=await t.json();s("/sequencer",{state:{loadedSessionData:n}})}catch(n){const r=t.find((t=>t._id===e)),o=(null===r||void 0===r?void 0:r.sessionName)||"\u0412\u044b\u0431\u0440\u0430\u043d\u043d\u0430\u044f \u0441\u0435\u0441\u0441\u0438\u044f";console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0435 \u0441\u0435\u0441\u0441\u0438\u0438 ".concat(e,":"),n),a('\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0441\u0435\u0441\u0441\u0438\u044e "'.concat(o,'": ').concat(n.message)),i(!1)}})(e._id),className:"button-load",children:"\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c"}),(0,_t.jsx)("button",{onClick:()=>(async(e,t,r)=>{const i=t||"[\u0411\u0435\u0437 \u0438\u043c\u0435\u043d\u0438]";if(window.confirm('\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b, \u0447\u0442\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0423\u0414\u0410\u041b\u0418\u0422\u042c \u0441\u0435\u0441\u0441\u0438\u044e "'.concat(i,'"').concat(r?" \u0438\u0437 \u043f\u0430\u043f\u043a\u0438 '"+r+"'":"","? \u042d\u0442\u043e \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0435 \u043d\u0435\u043e\u0431\u0440\u0430\u0442\u0438\u043c\u043e.")))try{const t=await fetch("".concat(u,"/sessions/").concat(e),{method:"DELETE"});if(!t.ok){const e=await t.json().catch((()=>({message:"\u041e\u0448\u0438\u0431\u043a\u0430 \u0441\u0435\u0440\u0432\u0435\u0440\u0430: ".concat(t.status)})));throw new Error(e.message||"\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u0441\u0435\u0441\u0441\u0438\u044e: ".concat(t.statusText))}n((t=>t.filter((t=>t._id!==e)))),alert('\u0421\u0435\u0441\u0441\u0438\u044f "'.concat(i,'" \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0443\u0434\u0430\u043b\u0435\u043d\u0430.'))}catch(o){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0438 \u0441\u0435\u0441\u0441\u0438\u0438 ".concat(e,":"),o),alert('\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u0441\u0435\u0441\u0441\u0438\u044e "'.concat(i,'": ').concat(o.message))}})(e._id,e.sessionName,e.folderName),className:"button-delete",children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"})]})]},e._id)))}):(0,_t.jsx)("p",{children:null===l?"\u041d\u0435\u0442 \u0441\u0435\u0441\u0441\u0438\u0439 \u0432 \u043a\u043e\u0440\u043d\u0435.":"\u0412 \u044d\u0442\u043e\u0439 \u043f\u0430\u043f\u043a\u0435 \u043f\u043e\u043a\u0430 \u043d\u0435\u0442 \u0441\u0435\u0441\u0441\u0438\u0439."})]}),r&&t.length>0&&(0,_t.jsx)("div",{className:"sessions-loader-inline",children:"\u041e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435..."})]})};var $l,Gl,Yl,Ql;function Xl(e){var t,n,r,i,o,a;return{lang:null!==(t=null===e||void 0===e?void 0:e.lang)&&void 0!==t?t:null===(n=$l)||void 0===n?void 0:n.lang,message:null===e||void 0===e?void 0:e.message,abortEarly:null!==(r=null===e||void 0===e?void 0:e.abortEarly)&&void 0!==r?r:null===(i=$l)||void 0===i?void 0:i.abortEarly,abortPipeEarly:null!==(o=null===e||void 0===e?void 0:e.abortPipeEarly)&&void 0!==o?o:null===(a=$l)||void 0===a?void 0:a.abortPipeEarly}}function Zl(e){const t=typeof e;return"string"===t?'"'.concat(e,'"'):"number"===t||"bigint"===t||"boolean"===t?"".concat(e):"object"===t||"function"===t?null!==(n=e&&(null===(r=Object.getPrototypeOf(e))||void 0===r||null===(r=r.constructor)||void 0===r?void 0:r.name))&&void 0!==n?n:"null":t;var n,r}function Kl(e,t,n,r,i){var o,a,s,l,c,u,h,d;const p=i&&"input"in i?i.input:n.value,f=null!==(o=null!==(a=null===i||void 0===i?void 0:i.expected)&&void 0!==a?a:e.expects)&&void 0!==o?o:null,m=null!==(s=null===i||void 0===i?void 0:i.received)&&void 0!==s?s:Zl(p),g={kind:e.kind,type:e.type,input:p,expected:f,received:m,message:"Invalid ".concat(t,": ").concat(f?"Expected ".concat(f," but r"):"R","eceived ").concat(m),requirement:e.requirement,path:null===i||void 0===i?void 0:i.path,issues:null===i||void 0===i?void 0:i.issues,lang:r.lang,abortEarly:r.abortEarly,abortPipeEarly:r.abortPipeEarly},v="schema"===e.kind,y=null!==(l=null!==(c=null!==(u=null!==(h=null!==(d=null===i||void 0===i?void 0:i.message)&&void 0!==d?d:e.message)&&void 0!==h?h:function(e,t){var n;return null===(n=Ql)||void 0===n||null===(n=n.get(e))||void 0===n?void 0:n.get(t)}(e.reference,g.lang))&&void 0!==u?u:v?function(e){var t;return null===(t=Yl)||void 0===t?void 0:t.get(e)}(g.lang):null)&&void 0!==c?c:r.message)&&void 0!==l?l:function(e){var t;return null===(t=Gl)||void 0===t?void 0:t.get(e)}(g.lang);void 0!==y&&(g.message="function"===typeof y?y(g):y),v&&(n.typed=!1),n.issues?n.issues.push(g):n.issues=[g]}function Jl(e){return{version:1,vendor:"valibot",validate:t=>e["~run"]({value:t},Xl())}}function ec(e,t){return Object.hasOwn(e,t)&&"__proto__"!==t&&"prototype"!==t&&"constructor"!==t}var tc=class extends Error{constructor(e){super(e[0].message),this.name="ValiError",this.issues=e}};function nc(e,t,n){return"function"===typeof e.fallback?e.fallback(t,n):e.fallback}function rc(e,t,n){return"function"===typeof e.default?e.default(t,n):e.default}function ic(e,t){return!e["~run"]({value:t},{abortEarly:!0}).issues}function oc(e){return{kind:"schema",type:"boolean",reference:oc,expects:"boolean",async:!1,message:e,get"~standard"(){return Jl(this)},"~run"(e,t){return"boolean"===typeof e.value?e.typed=!0:Kl(this,"type",e,t),e}}}function ac(e){return{kind:"schema",type:"function",reference:ac,expects:"Function",async:!1,message:e,get"~standard"(){return Jl(this)},"~run"(e,t){return"function"===typeof e.value?e.typed=!0:Kl(this,"type",e,t),e}}}function sc(e,t){return{kind:"schema",type:"loose_object",reference:sc,expects:"Object",async:!1,entries:e,message:t,get"~standard"(){return Jl(this)},"~run"(e,t){const n=e.value;if(n&&"object"===typeof n){e.typed=!0,e.value={};for(const i in this.entries){const o=this.entries[i];if(i in n||("exact_optional"===o.type||"optional"===o.type||"nullish"===o.type)&&void 0!==o.default){const a=i in n?n[i]:rc(o),s=o["~run"]({value:a},t);if(s.issues){const o={type:"object",origin:"value",input:n,key:i,value:a};for(const t of s.issues){var r;t.path?t.path.unshift(o):t.path=[o],null===(r=e.issues)||void 0===r||r.push(t)}if(e.issues||(e.issues=s.issues),t.abortEarly){e.typed=!1;break}}s.typed||(e.typed=!1),e.value[i]=s.value}else if(void 0!==o.fallback)e.value[i]=nc(o);else if("exact_optional"!==o.type&&"optional"!==o.type&&"nullish"!==o.type&&(Kl(this,"key",e,t,{input:void 0,expected:'"'.concat(i,'"'),path:[{type:"object",origin:"key",input:n,key:i,value:n[i]}]}),t.abortEarly))break}if(!e.issues||!t.abortEarly)for(const t in n)ec(n,t)&&!(t in this.entries)&&(e.value[t]=n[t])}else Kl(this,"type",e,t);return e}}}function lc(e,t){return{kind:"schema",type:"nullish",reference:lc,expects:"(".concat(e.expects," | null | undefined)"),async:!1,wrapped:e,default:t,get"~standard"(){return Jl(this)},"~run"(e,t){return null!==e.value&&void 0!==e.value||(void 0!==this.default&&(e.value=rc(this,e,t)),null!==e.value&&void 0!==e.value)?this.wrapped["~run"](e,t):(e.typed=!0,e)}}}function cc(e){return{kind:"schema",type:"number",reference:cc,expects:"number",async:!1,message:e,get"~standard"(){return Jl(this)},"~run"(e,t){return"number"!==typeof e.value||isNaN(e.value)?Kl(this,"type",e,t):e.typed=!0,e}}}function uc(e,t){return{kind:"schema",type:"optional",reference:uc,expects:"(".concat(e.expects," | undefined)"),async:!1,wrapped:e,default:t,get"~standard"(){return Jl(this)},"~run"(e,t){return void 0===e.value&&(void 0!==this.default&&(e.value=rc(this,e,t)),void 0===e.value)?(e.typed=!0,e):this.wrapped["~run"](e,t)}}}function hc(e){return{kind:"schema",type:"string",reference:hc,expects:"string",async:!1,message:e,get"~standard"(){return Jl(this)},"~run"(e,t){return"string"===typeof e.value?e.typed=!0:Kl(this,"type",e,t),e}}}function dc(e,t,n){const r=e["~run"]({value:t},Xl(n));if(r.issues)throw new tc(r.issues);return r.value}var pc=Object.defineProperty,fc=(e,t,n)=>((e,t,n)=>t in e?pc(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n)(e,"symbol"!=typeof t?t+"":t,n),mc=Object.defineProperty,gc=(e,t,n)=>((e,t,n)=>t in e?mc(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n)(e,t+"",n);function vc(e,t){return n=>n instanceof e&&n.type===t}function yc(e,t){t||(t=[]);const n=Symbol(e);class r extends Error{constructor(){super(..."function"==typeof t?t(...arguments):"string"==typeof t?[t]:t||[]),gc(this,"type",n),this.name=e}}return Object.defineProperty(r,"name",{value:e}),[r,vc(r,n)]}const[_c,bc]=yc("CancelledError","Promise was canceled"),[wc,kc]=yc("TimeoutError",((e,t)=>["Timeout reached: ".concat(e,"ms"),{cause:t}])),Sc=Symbol("Resolved");function xc(e){return Array.isArray(e)&&e[0]===Sc}function Cc(e,t){return e.reject=t.reject,e.abort=t.abort,e}class Tc extends Promise{constructor(e,t){let n,r;super(((i,o)=>{let a,s;"function"==typeof e?(a=e,s=t):s=e;const l=[],c=e=>function(){const t=e(...arguments);return l.forEach((e=>e())),t},u=new AbortController,{signal:h}=u;r=e=>{!h.aborted&&u.abort(e)};const d=()=>h.reason,p=e=>{const t=()=>{e(d())};h.addEventListener("abort",t,!0);const n=()=>{h.removeEventListener("abort",t,!0)};return l.push(n),n},f=c((e=>{i(e),r(function(e){return[Sc,e]}(e))}));n=c((e=>{o(e),r(e)})),s||(s={});const{abortSignal:m,rejectOnAbort:g=!0}=s;if(m)if(m.aborted){const{reason:e}=m;if(g)return n(e);r(e)}else{const e=()=>{r(m.reason)};m.addEventListener("abort",e),l.push((()=>{m.removeEventListener("abort",e)}))}g&&p(o);const{timeout:v}=s;if(v){const e=setTimeout((()=>{r(new wc(v))}),v);l.push((()=>{clearTimeout(e)}))}const y=()=>h.aborted,_=()=>xc(d()),b=()=>{const e=d();return xc(e)?e[1]:void 0};try{const e=a&&a(f,n,{abortReason:d,abortSignal:h,isAborted:y,isResolved:_,onAborted:p,onResolved:e=>p((()=>{_()&&e(b())})),resolved:b,throwIfAborted(){if(y())throw d()}});e instanceof Promise&&e.catch(n)}catch(w){n(w)}})),fc(this,"abort"),fc(this,"reject"),this.abort=r,this.reject=n}static fn(e,t){return new Tc((async(t,n,r)=>{try{t(await e(r))}catch(i){n(i)}}),t)}static resolve(e){return this.fn((()=>e))}static reject(e){return new Tc(((t,n)=>{n(e)}))}cancel(){this.abort(new _c)}catch(e){return this.then(void 0,e)}finally(e){return Cc(super.finally(e),this)}then(e,t){return Cc(super.then(e,t),this)}}function Ec(e,t){return e.resolve=t.resolve,e}class Ac extends Tc{constructor(e,t){let n,r,i;"function"==typeof e?(n=e,r=t):r=e,super(((e,t,r)=>{i=e,n&&n(e,t,r)}),r),fc(this,"resolve"),this.resolve=i}static fn(e,t){return new Ac(((t,n,r)=>{try{Promise.resolve(e(r)).then(t,n)}catch(i){n(i)}}),t)}static resolve(e){return this.fn((()=>e))}static reject(e){return new Ac(((t,n)=>{n(e)}))}catch(e){return this.then(void 0,e)}finally(e){return Ec(super.finally(e),this)}then(e,t){return Ec(super.then(e,t),this)}}function Oc(e){return e.replace(/[A-Z]/g,(e=>"-".concat(e.toLowerCase())))}function Mc(e){const t=function(e){return Object.entries(e).reduce(((e,t)=>{let[n,r]=t;return e[function(e){return e.replace(/_[a-z]/g,(e=>e[1].toUpperCase()))}(n)]=r,e}),{})}(e);for(const n in t){const e=t[n];e&&"object"==typeof e&&!(e instanceof Date)&&(t[n]=Array.isArray(e)?e.map(Mc):Mc(e))}return t}function Pc(e){return"tapps/".concat(e)}function Nc(e,t){sessionStorage.setItem(Pc(e),JSON.stringify(t))}function Ic(e){const t=sessionStorage.getItem(Pc(e));try{return t?JSON.parse(t):void 0}catch(n){}}function Rc(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=t.flat(1);return[r.push.bind(r),()=>{r.forEach((e=>{e()}))}]}function Dc(e,t){t||(t={});const{textColor:n,bgColor:r,shouldLog:i}=t,o=void 0===i||i,a="boolean"==typeof o?()=>o:o,s=function(t,i){if(i||a()){const i="font-weight:bold;padding:0 5px;border-radius:100px",[a,c,u]={log:["#0089c3","white","INFO"],error:["#ff0000F0","white","ERR"],warn:["#D38E15","white","WARN"]}[t];for(var o=arguments.length,s=new Array(o>2?o-2:0),l=2;l<o;l++)s[l-2]=arguments[l];console[t]("%c".concat(u," ").concat(Intl.DateTimeFormat("en-GB",{hour:"2-digit",minute:"2-digit",second:"2-digit",fractionalSecondDigits:3,timeZone:"UTC"}).format(new Date),"%c %c").concat(e),"".concat(i,";background-color:").concat(a,";color:").concat(c),"","".concat(i,";").concat(n?"color:".concat(n,";"):"").concat(r?"background-color:".concat(r):""),...s)}};return[["log","forceLog"],["warn","forceWarn"],["error","forceError"]].reduce(((e,t)=>{let[n,r]=t;return e[n]=s.bind(void 0,n,!1),e[r]=s.bind(void 0,n,!0),e}),{})}function Lc(e){var t,n,r;return{lang:null!==(t=null==e?void 0:e.lang)&&void 0!==t?t:void 0,message:null==e?void 0:e.message,abortEarly:null!==(n=null==e?void 0:e.abortEarly)&&void 0!==n?n:void 0,abortPipeEarly:null!==(r=null==e?void 0:e.abortPipeEarly)&&void 0!==r?r:void 0}}function jc(e,t){var n;return null==(n=void 0)?void 0:n.get(t)}function Fc(e){var t,n,r;const i=typeof e;return"string"===i?'"'.concat(e,'"'):"number"===i||"bigint"===i||"boolean"===i?"".concat(e):"object"===i||"function"===i?null!==(t=e&&(null==(r=null==(n=Object.getPrototypeOf(e))?void 0:n.constructor)?void 0:r.name))&&void 0!==t?t:"null":i}function Vc(e,t,n,r,i){var o,a,s,l,c,u,h,d;const p=i&&"input"in i?i.input:n.value,f=null!==(o=null!==(a=null==i?void 0:i.expected)&&void 0!==a?a:e.expects)&&void 0!==o?o:null,m=null!==(s=null==i?void 0:i.received)&&void 0!==s?s:Fc(p),g={kind:e.kind,type:e.type,input:p,expected:f,received:m,message:"Invalid ".concat(t,": ").concat(f?"Expected ".concat(f," but r"):"R","eceived ").concat(m),requirement:e.requirement,path:null==i?void 0:i.path,issues:null==i?void 0:i.issues,lang:r.lang,abortEarly:r.abortEarly,abortPipeEarly:r.abortPipeEarly},v="schema"===e.kind,y=null!==(l=null!==(c=null!==(u=null!==(h=null!==(d=null==i?void 0:i.message)&&void 0!==d?d:e.message)&&void 0!==h?h:jc(e.reference,g.lang))&&void 0!==u?u:v?void g.lang:null)&&void 0!==c?c:r.message)&&void 0!==l?l:void g.lang;y&&(g.message="function"==typeof y?y(g):y),v&&(n.typed=!1),n.issues?n.issues.push(g):n.issues=[g]}function zc(e){return{version:1,vendor:"valibot",validate:t=>e["~run"]({value:t},Lc())}}function qc(e,t){return Object.hasOwn(e,t)&&"__proto__"!==t&&"prototype"!==t&&"constructor"!==t}function Bc(e,t){var n;const r=[...new Set(e)];return r.length>1?"(".concat(r.join(" ".concat(t," ")),")"):null!==(n=r[0])&&void 0!==n?n:"never"}var Uc=class extends Error{constructor(e){super(e[0].message),this.name="ValiError",this.issues=e}};function Wc(e,t){return{kind:"validation",type:"check",reference:Wc,async:!1,expects:null,requirement:e,message:t,"~run"(e,t){return e.typed&&!this.requirement(e.value)&&Vc(this,"input",e,t),e}}}function Hc(e){return{kind:"validation",type:"integer",reference:Hc,async:!1,expects:null,requirement:Number.isInteger,message:e,"~run"(e,t){return e.typed&&!this.requirement(e.value)&&Vc(this,"integer",e,t),e}}}function $c(e){return{kind:"transformation",type:"transform",reference:$c,async:!1,operation:e,"~run"(e){return e.value=this.operation(e.value),e}}}function Gc(e,t,n){return"function"==typeof e.default?e.default(t,n):e.default}function Yc(e,t){return!e["~run"]({value:t},{abortEarly:!0}).issues}function Qc(e){return{kind:"schema",type:"boolean",reference:Qc,expects:"boolean",async:!1,message:e,get"~standard"(){return zc(this)},"~run"(e,t){return"boolean"==typeof e.value?e.typed=!0:Vc(this,"type",e,t),e}}}function Xc(e){return{kind:"schema",type:"date",reference:Xc,expects:"Date",async:!1,message:e,get"~standard"(){return zc(this)},"~run"(e,t){return e.value instanceof Date?isNaN(e.value)?Vc(this,"type",e,t,{received:'"Invalid Date"'}):e.typed=!0:Vc(this,"type",e,t),e}}}function Zc(e,t){return{kind:"schema",type:"instance",reference:Zc,expects:e.name,async:!1,class:e,message:t,get"~standard"(){return zc(this)},"~run"(e,t){return e.value instanceof this.class?e.typed=!0:Vc(this,"type",e,t),e}}}function Kc(e){return{kind:"schema",type:"lazy",reference:Kc,expects:"unknown",async:!1,getter:e,get"~standard"(){return zc(this)},"~run"(e,t){return this.getter(e.value)["~run"](e,t)}}}function Jc(e,t){return{kind:"schema",type:"loose_object",reference:Jc,expects:"Object",async:!1,entries:e,message:t,get"~standard"(){return zc(this)},"~run"(e,t){var n;const r=e.value;if(r&&"object"==typeof r){e.typed=!0,e.value={};for(const i in this.entries){const o=this.entries[i];if(i in r||("exact_optional"===o.type||"optional"===o.type||"nullish"===o.type)&&void 0!==o.default){const a=i in r?r[i]:Gc(o),s=o["~run"]({value:a},t);if(s.issues){const o={type:"object",origin:"value",input:r,key:i,value:a};for(const t of s.issues)t.path?t.path.unshift(o):t.path=[o],null==(n=e.issues)||n.push(t);if(e.issues||(e.issues=s.issues),t.abortEarly){e.typed=!1;break}}s.typed||(e.typed=!1),e.value[i]=s.value}else if("exact_optional"!==o.type&&"optional"!==o.type&&"nullish"!==o.type&&(Vc(this,"key",e,t,{input:void 0,expected:'"'.concat(i,'"'),path:[{type:"object",origin:"key",input:r,key:i,value:r[i]}]}),t.abortEarly))break}if(!e.issues||!t.abortEarly)for(const t in r)qc(r,t)&&!(t in this.entries)&&(e.value[t]=r[t])}else Vc(this,"type",e,t);return e}}}function eu(e){return{kind:"schema",type:"number",reference:eu,expects:"number",async:!1,message:e,get"~standard"(){return zc(this)},"~run"(e,t){return"number"!=typeof e.value||isNaN(e.value)?Vc(this,"type",e,t):e.typed=!0,e}}}function tu(e,t){return{kind:"schema",type:"optional",reference:tu,expects:"(".concat(e.expects," | undefined)"),async:!1,wrapped:e,default:t,get"~standard"(){return zc(this)},"~run"(e,t){return void 0===e.value&&(void 0!==this.default&&(e.value=Gc(this,e,t)),void 0===e.value)?(e.typed=!0,e):this.wrapped["~run"](e,t)}}}function nu(e,t,n){return{kind:"schema",type:"record",reference:nu,expects:"Object",async:!1,key:e,value:t,message:n,get"~standard"(){return zc(this)},"~run"(e,t){var n,r;const i=e.value;if(i&&"object"==typeof i){e.typed=!0,e.value={};for(const o in i)if(qc(i,o)){const a=i[o],s=this.key["~run"]({value:o},t);if(s.issues){const r={type:"object",origin:"key",input:i,key:o,value:a};for(const t of s.issues)t.path=[r],null==(n=e.issues)||n.push(t);if(e.issues||(e.issues=s.issues),t.abortEarly){e.typed=!1;break}}const l=this.value["~run"]({value:a},t);if(l.issues){const n={type:"object",origin:"value",input:i,key:o,value:a};for(const t of l.issues)t.path?t.path.unshift(n):t.path=[n],null==(r=e.issues)||r.push(t);if(e.issues||(e.issues=l.issues),t.abortEarly){e.typed=!1;break}}(!s.typed||!l.typed)&&(e.typed=!1),s.typed&&(e.value[s.value]=l.value)}}else Vc(this,"type",e,t);return e}}}function ru(e){return{kind:"schema",type:"string",reference:ru,expects:"string",async:!1,message:e,get"~standard"(){return zc(this)},"~run"(e,t){return"string"==typeof e.value?e.typed=!0:Vc(this,"type",e,t),e}}}function iu(e){let t;if(e)for(const n of e)t?t.push(...n.issues):t=n.issues;return t}function ou(e,t){return{kind:"schema",type:"union",reference:ou,expects:Bc(e.map((e=>e.expects)),"|"),async:!1,options:e,message:t,get"~standard"(){return zc(this)},"~run"(e,t){let n,r,i;for(const o of this.options){const a=o["~run"]({value:e.value},t);if(a.typed){if(!a.issues){n=a;break}r?r.push(a):r=[a]}else i?i.push(a):i=[a]}if(n)return n;if(r){if(1===r.length)return r[0];Vc(this,"type",e,t,{issues:iu(r)}),e.typed=!0}else{if(1===(null==i?void 0:i.length))return i[0];Vc(this,"type",e,t,{issues:iu(i)})}return e}}}function au(){return{kind:"schema",type:"unknown",reference:au,expects:"unknown",async:!1,get"~standard"(){return zc(this)},"~run":e=>(e.typed=!0,e)}}function su(e,t,n){const r=e["~run"]({value:t},Lc(n));if(r.issues)throw new Uc(r.issues);return r.value}function lu(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return l(l({},t[0]),{},{pipe:t,get"~standard"(){return zc(this)},"~run"(e,n){for(const r of t)if("metadata"!==r.kind){if(e.issues&&("schema"===r.kind||"transformation"===r.kind)){e.typed=!1;break}(!e.issues||!n.abortEarly&&!n.abortPipeEarly)&&(e=r["~run"](e,n))}return e}})}function cu(e){const t=function(e){return Object.entries(e).reduce(((e,t)=>{let[n,r]=t;return e[function(e){return e.replace(/_[a-z]/g,(e=>e[1].toUpperCase()))}(n)]=r,e}),{})}(e);for(const n in t){const e=t[n];e&&"object"==typeof e&&!(e instanceof Date)&&(t[n]=Array.isArray(e)?e.map(cu):cu(e))}return t}function uu(e){return $c((t=>e?cu(t):t))}function hu(e){return t=>lu(e,uu(t))}function du(e){return(t,n)=>su(lu(e,uu(n)),t)}function pu(){return $c(JSON.parse)}function fu(e){const t=hu(e);return e=>lu(ru(),pu(),t(e))}function mu(e){return $c((t=>{const n={};return new URLSearchParams(t).forEach(((e,t)=>{const r=n[t];Array.isArray(r)?r.push(e):n[t]=void 0===r?e:[r,e]})),su(e,n)}))}function gu(e){return t=>lu(ou([ru(),Zc(URLSearchParams)]),mu(e),uu(t))}const vu=tu(Kc((()=>ku()))),yu=Jc({id:eu(),photo_url:tu(ru()),type:ru(),title:ru(),username:tu(ru())}),_u=Jc({added_to_attachment_menu:tu(Qc()),allows_write_to_pm:tu(Qc()),first_name:ru(),id:eu(),is_bot:tu(Qc()),is_premium:tu(Qc()),last_name:tu(ru()),language_code:tu(ru()),photo_url:tu(ru()),username:tu(ru())}),bu=Jc({auth_date:lu(ru(),$c((e=>new Date(1e3*Number(e)))),Xc()),can_send_after:tu(lu(ru(),$c(Number),Hc())),chat:tu(Kc((()=>wu()))),chat_type:tu(ru()),chat_instance:tu(ru()),hash:ru(),query_id:tu(ru()),receiver:vu,start_param:tu(ru()),signature:ru(),user:vu}),wu=fu(yu),ku=fu(_u),Su=gu(bu);function xu(e){return/^#[\da-f]{6}$/i.test(e)}const Cu=hu(nu(ru(),lu(ou([ru(),eu()]),$c((e=>"number"==typeof e?"#".concat((16777215&e).toString(16).padStart(6,"0")):e)),Wc(xu)))),Tu=tu(lu(ru(),$c((e=>"1"===e)))),Eu=fu(Cu()),Au=gu(Jc({tgWebAppBotInline:Tu,tgWebAppData:tu(Su()),tgWebAppDefaultColors:tu(Eu()),tgWebAppFullscreen:Tu,tgWebAppPlatform:ru(),tgWebAppShowSettings:Tu,tgWebAppStartParam:tu(ru()),tgWebAppThemeParams:Eu(),tgWebAppVersion:ru()})),Ou=(du(Su()),du(Au())),Mu=Jc({eventType:ru(),eventData:tu(au())});function Pu(e){try{return Yc(Au(),e)}catch(t){return!1}}let Nu;function Iu(e){if(Nu)return e();Nu=new Map;try{e()}finally{Nu.forEach((e=>e())),Nu=void 0}}function Ru(e,t){t||(t={});const n=t.equals||Object.is;let r=[],i=e;const o=e=>{if(!n(i,e)){const t=i;i=e,function(e,t){Nu&&Nu.set(e,t)||t()}(l,(()=>{[...r].forEach((n=>{let[r,i]=n;r(e,t),i&&s(r,!0)}))}))}};function a(e){const t="object"!=typeof e?{once:e}:e;return{once:t.once||!1,signal:t.signal||!1}}const s=(e,t)=>{const n=a(t),i=r.findIndex((t=>{let[r,i]=t;return r===e&&i.once===n.once&&i.signal===n.signal}));i>=0&&r.splice(i,1)},l=Object.assign((function(){return function(e){Du.length&&Du[Du.length-1].add(e)}(l),i}),{destroy(){r=[]},set:o,reset(){o(e)},sub:(e,t)=>(r.push([e,a(t)]),()=>s(e,t)),unsub:s,unsubAll(){r=r.filter((e=>e[1].signal))}});return l}const Du=[];var Lu=Object.defineProperty,ju=(e,t,n)=>((e,t,n)=>t in e?Lu(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n)(e,"symbol"!=typeof t?t+"":t,n);function Fu(e,t){return n=>n instanceof e&&n.type===t}function Vu(e,t){t||(t=[]);const n=Symbol(e);class r extends Error{constructor(){super(..."function"==typeof t?t(...arguments):"string"==typeof t?[t]:t||[]),ju(this,"type",n),this.name=e}}return Object.defineProperty(r,"name",{value:e}),[r,Fu(r,n)]}function zu(e){return ic(sc({TelegramWebviewProxy:sc({postEvent:ac()})}),e)}function qu(){try{return window.self!==window.top}catch(e){return!0}}function Bu(e,t){window.dispatchEvent(new MessageEvent("message",{data:JSON.stringify({eventType:e,eventData:t}),source:window.parent}))}let Uu=!1;const Wu=Ru(Dc("Bridge",{bgColor:"#9147ff",textColor:"white",shouldLog:()=>Uu})),Hu={clipboard_text_received:sc({req_id:hc(),data:lc(hc())}),custom_method_invoked:sc({req_id:hc(),result:uc(function e(){return{kind:"schema",type:"unknown",reference:e,expects:"unknown",async:!1,get"~standard"(){return Jl(this)},"~run":e=>(e.typed=!0,e)}}()),error:uc(hc())}),popup_closed:lc(sc({button_id:lc(hc(),(()=>{}))}),{}),viewport_changed:sc({height:cc(),width:lc(cc(),(()=>window.innerWidth)),is_state_stable:oc(),is_expanded:oc()}),theme_changed:sc({theme_params:Cu()})};function $u(e){if(e.source!==window.parent)return;let t;try{t=dc(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return l(l({},t[0]),{},{pipe:t,get"~standard"(){return Jl(this)},"~run"(e,n){for(const r of t)if("metadata"!==r.kind){if(e.issues&&("schema"===r.kind||"transformation"===r.kind)){e.typed=!1;break}e.issues&&(n.abortEarly||n.abortPipeEarly)||(e=r["~run"](e,n))}return e}})}(hc(),pu(),Mu),e.data)}catch(a){return}const{eventType:n,eventData:r}=t,i=Hu[n];let o;try{o=i?dc(i,r):r}catch(ru){return Wu().forceError(['An error occurred processing the "'.concat(n,'" event from the Telegram application.'),"Please, file an issue here:","https://github.com/Telegram-Mini-Apps/telegram-apps/issues/new/choose"].join("\n"),t,ru)}Qu(n,o)}const[Gu,Yu,Qu,Xu]=function(e,t){const n={all:o=o||new Map,on:function(e,t){var n=o.get(e);n?n.push(t):o.set(e,[t])},off:function(e,t){var n=o.get(e);n&&(t?n.splice(n.indexOf(t)>>>0,1):o.set(e,[]))},emit:function(e,t){var n=o.get(e);n&&n.slice().map((function(e){e(t)})),(n=o.get("*"))&&n.slice().map((function(n){n(e,t)}))}},r=new Map,i=(e,i,o)=>{o||(o=!1);const a=r.get(e)||new Map;r.set(e,a);const s=a.get(i)||[];a.set(i,s);const l=s.findIndex((e=>e[1]===o));l>=0&&(n.off(e,s[l][0]),s.splice(l,1),!s.length&&a.delete(i),a.size||(r.delete(e),!r.size&&t()))};var o;return[function(t,o,a){function s(){i(t,o,a)}function l(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];a&&s(),"*"===t?o(n):o(...n)}!r.size&&e(),n.on(t,l);const c=r.get(t)||new Map;r.set(t,c);const u=c.get(o)||[];return c.set(o,u),u.push([l,a||!1]),s},i,n.emit,function(){const e=n.all.size;n.all.clear(),r.clear(),e&&t()}]}((()=>{const e=window,t={receiveEvent:Bu};e.TelegramGameProxy_receiveEvent=Bu,e.TelegramGameProxy=t,e.Telegram={WebView:t},window.addEventListener("message",$u)}),(()=>{["TelegramGameProxy_receiveEvent","TelegramGameProxy","Telegram"].forEach((e=>{delete window[e]})),window.removeEventListener("message",$u)})),[Zu,Ku]=Vu("MethodUnsupportedError",((e,t)=>['Method "'.concat(e,'" is unsupported in Mini Apps version ').concat(t)])),[Ju,eh]=Vu("MethodParameterUnsupportedError",((e,t,n)=>['Parameter "'.concat(t,'" of "').concat(e,'" method is unsupported in Mini Apps version ').concat(n)])),[th,nh]=function(e,t,n){const r=Symbol(e);class i extends Vu(e,n)[0]{constructor(){super(...arguments),ju(this,"data"),ju(this,"type",r),this.data=t(...arguments)}}return Object.defineProperty(i,"name",{value:e}),[i,Fu(i,r)]}("LaunchParamsRetrieveError",(e=>({errors:e})),(e=>[["Unable to retrieve launch parameters from any known source. Perhaps, you have opened your app outside Telegram?","\ud83d\udcd6 Refer to docs for more information:","https://docs.telegram-mini-apps.com/packages/telegram-apps-bridge/environment","","Collected errors:",...e.map((e=>{let[t,n]=e;return"Source: ".concat(t," / ").concat(n instanceof Error?n.message:String(n))}))].join("\n")])),[rh,ih]=Vu("InvalidLaunchParamsError",((e,t)=>["Invalid value for launch params: ".concat(e),{cause:t}])),[oh,ah]=Vu("UnknownEnvError"),[sh,lh]=Vu("InvokeCustomMethodError",(e=>["Server returned error: ".concat(e)])),ch=Ru((function(){try{window.parent.postMessage(...arguments)}catch(e){e instanceof SyntaxError?Wu().forceError("Unable to call window.parent.postMessage due to incorrectly configured target origin. Use the setTargetOrigin method to allow this origin to receive events",e):Wu().forceError(e)}})),uh=Ru("https://web.telegram.org");function hh(e,t){Wu().log("Posting event:",t?{eventType:e,eventData:t}:{eventType:e});const n=window,r=JSON.stringify({eventType:e,eventData:t});if(qu())return function(){return ch()(...arguments)}(r,uh());if(zu(n))n.TelegramWebviewProxy.postEvent(e,JSON.stringify(t));else{if(!ic(sc({external:sc({notify:ac()})}),n))throw new oh;n.external.notify(r)}}function dh(e,t,n){n||(n={});const{capture:r}=n,[i,o]=Rc();return new Tc((o=>{(Array.isArray(t)?t:[t]).forEach((e=>{i(Gu(e,(n=>{(!r||(Array.isArray(t)?r({event:e,payload:n}):r(n)))&&o(n)})))})),(n.postEvent||hh)(e,n.params)}),n).finally(o)}const ph="launchParams";function fh(e){return e.replace(/^[^?#]*[?#]/,"").replace(/[?#]/g,"&")}function mh(){const e=[];for(const[n,r]of[[()=>fh(window.location.href),"window.location.href"],[()=>{const e=performance.getEntriesByType("navigation")[0];return e&&fh(e.name)},"performance navigation entries"],[()=>Ic(ph),"local storage"]]){const i=n();if(i){if(Pu(i))return Nc(ph,i),i;try{Ou(i)}catch(t){e.push([r,t])}}else e.push([r,new Error("Source is empty")])}throw new th(e)}function gh(e){const t=Ou(mh());return e?Mc(t):t}function vh(e,t){if(!e)try{return gh(),!0}catch(n){return!1}return Tc.fn((async e=>{if(zu(window))return!0;try{return await dh("web_app_request_theme","theme_changed",e),!0}catch(t){return!1}}),t||{timeout:100})}function yh(e){return t=>{let{req_id:n}=t;return n===e}}function _h(e){return e.split(".").map(Number)}function bh(e,t){return function(e,t){const n=_h(e),r=_h(t),i=Math.max(n.length,r.length);for(let o=0;o<i;o+=1){const e=n[o]||0,t=r[o]||0;if(e!==t)return e>t?1:-1}return 0}(e,t)<=0}function wh(e,t,n){if("string"==typeof n){if("web_app_open_link"===e){if("try_instant_view"===t)return bh("6.4",n);if("try_browser"===t)return bh("7.6",n)}if("web_app_set_header_color"===e&&"color"===t)return bh("6.9",n);if("web_app_close"===e&&"return_back"===t)return bh("7.6",n);if("web_app_setup_main_button"===e&&"has_shine_effect"===t)return bh("7.10",n)}switch(e){case"web_app_open_tg_link":case"web_app_open_invoice":case"web_app_setup_back_button":case"web_app_set_background_color":case"web_app_set_header_color":case"web_app_trigger_haptic_feedback":return bh("6.1",t);case"web_app_open_popup":return bh("6.2",t);case"web_app_close_scan_qr_popup":case"web_app_open_scan_qr_popup":case"web_app_read_text_from_clipboard":return bh("6.4",t);case"web_app_switch_inline_query":return bh("6.7",t);case"web_app_invoke_custom_method":case"web_app_request_write_access":case"web_app_request_phone":return bh("6.9",t);case"web_app_setup_settings_button":return bh("6.10",t);case"web_app_biometry_get_info":case"web_app_biometry_open_settings":case"web_app_biometry_request_access":case"web_app_biometry_request_auth":case"web_app_biometry_update_token":return bh("7.2",t);case"web_app_setup_swipe_behavior":return bh("7.7",t);case"web_app_share_to_story":return bh("7.8",t);case"web_app_setup_secondary_button":case"web_app_set_bottom_bar_color":return bh("7.10",t);case"web_app_request_safe_area":case"web_app_request_content_safe_area":case"web_app_request_fullscreen":case"web_app_exit_fullscreen":case"web_app_set_emoji_status":case"web_app_add_to_home_screen":case"web_app_check_home_screen":case"web_app_request_emoji_status_access":case"web_app_check_location":case"web_app_open_location_settings":case"web_app_request_file_download":case"web_app_request_location":case"web_app_send_prepared_message":case"web_app_start_accelerometer":case"web_app_start_device_orientation":case"web_app_start_gyroscope":case"web_app_stop_accelerometer":case"web_app_stop_device_orientation":case"web_app_stop_gyroscope":case"web_app_toggle_orientation_lock":return bh("8.0",t);default:return["iframe_ready","iframe_will_reload","web_app_close","web_app_data_send","web_app_expand","web_app_open_link","web_app_ready","web_app_request_theme","web_app_request_viewport","web_app_setup_main_button","web_app_setup_closing_behavior"].includes(e)}}function kh(){const e=performance.getEntriesByType("navigation")[0];return!!e&&"reload"===e.type}var Sh,xh,Ch,Th;function Eh(e){var t,n,r,i,o,a;return{lang:null!==(t=null===e||void 0===e?void 0:e.lang)&&void 0!==t?t:null===(n=Sh)||void 0===n?void 0:n.lang,message:null===e||void 0===e?void 0:e.message,abortEarly:null!==(r=null===e||void 0===e?void 0:e.abortEarly)&&void 0!==r?r:null===(i=Sh)||void 0===i?void 0:i.abortEarly,abortPipeEarly:null!==(o=null===e||void 0===e?void 0:e.abortPipeEarly)&&void 0!==o?o:null===(a=Sh)||void 0===a?void 0:a.abortPipeEarly}}function Ah(e){const t=typeof e;return"string"===t?'"'.concat(e,'"'):"number"===t||"bigint"===t||"boolean"===t?"".concat(e):"object"===t||"function"===t?null!==(n=e&&(null===(r=Object.getPrototypeOf(e))||void 0===r||null===(r=r.constructor)||void 0===r?void 0:r.name))&&void 0!==n?n:"null":t;var n,r}function Oh(e,t,n,r,i){var o,a,s,l,c,u,h,d;const p=i&&"input"in i?i.input:n.value,f=null!==(o=null!==(a=null===i||void 0===i?void 0:i.expected)&&void 0!==a?a:e.expects)&&void 0!==o?o:null,m=null!==(s=null===i||void 0===i?void 0:i.received)&&void 0!==s?s:Ah(p),g={kind:e.kind,type:e.type,input:p,expected:f,received:m,message:"Invalid ".concat(t,": ").concat(f?"Expected ".concat(f," but r"):"R","eceived ").concat(m),requirement:e.requirement,path:null===i||void 0===i?void 0:i.path,issues:null===i||void 0===i?void 0:i.issues,lang:r.lang,abortEarly:r.abortEarly,abortPipeEarly:r.abortPipeEarly},v="schema"===e.kind,y=null!==(l=null!==(c=null!==(u=null!==(h=null!==(d=null===i||void 0===i?void 0:i.message)&&void 0!==d?d:e.message)&&void 0!==h?h:function(e,t){var n;return null===(n=Th)||void 0===n||null===(n=n.get(e))||void 0===n?void 0:n.get(t)}(e.reference,g.lang))&&void 0!==u?u:v?function(e){var t;return null===(t=Ch)||void 0===t?void 0:t.get(e)}(g.lang):null)&&void 0!==c?c:r.message)&&void 0!==l?l:function(e){var t;return null===(t=xh)||void 0===t?void 0:t.get(e)}(g.lang);void 0!==y&&(g.message="function"===typeof y?y(g):y),v&&(n.typed=!1),n.issues?n.issues.push(g):n.issues=[g]}function Mh(e){return{version:1,vendor:"valibot",validate:t=>e["~run"]({value:t},Eh())}}function Ph(e,t){return Object.hasOwn(e,t)&&"__proto__"!==t&&"prototype"!==t&&"constructor"!==t}function Nh(e,t){var n;const r=[...new Set(e)];return r.length>1?"(".concat(r.join(" ".concat(t," ")),")"):null!==(n=r[0])&&void 0!==n?n:"never"}var Ih=class extends Error{constructor(e){super(e[0].message),this.name="ValiError",this.issues=e}};function Rh(e){return{kind:"transformation",type:"transform",reference:Rh,async:!1,operation:e,"~run"(e){return e.value=this.operation(e.value),e}}}function Dh(e,t,n){return"function"===typeof e.fallback?e.fallback(t,n):e.fallback}function Lh(e,t,n){return"function"===typeof e.default?e.default(t,n):e.default}function jh(e,t){return{kind:"schema",type:"array",reference:jh,expects:"Array",async:!1,item:e,message:t,get"~standard"(){return Mh(this)},"~run"(e,t){const n=e.value;if(Array.isArray(n)){e.typed=!0,e.value=[];for(let i=0;i<n.length;i++){const o=n[i],a=this.item["~run"]({value:o},t);if(a.issues){const s={type:"array",origin:"value",input:n,key:i,value:o};for(const t of a.issues){var r;t.path?t.path.unshift(s):t.path=[s],null===(r=e.issues)||void 0===r||r.push(t)}if(e.issues||(e.issues=a.issues),t.abortEarly){e.typed=!1;break}}a.typed||(e.typed=!1),e.value.push(a.value)}}else Oh(this,"type",e,t);return e}}}function Fh(e){return{kind:"schema",type:"date",reference:Fh,expects:"Date",async:!1,message:e,get"~standard"(){return Mh(this)},"~run"(e,t){return e.value instanceof Date?isNaN(e.value)?Oh(this,"type",e,t,{received:'"Invalid Date"'}):e.typed=!0:Oh(this,"type",e,t),e}}}function Vh(e,t){return{kind:"schema",type:"instance",reference:Vh,expects:e.name,async:!1,class:e,message:t,get"~standard"(){return Mh(this)},"~run"(e,t){return e.value instanceof this.class?e.typed=!0:Oh(this,"type",e,t),e}}}function zh(e,t){return{kind:"schema",type:"loose_object",reference:zh,expects:"Object",async:!1,entries:e,message:t,get"~standard"(){return Mh(this)},"~run"(e,t){const n=e.value;if(n&&"object"===typeof n){e.typed=!0,e.value={};for(const i in this.entries){const o=this.entries[i];if(i in n||("exact_optional"===o.type||"optional"===o.type||"nullish"===o.type)&&void 0!==o.default){const a=i in n?n[i]:Lh(o),s=o["~run"]({value:a},t);if(s.issues){const o={type:"object",origin:"value",input:n,key:i,value:a};for(const t of s.issues){var r;t.path?t.path.unshift(o):t.path=[o],null===(r=e.issues)||void 0===r||r.push(t)}if(e.issues||(e.issues=s.issues),t.abortEarly){e.typed=!1;break}}s.typed||(e.typed=!1),e.value[i]=s.value}else if(void 0!==o.fallback)e.value[i]=Dh(o);else if("exact_optional"!==o.type&&"optional"!==o.type&&"nullish"!==o.type&&(Oh(this,"key",e,t,{input:void 0,expected:'"'.concat(i,'"'),path:[{type:"object",origin:"key",input:n,key:i,value:n[i]}]}),t.abortEarly))break}if(!e.issues||!t.abortEarly)for(const t in n)Ph(n,t)&&!(t in this.entries)&&(e.value[t]=n[t])}else Oh(this,"type",e,t);return e}}}function qh(e){return{kind:"schema",type:"number",reference:qh,expects:"number",async:!1,message:e,get"~standard"(){return Mh(this)},"~run"(e,t){return"number"!==typeof e.value||isNaN(e.value)?Oh(this,"type",e,t):e.typed=!0,e}}}function Bh(e,t){return{kind:"schema",type:"optional",reference:Bh,expects:"(".concat(e.expects," | undefined)"),async:!1,wrapped:e,default:t,get"~standard"(){return Mh(this)},"~run"(e,t){return void 0===e.value&&(void 0!==this.default&&(e.value=Lh(this,e,t)),void 0===e.value)?(e.typed=!0,e):this.wrapped["~run"](e,t)}}}function Uh(e,t,n){return{kind:"schema",type:"record",reference:Uh,expects:"Object",async:!1,key:e,value:t,message:n,get"~standard"(){return Mh(this)},"~run"(e,t){const n=e.value;if(n&&"object"===typeof n){e.typed=!0,e.value={};for(const o in n)if(Ph(n,o)){const a=n[o],s=this.key["~run"]({value:o},t);if(s.issues){const i={type:"object",origin:"key",input:n,key:o,value:a};for(const t of s.issues){var r;t.path=[i],null===(r=e.issues)||void 0===r||r.push(t)}if(e.issues||(e.issues=s.issues),t.abortEarly){e.typed=!1;break}}const l=this.value["~run"]({value:a},t);if(l.issues){const r={type:"object",origin:"value",input:n,key:o,value:a};for(const t of l.issues){var i;t.path?t.path.unshift(r):t.path=[r],null===(i=e.issues)||void 0===i||i.push(t)}if(e.issues||(e.issues=l.issues),t.abortEarly){e.typed=!1;break}}s.typed&&l.typed||(e.typed=!1),s.typed&&(e.value[s.value]=l.value)}}else Oh(this,"type",e,t);return e}}}function Wh(e){return{kind:"schema",type:"string",reference:Wh,expects:"string",async:!1,message:e,get"~standard"(){return Mh(this)},"~run"(e,t){return"string"===typeof e.value?e.typed=!0:Oh(this,"type",e,t),e}}}function Hh(e){let t;if(e)for(const n of e)t?t.push(...n.issues):t=n.issues;return t}function $h(e,t){return{kind:"schema",type:"union",reference:$h,expects:Nh(e.map((e=>e.expects)),"|"),async:!1,options:e,message:t,get"~standard"(){return Mh(this)},"~run"(e,t){var n;let r,i,o;for(const a of this.options){const n=a["~run"]({value:e.value},t);if(n.typed){if(!n.issues){r=n;break}i?i.push(n):i=[n]}else o?o.push(n):o=[n]}if(r)return r;if(i){if(1===i.length)return i[0];Oh(this,"type",e,t,{issues:Hh(i)}),e.typed=!0}else{if(1===(null===(n=o)||void 0===n?void 0:n.length))return o[0];Oh(this,"type",e,t,{issues:Hh(o)})}return e}}}function Gh(e,t,n){const r=e["~run"]({value:t},Eh(n));if(r.issues)throw new Ih(r.issues);return r.value}function Yh(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return l(l({},t[0]),{},{pipe:t,get"~standard"(){return Mh(this)},"~run"(e,n){for(const r of t)if("metadata"!==r.kind){if(e.issues&&("schema"===r.kind||"transformation"===r.kind)){e.typed=!1;break}e.issues&&(n.abortEarly||n.abortPipeEarly)||(e=r["~run"](e,n))}return e}})}const Qh=["available"];function Xh(e,t){return Ru(e,t)}function Zh(e,t){return function(e,t){let n,r=new Set;function i(){return n||(n=Ru(a(),t))}function o(){i().set(a())}function a(){r.forEach((e=>{e.unsub(o,{signal:!0})}));const t=new Set;let n;Du.push(t);try{n=e()}finally{Du.pop()}return t.forEach((e=>{e.sub(o,{signal:!0})})),r=t,n}return Object.assign((function(){return i()()}),{destroy(){i().destroy()},sub(){return i().sub(...arguments)},unsub(){i().unsub(...arguments)},unsubAll(){i().unsubAll(...arguments)}})}(e,t)}function Kh(e,t){const n=Xh(e,t);return[n,Zh(n)]}let Jh=!1;Ru(Dc("Bridge",{bgColor:"forestgreen",textColor:"white",shouldLog:()=>Jh}));const ed=Xh(0),td=Xh(hh),[nd,rd]=Kh({tgWebAppPlatform:"unknown",tgWebAppVersion:"0.0"}),id=Zh((()=>rd().tgWebAppVersion));function od(){return ed.set(ed()+1),ed().toString()}function ad(e,t,n){return function(e,t,n,r){return dh("web_app_invoke_custom_method","custom_method_invoked",l(l({},r||{}),{},{params:{method:e,params:t,req_id:n},capture:yh(n)})).then((e=>{let{result:t,error:n}=e;if(n)throw new sh(n);return t}))}(e,t,od(),l(l({},n||{}),{},{postEvent:ld}))}const sd=(e,t,n)=>(n||(n={}),n.postEvent||(n.postEvent=ld),dh(e,t,n)),ld=(e,t)=>td()(e,t);function cd(e){return Zh((()=>wh(e,id())))}function ud(e){return[e]}const[hd,dd]=Vu("CSSVarsBoundError","CSS variables are already bound"),[pd,fd]=Vu("NotAvailableError",ud),[md,gd]=Vu("InvalidEnvError",ud),[vd,yd]=Vu("FunctionNotAvailableError",ud),[_d,bd]=Vu("InvalidArgumentsError",((e,t)=>[e,{cause:t}])),[wd,kd]=Vu("ConcurrentCallError",ud),[Sd,xd]=Vu("SetEmojiStatusError",(e=>["Failed to set emoji status: ".concat(e)])),[Cd,Td]=Vu("AccessDeniedError",ud),[Ed,Ad]=Vu("FullscreenFailedError",ud),[Od,Md]=Vu("ShareMessageError",ud),[Pd,Nd]=Vu("UnknownThemeParamsKeyError",(e=>["Unknown theme params key passed: ".concat(e)]));function Id(){return typeof window>"u"}function Rd(e,t,n){n||(n={});const{isSupported:r,isMounted:i,isMounting:o,component:a,supports:s}=n||{},l="".concat(a?"".concat(a,"."):"").concat(e,"()"),c=r?Array.isArray(r)||"object"==typeof r&&"any"in r?r:[r]:void 0;function u(e){if(s){const t=s[e];return wh(t[0],t[1],id())}return!0}function h(){if(!c)return;const e=Array.isArray(c)?c:c.any,t=e.map((function(e){return"function"==typeof e?e():wh(e,id())?void 0:"it is unsupported in Mini Apps version ".concat(id())})).filter(Boolean);return Array.isArray(c)?t[0]:t.length===e.length?t[t.length-1]:void 0}let d;if(s){d={};for(const e in s)d[e]=Zh((()=>u(e)))}const p=Zh((()=>!h())),f=Zh((()=>"0.0"!==id())),m=Zh((()=>!i||i())),g=Zh((()=>vh()&&!Id()&&f()&&p()&&m()));return Object.assign((function(){const e="Unable to call the ".concat(l," ").concat(a?"method":"function",":");if(Id()||!vh())throw new vd("".concat(e," it can't be called outside Mini Apps"));if(!f())throw new vd("".concat(e," the SDK was not initialized. Use the SDK init() function"));const n=h();if(n)throw new vd("".concat(e," ").concat(n));const r=function(){for(const e in s)if(s[e][2](...arguments)&&!u(e))return"option ".concat(e," is not supported in Mini Apps version ").concat(id())}(...arguments);if(r)throw new vd("".concat(e," ").concat(r));if(!m()){const t=o&&o()?"mounting. Wait for the mount completion":"unmounted. Use the ".concat(a,".mount() method");throw new vd("".concat(e," the component is ").concat(t))}return t(...arguments)}),t,{isAvailable:g,ifAvailable(){return g()?[!0,t(...arguments)]:[!1]}},c?{isSupported:p}:{},d?{supports:d}:{})}function Dd(e,t){return t||(t={}),(n,r,i,o)=>Rd(n,r,l(l({},t),{},{isSupported:i||t.isSupported,supports:o,component:e}))}function Ld(e,t,n){return Dd(e,{isSupported:n,isMounted:t})}function jd(e,t){return Dd(e,{isSupported:t})}const Fd="web_app_setup_back_button",Vd="back_button_pressed",zd="backButton",[qd,Bd]=Kh(!1),[Ud,Wd]=Kh(!1),Hd=cd(Fd),$d=Ld(zd,Ud,Fd),Gd=jd(zd,Fd),Yd=$d("hide",(()=>{Xd(!1)})),Qd=Gd("mount",(()=>{Ud()||(Xd(kh()&&Ic(zd)||!1),Ud.set(!0))}));function Xd(e){e!==qd()&&(ld(Fd,{is_visible:e}),Nc(zd,e),qd.set(e))}const Zd=Gd("onClick",(e=>Gu(Vd,e))),Kd=Gd("offClick",(e=>{Yu(Vd,e)})),Jd=$d("show",(()=>{Xd(!0)}));Symbol.toStringTag;function ep(e,t,n){n||(n={});const{promise:r,error:i}=n,[o,a]=r?[r,Zh(r)]:Kh(),[s,l]=i?[i,Zh(i)]:Kh();return[Object.assign((function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];if(o()){const e=new wd(t);return s.set(e),Tc.reject(e)}let a;return Iu((()=>{o.set(e(...r)),s.set(void 0)})),o().catch((e=>{throw a=e,e})).finally((()=>{Iu((()=>{o.set(void 0),s.set(a)}))}))}),e),[o,a,Zh((()=>!!o()))],[s,l]]}function tp(e,t,n){const[r,...i]=ep(t,"The ".concat(e," component is already mounting")),[o,a]=Kh(!1);return[function(){return o()?Tc.resolve():r(...arguments).then((e=>{Iu((()=>{o.set(!0),n(e)}))}))},...i,[o,a]]}const[np,rp]=Kh({available:!1,type:"",accessGranted:!1,accessRequested:!1,deviceId:"",tokenSaved:!1}),ip=Zh((()=>np().available)),op="web_app_biometry_get_info",ap=Rd("requestBiometry",(e=>sd(op,"biometry_info_received",e)),{isSupported:op});function sp(e){if(!bc(e))throw e}function lp(e){const t=e();t&&t.catch(sp).cancel()}const cp="biometry",up="web_app_biometry_request_auth",hp="biometry_info_received",dp=e=>{Up(fp(e))};function pp(){throw new pd("Biometry is not available")}function fp(e){let t=!1,n=!1,r="",i=!1,o="",a=!1;return e.available&&(t=!0,n=e.token_saved,r=e.device_id,i=e.access_requested,o=e.type,a=e.access_granted),{available:t,tokenSaved:n,deviceId:r,type:o,accessGranted:a,accessRequested:i}}const mp=cd(up),[gp,vp,yp,_p]=tp(cp,(e=>{const t=kh()&&Ic(cp);return t?Tc.resolve(t):ap({abortSignal:e}).then(fp)}),(e=>{Gu(hp,dp),Up(e)})),bp=jd(cp,up),wp=Ld(cp,_p[0],up),kp=bp("mount",gp),[,Sp,xp]=vp,[,Cp]=yp,[Tp,Ep]=_p,[Ap,Op,Mp]=ep((e=>Tc.fn((async t=>{const n=np();n.available||pp();const r=await sd(up,"biometry_auth_requested",l(l(l({},e),t),{},{params:{reason:((e||{}).reason||"").trim()}})),{token:i}=r;return"string"==typeof i&&Up(l(l({},n),{},{token:i})),r}),e)),"Biometry authentication is already in progress"),Pp=wp("authenticate",Ap),[,Np,Ip]=Op,[,Rp]=Mp,Dp=bp("openSettings",(()=>{ld("web_app_biometry_open_settings")})),[Lp,jp,Fp]=ep((e=>Tc.fn((async t=>{const n=await sd("web_app_biometry_request_access",hp,l(l(l({},e),t),{},{params:{reason:(e||{}).reason||""}})).then(fp);return n.available||pp(),Up(n),n.accessGranted}),e)),"Biometry access request is already in progress"),Vp=wp("requestAccess",Lp),[,zp,qp]=jp,[,Bp]=Fp;function Up(e){np.set(e),Nc(cp,e)}const Wp=wp("updateToken",(e=>(e||(e={}),sd("web_app_biometry_update_token","biometry_token_updated",l(l({},e),{},{params:{token:e.token||"",reason:e.reason}})).then((e=>e.status)))));Symbol.toStringTag;function Hp(e,t){return Dd(e,{isMounted:t})}const $p=Dd,Gp="closingBehavior",[Yp,Qp]=Kh(!1),[Xp,Zp]=Kh(!1),Kp=Hp(Gp,Zp),Jp=$p(Gp),ef=Kp("disableConfirmation",(()=>{rf(!1)})),tf=Kp("enableConfirmation",(()=>{rf(!0)})),nf=Jp("mount",(()=>{Xp()||(rf(kh()&&Ic(Gp)||!1),Xp.set(!0))}));function rf(e){e!==Yp()&&(ld("web_app_setup_closing_behavior",{need_confirmation:e}),Nc(Gp,e),Yp.set(e))}Symbol.toStringTag;const of="web_app_invoke_custom_method",af=jd("cloudStorage",of),sf=cd(of),lf=af("deleteItem",((e,t)=>{const n=Array.isArray(e)?e:[e];return n.length?ad("deleteStorageValues",{keys:n},t).then():Tc.resolve()}));const cf=af("getItem",(function(e,t){const n=Array.isArray(e)?e:[e];return n.length?ad("getStorageValues",{keys:n},t).then((t=>{const r=l(l({},n.reduce(((e,t)=>(e[t]="",e)),{})),Gh(Uh(Wh(),Wh()),t));return"string"==typeof e?r[e]:r})):Tc.resolve(Array.isArray(e)?{}:"")})),uf=af("getKeys",(e=>ad("getStorageKeys",{},e).then((e=>Gh(jh(Wh()),e))))),hf=af("setItem",((e,t,n)=>ad("saveStorageValue",{key:e,value:t},n).then())),df=af("clear",(e=>uf(e).then(lf))),pf=(Symbol.toStringTag,"web_app_trigger_haptic_feedback"),ff=jd("hapticFeedback",pf),mf=cd(pf),gf=ff("impactOccurred",(e=>{ld(pf,{type:"impact",impact_style:e})})),vf=ff("notificationOccurred",(e=>{ld(pf,{type:"notification",notification_type:e})})),yf=ff("selectionChanged",(()=>{ld(pf,{type:"selection_change"})})),[_f,bf]=(Symbol.toStringTag,Kh(void 0));function wf(e){return Zh((()=>{const t=_f();return t?t[e]:void 0}))}const kf=wf("auth_date"),Sf=wf("can_send_after"),xf=Zh((()=>{const e=kf(),t=Sf();return t&&e?new Date(e.getTime()+1e3*t):void 0})),Cf=wf("chat"),Tf=wf("chat_type"),Ef=wf("chat_instance"),Af=wf("hash"),Of=wf("query_id"),[Mf,Pf]=Kh(),Nf=wf("receiver");const If=wf("start_param"),Rf=wf("user"),Df=(Symbol.toStringTag,"web_app_open_invoice"),Lf=jd("invoice",Df),jf=cd(Df);const[Ff,Vf,zf]=ep((function(e,t,n){let r;if("url"===t){const{hostname:t,pathname:n}=new URL(e,window.location.href);if("t.me"!==t)throw new _d("Link has unexpected hostname: ".concat(t));const i=n.match(/^\/(\$|invoice\/)([A-Za-z0-9\-_=]+)$/);if(!i)throw new _d('Expected to receive a link with a pathname in format "/invoice/{slug}" or "/${slug}"');[,,r]=i}else r=e,n=t;return sd(Df,"invoice_closed",l(l({},n),{},{params:{slug:r},capture:e=>r===e.slug})).then((e=>e.status))}),"Invoice is already opened"),qf=Lf("open",Ff),[,Bf,Uf]=Vf,[,Wf]=zf,Hf=(Symbol.toStringTag,"locationManager"),$f="web_app_check_location",Gf="web_app_open_location_settings",Yf=Xh({available:!1,accessGranted:!1,accessRequested:!1});function Qf(e){return Zh((()=>Yf()[e]))}const Xf=cd($f),Zf=Qf("available"),Kf=Qf("accessGranted"),Jf=Qf("accessRequested");function em(e){let t,n,r=!1;return e.available&&(r=!0,t=e.access_requested,n=e.access_granted),{available:r,accessGranted:n||!1,accessRequested:t||!1}}const[tm,nm,rm,im]=tp(Hf,(e=>{const t=kh()&&Ic(Hf);return t?Tc.resolve(t):sd("web_app_check_location","location_checked",e).then(em)}),(e=>{Yf.set(e),Nc(Hf,e)})),om=jd(Hf,$f),am=Ld(Hf,im[0],$f),sm=om("mount",tm),[,lm,cm]=nm,[,um]=rm,[hm,dm]=im,[pm,fm,mm]=ep((e=>sd("web_app_request_location","location_requested",e).then((e=>{if(!e.available)throw Yf.set(l(l({},Yf()),{},{available:!1})),new pd("Location data tracking is not available");const{available:t}=e;return r(e,Qh)}))),"Location request is currently in progress"),gm=am("requestLocation",pm),[,vm,ym]=fm,[,_m]=mm,bm=om("openSettings",(()=>{ld(Gf)}),Gf);Symbol.toStringTag;function wm(e){const t={};for(const n in e){const r=e[n];void 0!==r&&(t[n]=r)}return t}function km(e){const t=function(e){const t=e.replace(/\s/g,"").toLowerCase();if(xu(t))return t;if(function(e){return/^#[\da-f]{3}$/i.test(e)}(t)){let e="#";for(let n=0;n<3;n+=1)e+=t[1+n].repeat(2);return e}const n=t.match(/^rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)$/)||t.match(/^rgba\((\d{1,3}),(\d{1,3}),(\d{1,3}),\d{1,3}\)$/);if(!n)throw new Error('Value "'.concat(e,'" does not satisfy any of known RGB formats.'));return n.slice(1).reduce(((e,t)=>e+parseInt(t,10).toString(16).padStart(2,"0")),"#")}(e);return Math.sqrt([.299,.587,.114].reduce(((e,n,r)=>{const i=parseInt(t.slice(1+2*r,1+2*(r+1)),16);return e+i*i*n}),0))<120}const[Sm,xm]=Kh(!1),[Cm,Tm]=Kh({});function Em(e){return Zh((()=>Cm()[e]))}const Am=Em("accent_text_color"),Om=Em("bg_color"),Mm=Em("button_color"),Pm=Em("button_text_color"),Nm=Em("bottom_bar_bg_color"),Im=Em("destructive_text_color"),Rm=Em("header_bg_color"),Dm=Em("hint_color"),Lm=Zh((()=>{const e=Om();return!e||km(e)})),jm=Em("link_color"),Fm=Em("secondary_bg_color"),Vm=Em("section_bg_color"),zm=Em("section_header_text_color"),qm=Em("section_separator_color"),Bm=Em("subtitle_text_color"),Um=Em("text_color");function Wm(e){return Zh((()=>$m()[e]))}const Hm=Xh({hasShineEffect:!1,isEnabled:!0,isLoaderVisible:!1,isVisible:!1,text:"Continue"}),$m=Zh((()=>{const e=Hm();return l(l({},e),{},{backgroundColor:e.backgroundColor||Mm()||"#2481cc",textColor:e.textColor||Pm()||"#ffffff"})})),[Gm,Ym]=Kh(!1),Qm=Wm("backgroundColor"),Xm=Wm("hasShineEffect"),Zm=Wm("isEnabled"),Km=Wm("isLoaderVisible"),Jm=Wm("isVisible"),eg=Wm("text"),tg=Wm("textColor"),ng="main_button_pressed",rg="mainButton",ig=$p(rg),og=Hp(rg,Ym),ag=ig("mount",(()=>{if(!Gm()){const e=kh()&&Ic(rg);e&&Hm.set(e),Gm.set(!0)}})),sg=ig("onClick",(e=>Gu(ng,e))),lg=ig("offClick",(e=>{Yu(ng,e)})),cg=og("setParams",(e=>{Hm.set(l(l({},Hm()),wm(e))),Nc(rg,Hm());const t=$m();t.text&&ld("web_app_setup_main_button",{color:t.backgroundColor,has_shine_effect:t.hasShineEffect,is_active:t.isEnabled,is_progress_visible:t.isLoaderVisible,is_visible:t.isVisible,text:t.text,text_color:t.textColor})}));Symbol.toStringTag;function ug(e,t){document.documentElement.style.setProperty(e,t)}function hg(e){document.documentElement.style.removeProperty(e)}const dg="themeParams",pg="theme_changed",fg=$p(dg),mg=e=>{let{theme_params:t}=e;Cm.set(t),Nc(dg,t)},[gg,vg,yg,_g]=tp(dg,(e=>Tc.resolve(kh()&&Ic(dg)||rd().tgWebAppThemeParams||{})),(e=>{Gu(pg,mg),Cm.set(e)})),bg=Hp(dg,_g[0])("bindCssVars",(e=>{if(Sm())throw new hd;function t(e){Object.entries(Cm()).forEach((t=>{let[n,r]=t;r&&e(n,r)}))}function n(){t(((t,n)=>{ug(e(t),n)}))}return e||(e=e=>"--tg-theme-".concat(function(e){return e.replace(/_([a-z])/g,((e,t)=>"-".concat(t.toLowerCase())))}(e))),n(),Cm.sub(n),Sm.set(!0),()=>{t(hg),Cm.unsub(n),Sm.set(!1)}})),wg=fg("mount",gg),kg=vg[2],Sg=vg[1],xg=yg[1],[Cg,Tg]=_g,Eg=fg("mountSync",(()=>{if(!Cg()){const e=kh()&&Ic(dg)||rd().tgWebAppThemeParams||{};Gu(pg,mg),Iu((()=>{Cm.set(e),Cg.set(!0)}))}}));function Ag(e){return Zh((()=>Og(e())))}function Og(e){return xu(e)?e:Tm()[e]}const[Mg,Pg]=Kh("bg_color"),Ng=Ag(Mg),[Ig,Rg]=Kh("bottom_bar_bg_color"),Dg=Zh((()=>{const e=Ig();return xu(e)?e:Tm()[e]||Fm()})),[Lg,jg]=Kh("bg_color"),Fg=Ag(Lg),[Vg,zg]=Kh(!1),qg=Zh((()=>{const e=Ng();return!!e&&km(e)})),[Bg,Ug]=Kh(!0),Wg=Zh((()=>({backgroundColor:Mg(),bottomBarColor:Ig(),headerColor:Lg(),isActive:Bg()}))),Hg=(Symbol.toStringTag,"web_app_set_background_color"),$g="web_app_set_bottom_bar_color",Gg="web_app_set_header_color",Yg="visibility_changed",Qg="miniApp",Xg={any:[Hg,$g,Gg]},Zg=Zh((()=>Xg.any.some((e=>wh(e,id()))))),Kg=e=>{Bg.set(e.is_visible),vv()},Jg=e=>{[[Lg,Gg],[Mg,Hg],[Ig,$g]].forEach((t=>{let[n,r]=t;const i=n();if(!xu(i)&&(r!==Gg||"bg_color"!==i&&"secondary_bg_color"!==i)){const t=e[i];t&&ld(r,{color:t})}}))},[ev,tv,nv,rv]=tp(Qg,(e=>wg(e).then((()=>kh()&&Ic(Qg)||void 0))),(e=>{yv.ifAvailable(e?e.backgroundColor:"bg_color"),_v.ifAvailable(e?e.bottomBarColor:"bottom_bar_bg_color"),bv.ifAvailable(e?e.headerColor:"bg_color"),Bg.set(!e||e.isActive),Gu(Yg,Kg),Tm.sub(Jg)})),iv=$p(Qg),ov=jd(Qg,Xg),av=Ld(Qg,rv[0],Xg),sv=av("bindCssVars",(e=>{if(Vg())throw new hd;const[t,n]=Rc();function r(e,n){function r(){ug(e,n()||null)}r(),t(n.sub(r),hg.bind(null,e))}return e||(e=e=>"--tg-".concat(Oc(e))),r(e("bgColor"),Ng),r(e("bottomBarColor"),Dg),r(e("headerColor"),Fg),t((()=>{Vg.set(!1)})),Vg.set(!0),n})),lv=iv("close",(e=>{ld("web_app_close",{return_back:e})})),cv=ov("mount",ev),uv=tv[2],hv=tv[1],dv=nv[1],[pv,fv]=rv,mv=ov("mountSync",(()=>{if(!pv()){Eg();const e=kh()&&Ic(Qg)||void 0;yv.ifAvailable(e?e.backgroundColor:"bg_color"),_v.ifAvailable(e?e.bottomBarColor:"bottom_bar_bg_color"),bv.ifAvailable(e?e.headerColor:"bg_color"),Gu(Yg,Kg),Tm.sub(Jg),Iu((()=>{Bg.set(!e||e.isActive),pv.set(!0)}))}})),gv=iv("ready",(()=>{ld("web_app_ready")}));function vv(){Nc(Qg,Wg())}const yv=av("setBackgroundColor",(e=>{if(e===Mg())return;const t=Og(e);if(!t)throw new Pd(e);ld(Hg,{color:t}),Mg.set(e),vv()}),Hg),_v=av("setBottomBarColor",(e=>{if(e===Ig())return;const t=Og(e);if(!t)throw new Pd(e);ld($g,{color:t}),Ig.set(e),vv()}),$g),bv=av("setHeaderColor",(e=>{if(e!==Lg()){if("bg_color"===e||"secondary_bg_color"===e)ld(Gg,{color_key:e});else{const t=Og(e);if(!t)throw new Pd(e);ld(Gg,{color:t})}Lg.set(e),vv()}}),Gg,{rgb:[Gg,"color",xu]});Symbol.toStringTag;function wv(e){const t=e.message.trim(),n=(e.title||"").trim(),r=e.buttons||[];if(n.length>64)throw new _d("Invalid title: ".concat(n));if(!t||t.length>256)throw new _d("Invalid message: ".concat(t));if(r.length>3)throw new _d("Invalid buttons count: ".concat(r.length));return{title:n,message:t,buttons:r.length?r.map(((e,t)=>{const n=e.id||"";if(n.length>64)throw new _d("Button with index ".concat(t," has invalid id: ").concat(n));if(!e.type||"default"===e.type||"destructive"===e.type){const r=e.text.trim();if(!r||r.length>64)throw new _d("Button with index ".concat(t," has invalid text: ").concat(r));return{type:e.type,text:r,id:n}}return{type:e.type,id:n}})):[{type:"close",id:""}]}}const kv="web_app_open_popup",Sv=jd("popup",kv),xv=cd(kv),[Cv,Tv,Ev]=ep((e=>sd(kv,"popup_closed",l(l({},e),{},{params:wv(e)})).then((e=>{let{button_id:t}=e;return void 0===t?null:t}))),"A popup is already opened"),Av=Sv("open",Cv),Ov=Tv[1],Mv=Tv[2],Pv=Ev[1],Nv=Sv("show",Cv),[,Iv,Rv]=Tv,[,Dv]=Ev,Lv=(Symbol.toStringTag,"web_app_close_scan_qr_popup"),jv="web_app_open_scan_qr_popup",Fv=jd("qrScanner",jv),Vv=Fv("close",(()=>{ld(Lv),lp(Hv)})),zv=cd(jv);const[qv,Bv,Uv]=ep((function(e){e||(e={});const{onCaptured:t,text:n,capture:r}=e,[,i]=Rc(Gu("scan_qr_popup_closed",(()=>{o.resolve()})),Gu("qr_text_received",(e=>{t?t(e.data):(!r||r(e.data))&&(o.resolve(e.data),ld(Lv))}))),o=new Ac(e);return(e.postEvent||ld)(jv,{text:n}),Tc.resolve(o).catch(sp).finally(i)}),"The QR Scanner is already opened"),Wv=Fv("open",qv),[,Hv,$v]=Bv,[,Gv]=Uv;Symbol.toStringTag;function Yv(e){return Zh((()=>Xv()[e]))}const Qv=Xh({hasShineEffect:!1,isEnabled:!0,isLoaderVisible:!1,isVisible:!1,position:"left",text:"Cancel"}),Xv=Zh((()=>{const e=Qv();return l(l({},e),{},{backgroundColor:e.backgroundColor||Dg()||"#000000",textColor:e.textColor||Mm()||"#2481cc"})})),[Zv,Kv]=Kh(!1),Jv=Yv("backgroundColor"),ey=Yv("hasShineEffect"),ty=Yv("isEnabled"),ny=Yv("isLoaderVisible"),ry=Yv("isVisible"),iy=Yv("position"),oy=Yv("text"),ay=Yv("textColor"),sy="web_app_setup_secondary_button",ly="secondary_button_pressed",cy="secondaryButton",uy=jd(cy,sy),hy=Ld(cy,Kv,sy),dy=cd(sy),py=uy("mount",(()=>{if(!Zv()){const e=kh()&&Ic(cy);e&&Qv.set(e),Zv.set(!0)}})),fy=uy("onClick",(e=>Gu(ly,e))),my=uy("offClick",(e=>{Yu(ly,e)})),gy=hy("setParams",(e=>{Qv.set(l(l({},Qv()),wm(e))),Nc(cy,Qv());const t=Xv();t.text&&ld(sy,{color:t.backgroundColor,has_shine_effect:t.hasShineEffect,is_active:t.isEnabled,is_progress_visible:t.isLoaderVisible,is_visible:t.isVisible,position:t.position,text:t.text,text_color:t.textColor})}));Symbol.toStringTag;const vy="web_app_setup_settings_button",yy="settings_button_pressed",_y="settingsButton",[by,wy]=Kh(!1),[ky,Sy]=Kh(!1),xy=cd(vy),Cy=jd(_y,vy),Ty=Ld(_y,ky,vy),Ey=Ty("hide",(()=>{Oy(!1)})),Ay=Cy("mount",(()=>{ky()||(Oy(kh()&&Ic(_y)||!1),ky.set(!0))}));function Oy(e){e!==by()&&(ld(vy,{is_visible:e}),Nc(_y,e),by.set(e))}const My=Cy("onClick",(e=>Gu(yy,e))),Py=Cy("offClick",(e=>{Yu(yy,e)})),Ny=Ty("show",(()=>{Oy(!0)}));Symbol.toStringTag;const Iy="web_app_setup_swipe_behavior",Ry="swipeBehavior",[Dy,Ly]=Kh(!1),jy=cd(Iy),[Fy,Vy]=Kh(!0),zy=jd(Ry,Iy),qy=Ld(Ry,Dy,Iy),By=qy("disableVertical",(()=>{Hy(!1)})),Uy=qy("enableVertical",(()=>{Hy(!0)})),Wy=zy("mount",(()=>{Dy()||(Hy(kh()&&Ic(Ry)||!1,!0),Dy.set(!0))}));function Hy(e,t){(e!==Fy()||t)&&(ld(Iy,{allow_vertical_swipe:e}),Nc(Ry,e),Fy.set(e))}Symbol.toStringTag;const $y="viewport",Gy="fullscreen_changed",Yy="safe_area_changed",Qy="content_safe_area_changed",Xy="viewport_changed",Zy=$p($y),Ky={left:0,top:0,bottom:0,right:0};function Jy(e){return Math.max(e,0)}const[e_,t_]=Kh({contentSafeAreaInsets:Ky,height:0,isExpanded:!1,isFullscreen:!1,safeAreaInsets:Ky,stableHeight:0,width:0});function n_(e){return Zh((()=>t_()[e]))}const r_=n_("height"),i_=n_("stableHeight"),o_=n_("width"),a_=n_("isExpanded"),s_=Zh((()=>r_()===i_()));function l_(e){const{height:t,stableHeight:n,width:r}=e;e_.set(l(l({},e_()),wm(l(l({},e),{},{height:t?Jy(t):void 0,width:r?Jy(r):void 0,stableHeight:n?Jy(n):void 0})))),Nc($y,e_())}function c_(e){return Zh((()=>u_()[e]))}const u_=n_("contentSafeAreaInsets"),h_=c_("bottom"),d_=c_("left"),p_=c_("right"),f_=c_("top");function m_(e){return Zh((()=>g_()[e]))}const g_=n_("safeAreaInsets"),v_=m_("bottom"),y_=m_("left"),__=m_("right"),b_=m_("top"),w_="web_app_request_safe_area",k_=jd($y,w_),S_=k_("requestContentSafeAreaInsets",(e=>sd("web_app_request_content_safe_area",Qy,e)));const x_=k_("requestSafeAreaInsets",(e=>sd(w_,Yy,e))),C_=e=>{const{height:t}=e;l_({isExpanded:e.is_expanded,height:t,width:e.width,stableHeight:e.is_state_stable?t:void 0})},T_=e=>{l_({isFullscreen:e.is_fullscreen})},E_=e=>{l_({safeAreaInsets:e})},A_=e=>{l_({contentSafeAreaInsets:e})},[O_,M_,P_,N_]=tp($y,(e=>{const t=kh()&&Ic($y);return t?Tc.resolve(t):Tc.fn((async e=>{const t=await Tc.all([x_.isAvailable()?x_(e):g_(),S_.isAvailable()?S_(e):u_()]),n=rd(),r={contentSafeAreaInsets:t[1],isFullscreen:!!n.tgWebAppFullscreen,safeAreaInsets:t[0]};if(["macos","tdesktop","unigram","webk","weba","web"].includes(n.tgWebAppPlatform)){const e=window;return l(l({},r),{},{height:e.innerHeight,isExpanded:!0,stableHeight:e.innerHeight,width:e.innerWidth})}return function(e){return sd("web_app_request_viewport",Xy,e)}(e).then((e=>l(l({},r),{},{height:e.height,isExpanded:e.is_expanded,stableHeight:e.is_state_stable?e.height:0,width:e.width})))}),e)}),(e=>{Gu(Xy,C_),Gu(Gy,T_),Gu(Yy,E_),Gu(Qy,A_),l_(e)})),I_=Zy("mount",O_),[,R_,D_]=M_,[,L_]=P_,[j_,F_]=N_;const V_=Hp($y,j_),[z_,q_]=Kh(!1),B_=V_("bindCssVars",(e=>{if(z_())throw new hd;e||(e=e=>"--tg-viewport-".concat(Oc(e)));const t=[["height",r_],["stableHeight",i_],["width",o_],["safeAreaInsetTop",b_],["safeAreaInsetBottom",v_],["safeAreaInsetLeft",y_],["safeAreaInsetRight",__],["contentSafeAreaInsetTop",f_],["contentSafeAreaInsetBottom",h_],["contentSafeAreaInsetLeft",d_],["contentSafeAreaInsetRight",p_]].reduce(((t,n)=>{let[r,i]=n;const o=e(r);if(o){const e=()=>{ug(o,"".concat(i(),"px"))};t.push([e,i.sub(e),o])}return t}),[]);return t.forEach((e=>{e[0]()})),z_.set(!0),()=>{t.forEach((e=>{e[1](),hg(e[2])})),z_.set(!1)}})),U_=Zy("expand",(()=>{ld("web_app_expand")})),W_="web_app_request_fullscreen",H_=Ld($y,j_,W_),$_=n_("isFullscreen"),[G_,Y_]=Kh(),[Q_,X_]=Kh();function Z_(e,t){return H_(e,ep((e=>sd(t?W_:"web_app_exit_fullscreen",[Gy,"fullscreen_failed"],e).then((e=>{if("error"in e&&"ALREADY_FULLSCREEN"!==e.error)throw new Ed(e.error);const t=!("is_fullscreen"in e)||e.is_fullscreen;t!==$_()&&l_({isFullscreen:t})}))),"Fullscreen mode change is already being requested",{promise:G_,error:Q_})[0])}const K_=Z_("requestFullscreen",!0),J_=Z_("exitFullscreen"),eb=Object.freeze(Object.defineProperty({__proto__:null,bindCssVars:B_,changeFullscreenError:X_,changeFullscreenPromise:Y_,contentSafeAreaInsetBottom:h_,contentSafeAreaInsetLeft:d_,contentSafeAreaInsetRight:p_,contentSafeAreaInsetTop:f_,contentSafeAreaInsets:u_,exitFullscreen:J_,expand:U_,height:r_,isCssVarsBound:q_,isExpanded:a_,isFullscreen:$_,isMounted:F_,isMounting:D_,isStable:s_,mount:I_,mountError:L_,mountPromise:R_,requestFullscreen:K_,safeAreaInsetBottom:v_,safeAreaInsetLeft:y_,safeAreaInsetRight:__,safeAreaInsetTop:b_,safeAreaInsets:g_,stableHeight:i_,state:t_,unmount:function(){lp(R_),Yu(Xy,C_),Yu(Gy,T_),Yu(Yy,E_),Yu(Qy,A_),j_.set(!1)},width:o_},Symbol.toStringTag,{value:"Module"})),tb="web_app_request_emoji_status_access",[nb,rb,ib]=ep((e=>sd(tb,"emoji_status_access_requested",e).then((e=>e.status))),"Emoji status access request is already in progress"),[,ob,ab]=rb,[,sb]=ib,lb="web_app_set_emoji_status",[cb,ub,hb]=ep(((e,t)=>sd(lb,["emoji_status_set","emoji_status_failed"],l({params:{custom_emoji_id:e,duration:(t||{}).duration}},t)).then((e=>{if(e&&"error"in e)throw new Sd(e.error)}))),"Emoji status set request is currently in progress"),[,db,pb]=ub,[,fb]=hb,mb="web_app_check_home_screen",[gb,vb,yb]=ep((e=>sd(mb,"home_screen_checked",e).then((e=>e.status||"unknown"))),"Check home screen status request is currently in progress"),[,_b,bb]=vb,[,wb]=yb,kb=($p()("openLink",((e,t)=>{if("string"==typeof e)try{e=new URL(e)}catch(n){throw new _d('"'.concat(e.toString(),'" is invalid URL'),n)}t||(t={}),ld("web_app_open_link",{url:e.toString(),try_browser:t.tryBrowser,try_instant_view:t.tryInstantView})})),"web_app_open_tg_link"),Sb=$p()("openTelegramLink",(e=>{const t=e.toString();if(!t.match(/^https:\/\/t.me\/.+/))throw new _d('"'.concat(t,'" is invalid URL'));wh(kb,id())?(e=new URL(e),ld(kb,{path_full:e.pathname+e.search})):window.location.href=t}));$p()("shareURL",((e,t)=>{Sb("https://t.me/share/url?"+new URLSearchParams({url:e,text:t||""}).toString().replace(/\+/g,"%20"))}));function xb(e,t){return new Tc({abortSignal:t,timeout:e}).catch((()=>{}))}const Cb="web_app_request_phone",[Tb,Eb,Ab]=ep((e=>sd(Cb,"phone_requested",e).then((e=>e.status))),"Phone access request is currently in progress"),Ob=Rd("requestPhoneAccess",Tb,{isSupported:Cb}),[,Mb,Pb]=Eb,[,Nb]=Ab;async function Ib(e){const t=Gh(Wh(),await ad("getRequestedContact",{},l(l({},e),{},{timeout:(e||{}).timeout||5e3})));return{raw:t,parsed:Gh(Yh($h([Wh(),Vh(URLSearchParams)]),mu(zh({contact:Yh(Wh(),pu(),zh({user_id:qh(),phone_number:Wh(),first_name:Wh(),last_name:Bh(Wh())})),auth_date:Yh(Wh(),Rh((e=>new Date(1e3*Number(e)))),Fh()),hash:Wh()}))),t)}}const[Rb,Db,Lb]=ep((e=>new Tc((async(e,t,n)=>{try{return e(await Ib(n))}catch(ru){if(ru instanceof Ih)throw ru}if("sent"!==await Ob(n))throw new Cd("User denied access");let r=50;for(;!n.isAborted();){try{return e(await Ib(n))}catch(ru){if(ru instanceof Ih)throw ru}await xb(r),r+=50}}),e)),"Contact is already being requested"),[,jb,Fb]=Db,[,Vb]=Lb,zb="web_app_request_write_access",[qb,Bb,Ub]=ep((e=>sd(zb,"write_access_requested",e).then((e=>e.status))),"Write access request is currently in progress"),[,Wb,Hb]=Bb,[,$b]=Ub;const Gb=function(){const[t,n]=(0,e.useState)(!1);(0,e.useEffect)((()=>{if(Boolean(eb&&eb.mount&&"function"===typeof eb.mount))try{eb.mount(),eb.bindCssVars&&"function"===typeof eb.bindCssVars&&eb.bindCssVars(),eb.expand&&"function"===typeof eb.expand&&eb.expand(),eb.requestFullscreen&&"function"===typeof eb.requestFullscreen&&eb.requestFullscreen().then((()=>{n(!0)})).catch((e=>{console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0437\u0430\u043f\u0443\u0441\u043a\u0435 \u043f\u043e\u043b\u043d\u043e\u044d\u043a\u0440\u0430\u043d\u043d\u043e\u0433\u043e \u0440\u0435\u0436\u0438\u043c\u0430",e)}))}catch(e){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0438\u043d\u0438\u0446\u0438\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u0438 Telegram WebApp",e)}return()=>{if(eb&&eb.unmount&&"function"===typeof eb.unmount)try{eb.unmount()}catch(e){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0440\u0430\u0437\u043c\u043e\u043d\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0438 Telegram WebApp",e)}}}),[]);const r=Boolean(eb&&eb.requestFullscreen);return(0,_t.jsx)(ut,{children:(0,_t.jsxs)("div",{className:"App",children:[r&&(0,_t.jsx)("button",{onClick:async()=>{try{t?eb.exitFullscreen&&"function"===typeof eb.exitFullscreen&&(await eb.exitFullscreen(),n(!1)):eb.requestFullscreen&&"function"===typeof eb.requestFullscreen&&(await eb.requestFullscreen(),n(!0))}catch(e){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043f\u0435\u0440\u0435\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0438 \u043f\u043e\u043b\u043d\u043e\u044d\u043a\u0440\u0430\u043d\u043d\u043e\u0433\u043e \u0440\u0435\u0436\u0438\u043c\u0430",e)}},className:"fullscreen-button",children:t?"\u0412\u044b\u0439\u0442\u0438 \u0438\u0437 \u043f\u043e\u043b\u043d\u043e\u044d\u043a\u0440\u0430\u043d\u0430":"\u041f\u043e\u043b\u043d\u044b\u0439 \u044d\u043a\u0440\u0430\u043d"}),(0,_t.jsxs)("nav",{children:[(0,_t.jsx)(dt,{to:"/",children:"\u0413\u043b\u0430\u0432\u043d\u0430\u044f"}),(0,_t.jsx)(dt,{to:"/sequencer",children:"\u0421\u0435\u043a\u0432\u0435\u043d\u0441\u043e\u0440"}),(0,_t.jsx)(dt,{to:"/savedsessions",children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u043d\u044b\u0435 \u0441\u0435\u0441\u0441\u0438\u0438"})]}),(0,_t.jsxs)(Oe,{children:[(0,_t.jsx)(Ee,{path:"/",element:(0,_t.jsx)("div",{className:"cover-container",children:(0,_t.jsx)("img",{src:"cover.PNG",alt:"\u041e\u0431\u043b\u043e\u0436\u043a\u0430",className:"cover-image"})})}),(0,_t.jsx)(Ee,{path:"/sequencer",element:(0,_t.jsx)(Wl,{})}),(0,_t.jsx)(Ee,{path:"/savedsessions",element:(0,_t.jsx)(Hl,{})})]})]})})};t.createRoot(document.getElementById("root")).render((0,_t.jsx)(e.StrictMode,{children:(0,_t.jsx)(Gb,{})}))})()})();
//# sourceMappingURL=main.8526422a.js.map